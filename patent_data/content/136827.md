# CONTROL SYSTEM FOR CIGARETTE WRAPPING AND PACKAGING SYSTEM

## Claims
Verfahren zum Steuern eines Zigarettenwickel und verpackungssystemes mit den Schritten Zählen der Zahl von von einer Zigarettenwickelmaschine zu einem Vorratsmechanismus geförderten Zigaretten Zählen der Zahl von von dem Vorratsmechanismus zu einer Verpackungsmaschine geförderten Zigaretten periodisches Berechnen des gegenwärtigen Reservebetrages X in dem Vorratsmechanismus auf der Grundlage der Zählschritte Vergleichen des gegenwärtigen Reservebetrages X mit einem gewünschten Reservebetrag und Steuern der Geschwindigkeit der Verpackungsmaschine gemäß dem Resultat des Vergleichsschrittes dadurch gekennzeichnet, daß der gewünschte Reservebetrag durch die folgenden Schritte erhalten wird

## Description
The present invention relates to a method of controlling a cigarette wrapping and packaging system. In a system in which a cigarette wrapping machine is operatively combined with a cigarette packaging machine, any stopping of one machine forming a system involves stopping of the other machine, resulting in low operation efficiency of the system. Furthermore troubles occur when the stopped machine is restarted and low quality products are produced. With a view to overcoming these problems, a control system in which a reservoir mechanism is provided between the machines in the system and the operation speed of one machine is changed depending upon the content of the reservoir mechanism has been proposed in, for example, Japanese Laid Open Patent Application No. 51 133500. In that system, a detector is disposed in a suitable position of the reservoir for detecting the content in the reservoir mechanism. Control to change the speed of machines is accomplished by detecting whether or not the cigarettes which are reserved in the reservoir reach at the position. Measuring the reserve amount of the cigarettes by detecting the level thereof in the reservoir makes it difficult to precisely detect the increase or decrease in the reserve amount. A number of detectors may be provided in the reservoir for carrying out the precise measurement. In such a system, even if a number of detectors are provided in the reservoir it is insufficient to carry out the control in consideration of the daily changing frequency and duration of the machine breakdowns and the difference of operation conditions due to variation of machine performance. The control becomes inflexible, resulting in that the effective utilization of the reservoir and machine efficiency cannot be largely enhanced. It is also known from FR A 2349288 to detect the rate at which cigarettes are received by a reservoir mechanism so as to control the speed at which the mechanism operates and, thereby, the length of time for which cigarettes are held in the reservoir mechanism No control is exercised over the speed of a packaging machine which receives cigarettes from the mechanism. It is an object of the invention to provide a method of control which takes into account fluctuations in the operating efficiencies of the making and packaging machines so as to optimise overall operating efficiency. In accordance with the invention there is provided a method of controlling a cigarette wrapping and packaging system comprising the steps of counting the number of cigarettes conveyed to a reservoir mechanism from a cigarette wrapping machine The invention thus provides for variation in the desired reserve level on the basis of the measured operating efficiencies of the two machines, which assures that the looked for improvement in overall operating effciency is achieved. Further steps may be taken in the derivation of the desired reserve amount as set forth in Claims 2 and 3 to ensure that the reservoir does not become too nearly full or empty. In the accompanying drawings Referring now to Fig. 2, there is shown an embodiment of a cigarette wrapping and packaging system which is controlled by a control system of the present invention. In Fig. 2, reference numeral 1 represents a cigarette wrapping machine, 2 a cigarette packaging machine and 3 a reservoir mechanism disposed between the wrapping and packaging machines 1 and 2 which directly connects the machines 1 and 2 each other. The cigarette wrapping machine 1 produces paper wrapped cigarettes at a constant rate and feeds the produced cigarette to the reservoir mechanism 3. The reservoir mechanism 3 has an entrance which receives the cigarettes which have been fed from the wrapping machine 1 and an exit from which the cigarettes are fed out to the packaging machine 2. The reservoir mechanism 3 is capable of changing the amount of reserved cigarettes depending upon the incoming and outgoing cigarettes. Explanation of the operation in detail is omitted since it has no direct relation with the subject of the present invention. The cigarette wrapping machine 2 may be operated at three modes such as low, medium and high speeds and is adapted to package twenty cigarettes which has been fed from the wrapping machine 1 in a casing. The wrapping machine 1 is provided with a detector 1a such as photo electric tube which detects each one of the cigarettes which is to be fed to the reservoir mechanism 3. The packaging machine 2 is provided with a similar detector 2a such as photo electric tube in the vicinity of the exit thereof for detecting each one casing twenty cigarettes which are fed out. Referring now to Fig. 3, there is shown an embodiment of the control system for the system of Fig. 1. In Fig. 3, reference numeral 10 represents a counter providing a one hundredth frequency divider having one input connected with a detector 1a. Accordingly the counter 10 receives one pulse from the output of the detector 1a each time when the detector 1a detects one cigarette. The counter 10 generates one pulse at the output for detection of one hundred cigarettes. On the other hand, counter 11 is a one fifth frequency divider and has an input connected with a detector 2a. Accordingly the counter 11 receives one pulse generated at the output of the detector 2a each time when the detector 2a detects one casing twenty cigarettes . The counter 11 generates one pulse at the output for each detection of five casings of cigarettes. Reference numeral 12 represents a circuit for generating a wrapping machine operation signal which may be a contact of a magnet switch for a motor for driving the wrapping machine and 13 a circuit for generating a packaging machine operation signal which may be a similar contact. Each circuit outputs different levels of signals when in operation and in stop. A driving motor 14 may be speed switched at three speeds such as low, medium and high speed by means of a motor control circuit 15. A central processing control device 20 is adapted to carry out signal processing and control for switching the speed of the motor 14 by controlling the circuit 15 in response to the signal from the counters 10 and 11 and the circuits 12 and 13. The central processing control device 20 comprises a central processing unit CPU 20a such as microprocessor, input and output devices 20b, a bus 20c, a read only memory ROM 20d, and a random access memory RAM 20e. In the central processing control device 20, the CPU 20a executes various jobs which will be hereafter described in accordance with a program stored in the ROM 20d. The data required for the job and the data result from the job are stored in the RAM 20e. The RAM 20e is backed up by a back up power source 20f so that the data is prevented from being erased since the data stored in the RAM may be eased when the power is turned off. The first job executed by the CPU 20a is to calculate the amount of the cigarette reserved by the reservoir mechanism by accomplishing the calculation whenever the signals from the counters 10 and 11 are received via I O 20b and bus 20c. If the reservoir mechanism reserves a certain amount of the cigarettes which were reserved on the day before the calculation its content is stored in the RAM 20e. Accordingly the calculation is accomplished in consideration of the value. Thereafter the current reserve amount X may be calculated only by addition and subtraction of the result. When CPU 20a receives an operation signals 12a and 13a shown in Fig. 4 via I O 20b and bus 20c from the circuits 12 and 13 respectively, it samples these signals in timed relationship with a 1Hz reference timer signal generated by CPU 20a per se. Sampling is accomplished during each wrapping machine stop time t₁₁, t₁₂, ...,t Average stop time of the wrapping machine Average stop time of the packaging machine Operation effeciency of the wrapping machine Operation efficiency of the packaging machine If the empty and full state of the cigarettes in the reservoir mechanism are assumed O and x respectively and the number of the cigarettes fed for an hour when the operation efficiency of the wrapping machine is 100 is assumed to be a, the CPU at first calculates an optimum reserve amount y from the operation efficiency α of the wrapping machine and the operation efficiency β of the packaging machine as follows Different weighting of respective machines is required due to the factors of the operation efficiency and the like, the above mentioned reserve amount y may be corrected by using weighting corrections u₁ and u₂ as follows A margin amount for preventing the machine from being stopped due to the fact that the reservoir mechinism becomes full or empty by one stop of either machine may be calculated by CPU 20a. A margin y₁ for one stop of the packaging machine in a full direction is calculated upon the basis of the average stop time tβ as follows CPU 20a presets a desired value at which the operation speed of the packaging machine is switched in response to the optimum reserve amount Y obtained as mentioned above. Specifically a given value Z is preliminarily stored by a program, and the desired value Y Z is preset by the value Z and the optimum reserve amount Y. The desired value is compared with the current reserve amount X in the CPU 20a. The result of the comparison is outputted to the motor control circuit 15 via the bus 20c and the I O 20b so that the driving motor 14 for the packaging machine is speed controlled. The control is carried out in a manner shown in Fig. 6. When X Y Z, an high speed signal is generated and high speed operation is carried out until Y X and a medium speed signal is generated when Y X. When Y Z Z, a low speed signal is generated so that low speed operation is accomplished until Y X and a medium speed signal is generated when Y X. When X Y Z or Y X Z and the packaging machine is operated at a medium speed, the medium speed signal is kept. The flow chart of the jobs which CPU 20a executes in accordance with the program is shown in Figs. 7 to 10. In a flow chart of Fig. 7 an initial preset is carried out depending upon the start of the jobs. At steps S1 and S2 judgement whether X Y Z or X Y Z is carried out. X and Y which have been obtained in the previous operation and stored in RAM are used. As a result of the judgement, operation speed for the packaging machine is preset at steps S3, S4 and S5. After presetting the speed, a certain time T, an accumulated stop time of the wrapping machine tα , accumulated stop time of the packaging machine tβ and the data relating to the number of stops m, n and a speed change memory M Thereafter the calculation shown in the flow chart of the Fig. 8 is carried out in response to the operation signal from the machines. At step S10, judgement is made whether or not time T has passed one hour. If the time T has not passed one hour, then it is judged whether or not there is reference timer signal at step S11. If not, the program proceeds to a flow chart for an optimum reserve amount calculation which will be described in Fig. 9. If there is a signal, then the time T is added with 1 at step 512. Thereafter it is judged whether or not the wrapping machine is stopped at step S13. If stopped, the stop time tα is added with 1 at step S14. It is judged whether or not the stoppage of the wrapping machine is cancelled at step S15. If stopped, the number of stops of the wrapping machine m is added with 1 at step S16. If not at steps S13 and S15 and after completing step S16, the program proceeds to step S17 at which it is judged whether or not the wrapping machine is stopped. If stopped, the stop time tβ is added with 1 at step S18. Then it is judged whether or not the stoppage is cancelled at step S19. If cancelled, the number of stops η is added with 1 at step S20. If it is judged at step S10 that one hour has passed, the operation efficiency of the wrapping machine α is calculated at step S21, the operation efficiency of the packaging machine β is calculated at step S22, the average stop time of the wrapping machine tα is calculated at step S23, the average stop time of the packaging machine tβ is calculated at step S24. Thereafter T, tα , tβ , m, n are cleared at step S25. Speed change memory M In the flow chart shown in Fig. 8, if the judgement is No at steps S11, S13, S15, S17 and S19 and after the completion of steps S20 and S26, the program proceeds to the flow chart for calculating an optimum reserve amount shown in Fig. 9. The reserve amount y is calculated from the efficiency at an initial step S30 of the flow chart of Fig. 9. A margin y₁ for one stop of the packaging machine is calculated at next step S31 and a margin y₂ for one stop of the wrapping machine is calculated at step S32. Thereafter judgement on x y₁ y y₂, y y₂ and y x y₁ is accomplished at steps S33 to S35. After the optimum reserve amount is determined, the program sequence proceeds to a flow chart for presetting the speed shown in Fig. 10. The current reserve amount X is calculated at an initial step S40. It is judged at step 40a whether the speed change memory M Although the desired value at which the speed of the packaging machine is changed is preset depending upon the optimum reserve amount in the afore mentioned embodiment, it may also be preliminarily preset to a fixed value. In this case, calculation of the operation efficiency and the average atop time upon the basis of the operation signals for the wrapping and packaging machines is eliminated, resulting in simplification of the system. For example, when control including three speeds such as low, medium and high speeds and four presetting and speed changing are shown in Figs. 11 and 12 and the switching operation is illustrated in Fig. 13. Control including three speeds and three presettings is shown in Figs. 14 to 16. Only one numerical value Z is preset. If a number of values Z₁, Z₂, ..., Z The number of cigarettes which are conveyed to and from the reservoir mechanism by means of counters. The reserve amount is calculated upon the basis of the counts. The calculated reserve amount is compared with the desired value. The operation speed of the packaging machine is changed in response to the comparison result. Accordingly the reserve amount may be controlled at higher precision while uneven counting is made by conventional level detection. More preferable operation speed control is made possible. Particularly, in a preferred embodiment in which a desired value is preset by using the optimum reserve amount which is calculated upon basis of the operation signal of each machine, the reserve content amount which is to be desired value is automatically shifted and corrected depending upon various operation conditions of the system such as operation efficiency and average stop time. Therefore more effective utilization of the reserver and improvement in the efficiency of machines is made possible.