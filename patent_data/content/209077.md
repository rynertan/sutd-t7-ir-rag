# APPARATUS FOR DETECTING DEFECTS ON A BOTTLE MOUTH WITH A SCREW THREAD

## Claims
Vorrichtung zum Detektieren von Fehlern an einem mit einem Schraubgewinde ausgestatteten Flaschenhals 3 , mit einer ringförmigen Beleuchtungseinrichtung 1, 30 , die oberhalb einer zu untersuchenden Flasche 2 Konzentrisch zu der Flaschenachse angeordnet ist und den gesamten Umfang des Flaschenhalses 3 beleuchtet,

## Description
The invention relates to an apparatus for detecting defects on a bottle mouth with a screw thread comprising an annular illuminator disposed above a bottle to be detected and concentric with the axis thereof for shining the entire periphery of the bottle mouth. Some of glass bottles for liquor or soft drink, newly manufactured or recovered from market for resue, have flaws, scratches and cracks on their bottle mouths. These defects cause incomplete airtight sealing of a bottle mouth and sanitary problems with respect to liquor or soft drink filled in the bottles. Accordingly, it is necessary to detect the bottle mouths of the bottles to omit the bottles with defects. Various kinds of methods of detecting defects on a bottle mouth have been proposed. In each method, a bottle to be detected is rotated through 360 to detect the whole part of a screw thread formed on the periphery of the bottle mouth and the image of the entire screw thread is formed through a linear senser or TV camera. The image of the screw thread is converted into electric signals to be processed. However, in these conventional methods, a mechanism for rotating each bottle to be detected is indispensable thereby to cause a complex structure, increase of the number of structural members and raise of manufacturing cost. Further, as the entire part of a screw thread is detected during one rotation of each bottle, the entire part thereof cannot be detected instantly. Therefore, a great number of bottles cannot be detected for a short time. The document EP A 0 047 936 discloses an apparatus for detecting defects on a bottle having a concave mirror with a reflecting surface and a video camera concentric with the axis of the mirror disposed. A conical mirror has a reflecting surface and is disposed in the center of the concave mirror. Due of the conical mirror, the entire opening of the bottle mouth and the inner surface of the bottle mouth cannot be inspected since the conical mirror is not inverted and the base of the conical mirror disturbs reflecting light beams emitted from the surfaces. The US Patent US A 4 454 542 is related to a defect detecting apparatus by which the image of an object under inspection is formed and the picture element signals are stored. The picture signal elements are accumulated for each of the regions which form parts of the image. The results of the accumulations for regions proximate to each other are compared and a defect is determined from the result of the comparison. A bottle to be inspected is illuminated by an annular lamp and a diffusion plate. The illuminating device has a through hole in the center of the diffusion plate, so that light reflected from the bottle s mouth portion advances upwards through the hole to a camera, set over the illuminating device. Reflecting means to reflect light beams in a manner to create planar images of the bottle s mouth are not provided. It is an object of this invention to provide an apparatus for detecting defects on a bottle mouth with a screw thread, which can detect instantly even a small defect on the entire periphery of the bottle mouth without rotating each bottle and which has a simple construction. According to this invention an apparatus for detecting defects on a bottle mouth is provided, wherein The present invention also provides an annular illuminator which has a plurality of light sources arranged in slits of an annular body for emitting light beams and wherein the slits are directed obliquely ownward within the annular body. Thereby the light sources are directed in a tangential direction of the bottle mouth. In another embodiment of the invention the annular illuminator has an annular light source to emit uniformly diffused light on the entire peripheral surface of a bottle mouth. The foregoing objects and other objects as well as characteristic features of the invention will become more apparent from the following detailed description and the appended claims when read in conjunction with the accompanying drawings. In the accompanying drawings FIG. 1 shows a basic structure of an apparatus for detecting defects on a mouth with a screw thread of a bottle. An annular illuminator is designated by reference numeral 1. The annular illuminator 1 is disposed over a bottle 2 so that the axis of the mouth of the bottle 2 is coincided with the axis of the annular illuminator 1. The annular illuminator 1 may be formed in such a manner that a plurality of light sources each emitting a beam of light light beam are disposed annularly or may be an annular light source emitting uniformly diffused light. The relative positional relationship between the annular illuminator 1 and the bottle 2 to be detected and directions in which light beams are cast on the surface of the bottle 2 are properly selected depending on what method is adopted for detecting defects on the mouth 3 of the bottle 2. Over the annular illuminator 1 is disposed a reflecting mirror 5 having an inner reflecting surface 5a in the form of an inverted truncated cone in such a manner that the axis of the mirror 5 is coincided with the axis of the annular illuminator 1. The images of respective portions of the mouth 3 are formed concentrically on the mirror 5. Further, over the reflecting mirror 5 is disposed a CCD camera 6 charge coupled device camera as a two dimensional photoelectric converter in which, for instance, a plurality of photoelectric converting elements are arranged in a matrix pattern of 100 rows x 100 columns. The photoelectric converting elements produce picture element signals corresponding to the brightness level of each portion of an image formed on the mirror 5. The CCD camera 6 is connected to an operation unit 7 which processes picture element signals produced by the CCD camera 6 thereby to judge existence of defects on the bottle mouth 3. A principle of forming two concentric circular images of the bottle mouths 3 will now be explained. FIG. 2 is a view for showing an image of the bottle mouth formed on the reflecting mirror 5 disposed over the bottle 2 and having an inner reflecting surface in the form of an inverted truncated cone. In FIG. 2, a light bundle ℓ₁ on a certain vertical plane emitted from the outer surface of the bottle mouth 3 goes obliquely upwardly and reflects on the reflecting surface 5a of the mirror 5 thereby to change its course into the vertical direction. As two axes of the bottle mouth 3 and the mirror 5 are coincided with each other, all light bundles emitted from the entire outer peripheral surface of the bottle mouth 3 reflect on the mirror 5 thereby to go vertically upwardly in the same manner as the light bundle ℓ₁. Accordingly, a circular image S₁ of the outer surface of the bottle mouth 3 is formed as viewed in the lower direction in FIG. 2. The image S₁ is located in the inner region in FIG. 2. In contrast, a light bundle ℓ₂ emitted from the inner surface of the bottle mouth 3 also goes obliquely upwardly and reflects on the mirror 5 thereby to change its course into the upper direction. Thus, a circular image S₂ of the inner surface of the bottle mouth 3 is formed as viewed in the lower direction. The image S₂ is located in the outer region adjacent to the inner region where the image S₁ is formed in FIG. 2 and the above two images S₁, S₂ are concentric with each other. In this manner, the image of the bottle mouth 3 has a shape such that the inner and outer surfaces of the bottle mouth 3 are unfolded concentrically. If, for example, there is a defect d on the outer surface of the bottle mouth 3, an image f₁ is viewed in the inner region S₁ and an image f₂ is viewed in the outer region S₂. In this manner a defect forms two images f₁, f₂ in their respective regions S₁, S₂ and the two images f₁, f₂ are located on the same diameter line line passing by the center O of the image I . That is, in FIG. 2, the defect image f₁ is formed by light emitted from the outer surface of the bottle mouth 3 while the defect image f₂ is formed by light passing through the wall of the bottle mouth 3. FIGS. 3 through 8 are views for showing an embodiment in which the images of defects to be detected are brightened in the dark image I₁ FIG. 5 of the inner and outer surfaces of the bottle mouth 3 when a plurality of light beams emitted from an annular illuminator 30 are cast on the bottle mouth 3 in its tangential direction. FIG. 3 is a plan view of an annular illuminator 30 having a plurality of slits 31b, 31b, ... 31b which are disposed at a certain space interval in an annular body 31a. The slits 31b are directed obliquely downward in the tangential direction of the bottle mouth 3, respectively, and the outer end of each slit 31b has a light emitting diode LED therein. The illuminator 30 for producing a plurality of light beams is not limited to the structure shown in FIGS. 3 and 4. That is, any type of illuminator in which diffused lights emitted from a light source are focused by some lenses may be used. Lights having a directivity such as laser light can be substituted for the light beams. In addition, lights emitted from a light source may be focused by a reflecting mirror to form light beams. In this case, if the surface of the bottle mouth 3 is smooth, that is, the surface thereof has no defects, the light beams are reflected on its surface in accordance with their angles of incidence, respectively, and accordingly each reflected light beam does not reach the reflecting mirror 5. However, if there is a defect 50 on the bottle mouth 3, light beams are irregularly reflected on an irregular surface of the defect 50 and part of the diffused light beams reaches the reflecting surface 5a to form two bright defect images 50a, 50b in the surface images I₁. In general, the bottle mouth 3 does not necessarily have a completely uniform surface and accordingly, in actuality, light beams are slightly irregularly reflected on the bottle mouth 3. The reflected light beams reach slightly the mirror surface 5a to form two dark images S Accordingly, the two images 50a, 50b of the defect 50 on the bottle mouth 3 shine brightly on the background of the less bright dark circular images S The picture element signals are operated by the operation unit 7 to judge whether or not the bottle mouth 3 has defects. The operation unit 7 will next be explained with reference to FIG. 6. The images obtained by the CCD camera 6 are scanned continuously to output picture element signals electric signals corresponding to brightness of picture element signals which are then amplified by an amplifier 15. The signals amplified thereby are converted from analogue signals into digital signals through an analog to digital converter 16 and then are memorized in corresponding addresses of a data memory 17, respectively. Address signals are input into the data memory 17 through an address circuit 18 in order to read out data therein and data read out of the memory 17 are output to a judging circuit 20. The picture elements of the photoelectric converter are disposed in a matrix pattern of 100 rows x 100 colums for instance. Signals for showing brightness level of each picture element are quantized into 64 values to produce digital signals of 6 bits. When the value is 0, the image is darkest while when the value is 64, the image is brightest. A value of each picture element is memorized in an address corresponding to a position of the picture element, of the memory 17. Judgement of existence of defects will next be explained. FIG. 7 shows a partial image of one fourth of an entire image formed by the CCD camera 6. Four picture elements ℓ₁ to ℓ₄ dotted region corresponding to a defect are bright, while a group hatched region including a great many picture elements except the four elements ℓ₁ to ℓ₄ is slightly bright or dark. The group corresponds to part of the image of the bottle mouth 3. These picture element signals are memorized in the form of digital signals in respective addresses of the memory 17 through the amplifier 15 and the analog to digital converter 16. If the center of data memorized is deviated from a predetermined position O, the center of the memorized data is adjusted by a well known center adjusting circuit 19. The picture element signals are read out in response to address signals output from the address circuit 18. That is, a great many address scanning lines OA, OB, .... OX each extending from the center O in the radial direction are determined at an angular interval of 0.5 . The reading operation is carried out along each address line in the radial direction within a region between inner and outer arched lines R₁, R₂. The horizontal address line A is determined as a datum line and 720 address lines are determined at an angular interval of 0.5 . As a result, 720 groups of picture element signals corresponding to the same number of the address lines are produced. Then, the judging circuit 20 compares a signal of a picture element disposed at a certain distance from the center O on an address line with a signal of one of other picture elements disposed at the same distance as that of the former picture element from the center O on one of other address lines. That is, a subtraction between a signal of an n th picture element as counted from the inside of an address line and a signal of an n th picture element as counted from the inside of one of other address lines is carried out by a subtraction circuit 34. Such a subtraction is carried out with respect to all groups of picture element signals. Each difference between two signals is expressed by binary digits through a comparison circuit 31. That is, if the difference is larger than a reference value inputted from a reference value memory 32, the binary digital number is 1 while if the difference is smaller than the reference value, the binary digital number is 0 . For example, the differences between the picture element signals on the address line OA and the picture element signals on the adjacent address line OB are shown in FIG. 8 a , respectively, while the differences between the picture element signals on the address line OC and the picture element signals on the address line OD are shown in FIG. 8 b . Further, a counter 33 counts the number of 1 , obtained by the comparing operation, indicating a large difference between two picture element signals on two different address lines. This counting operation is carried out with respect to all pairs of two adjoining address lines such as the address lines OA, OB OB, OC OC, OD ...... If the number of 1 is greater than a reference number, the judging circuit 20 outputs a number 1 which means existence of defects on the bottle mouth 3. As the brightnesses of picture element signals at the same distance from the center O on different address lines are almost the same, the picture elements on two address lines properly selected may be compared with each other. The above detecting method is suitable for the use of light beams as shown in FIGS. 3 and 4. In the case of using the light beams cast in the tangential direction of the bottle mouth 3, even if a defect such a flaw or scratch is very small or fine, the light beams are irregularly reflected on the defect and reach partially the mirror surface 5a to form a defect image. Accordingly, even such a small defect can be detected. A modified embodiment of this invention will now be explained with reference to FIGS. 9 to 13. As there is apt to be a defect on a screw thread of the bottle mouth 3, detection of a defect on the screw thread should be mainly considered. In this modified embodiment, the annular illuminator 1 emitting diffused light is used as a light source to shine generally on the bottle mouth 3 and the image of a defect on a screw thread 4 of the bottle mouth 3 is formed darkly in a bright image of the screw thread 4. In FIG. 9, the diffused light emitted from the annular illuminator 1 is reflected on the screw thread 4 to form an image on the mirror 5. When the mirror surface 5a is viewd in the lower direction from upside, the image of the screw thread 4 can be seen brightly in the form of a spiral. If there is a defect on the screw thread 4, the diffused light is irregularly reflected on the defect to reach scarecely the mirror surface 5a. Accordingly, the image 4a of the screw thread 4 has a cut portion 4b therein. The image 4a having the cut portion 4b is detected by the CCD camera 6 to produce each picture element signal corresponding to brightness of each portion of the screw thread 4 through photoelectric converting elements disposed therein in a matrix pattern. The picture element signals are processed by the operating unit 7 to judge existence of defects. That is, analog signals of the picture elements are converted into digital signals through the analog to digital converter 16 to be memorized at their corresponding addresses of the data memory 17. Further, the address circuit 18 outputs each address signal to the data memory 17 and the judging circuit 40 reads out digital data in the data memory 17 from the center of their disposed pattern in the radial direction as shown in FIG. 7. Each of digital data read out is compared with a reference value inputted from a reference value memory 41 FIG. 13 through a comparison circuit 42 to produce binary digital signals. This binary digital signals are converted by a coordinates transforming circuit 43 into digital binary signals in a rectangular coordinate system as shown in FIGS. 10 to 13 in each of which axis of ordinate indicates angular position and whose axis of abscissa indicates distance from a datum plane. That is, the image of the screw thread 4a is shown in a state wherein two divided inclined screw lines 4C₁, 4C₂ are disposed in their respective angular positions deviated slightly from each other. The digital binary signals converted by the coordinates transforming circuit 43 are converted into analog images through a D A converter 45 as shown in FIGS. 10 to 12. A screw line detecting circuit 46 detects the two image lines 4C₁, 4C₂ in the horizontal direction at a predetermined angular interval in response to address scanning signals from an address circuit 44. FIG. 10 shows the image of a normal screw thread 4a. In this case, a detecting means of the judging circuit 40 detects one screw image line 4C₁ along a detecting line a and one screw image line 4C₂ along a detecting line c while the detecting means detects two screw image lines 4C₁, 4C₂ along three detecting lines b, D, b . That is, in the case of a normal bottle, output pattern of the number of screw image lines to be detected is in the form of 1,2,2,2,1 . If there is a defect on the bottle mouth 3, the image of the defect is expressed in the form of a cut portion d₁ or d₂ as shown in FIG. 11 or 12, respectively. In the case of FIG. 11, output pattern is in the form of 1,1,2,2,1 . In the case of FIG. 12, the pattern is in the form of 1,2,2,1,1 . Then, each output pattern is compared with the normal output pattern inputted from a reference pattern circuit 48 to detect existence of defects on the screw thread 4 through a comparison circuit 47. In the above embodiments, a reflected mirror with a mirror surface in the form of an inverted truncated cone is used as an optical means for forming a planar optical image of a bottle mouth. However, the optical means is not limited to those of the embodiments. For example, a prism 25 having an isosceles triangle in section can be used. The prism 25 can refract lights from the bottle mouth 3 so that the lights go upward in parallel with each other. As a result, concentric images of the bottle mouth 3 are formed. Further, a prism 26 with an inverted trapezoid section may be also used. In this prism 26, lights from the bottle mouth 3 are completely reflected on the inclined side surfaces 26a, 26a so that the lights go upward in parallel with each other. Also in this case, concentric images of the bottle mouth 3 are formed. Instead of the above operation unit 7, other operation means can be also used. In the above manner, in this invention, as the images of the inner and outer surfaces of a bottle mouth are formed concentrically by a reflected mirror or prism, the whole portion of the bottle mouth can be detected instantly without rotating each bottle. Accordingly, a mechanism for rotating each bottle is not necessary thereby to cause a simple construction of the apparatus for detecting defects. Further, as the concentrical images of the bottle mouth are converted by a converter into electric signals, a great many bottles can be detected for a short time.