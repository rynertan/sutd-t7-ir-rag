# Apparatus for controlling the movement of a movable element.

## Abstract
Apparatus is disclosed for controlling the movement of a movable element 20 or 22 between an initial starting position and a final stopping position. The apparatus com prises drive means 34 or 36 coupled to the movable ele ment and responsive to motor drive signals for moving the movable element 20 or 22 along a predefined path be tween the starting and stopping positions. The apparatus generates an actual velocity signal indicative of the actual speed of movement of the movable element, a position signal indicative of the distance remaining to travel by the movable element toward the desired stopping position and first and second command velocity signals respectvely indi cative of the minimum and maximum desired velocity levels for such particular distance remaining to travel. A controller 26 is responsive to the position signal for comparing the actual velocity signal with each of the first and second command velocity signals when the value of the position signal indicates the movable element has greater than a predetermined distance to travel, and for issuing the motor drive signals in response to such comparison for applica tion to the drive means 34 or 36 to cause a the accelera tion of the movable element 20 or 22 by the drive means when the comparison indicates the actual velocity of the movable element is less than the minimum desired velocity, b the coasting of the movable element when the compari son indicates the actual velocity of the movable element is more than the minimum desired velocity and less than the maximum desired velocity, and c the deceleration of the movable element by the drive means when the comparison indicates the actual velocity of the movable element exceeds the maximum desired velocity.

## Claims
CLAIMS 1. Apparatus for controlling the movement of a movable element 20 or 22 between an initial starting position and a final stopping position characterized by drive means 34 or 36 coupled to said movable element 20 or 22 and responsive to motor drive signals for moving said movable element along a predefined path between said starting and stopping positions first generating means 38, 42 or 40, 44 coupled to said drive means for generating an actual velocity signal indicative of the actual speed of movement of said movable element second generating means 38, 42 or 40, 44 for generating a position signal indicative of the distance remaining to travel by said movable element toward said desired stopping position third generating means 62 or 64 responsive to said position signal for generating first and second command velocity signals respectively indicative of the minimum and maximum desired velocity levels for such particular distance remaining to travel when the value of said position signal indicates that the movable element 20 or 22 has greater than a predetermined distance to travel and for generating a third command velocity signal having a first state when the actual velocity of said movable element exceeds a predetermined value and a second state when the actual velocity of said movable element is less than said predetermined value when the value of said position signal indicates that the movable element 20 or 22 has less than said predetermined distance and greater than a second predetermined distance to travel to said final stopping position and control means 26 coupled to said first 38, 42 or 40, 44 and third 62 or 64 generating means and responsive to said position signal for comparing said actual velocity signal with each of said first and second command velocity signals when the value of said position signal indicates the movable element 20 or 22 has greater than a predetermined distance to travel and for issuing said motor drive signals in response to such comparison for application to said drive means 34 or 36 to cause a the acceleration of said movable element 20 or 22 by said drive means 34 or 36 when the comparison indicates the actual velocity of said movable element is less than said minimum desired velocity, b the coasting of said movable element 20 or 22 when the comparison indicates the actual velocity of said movable element is more than said minimum desired velocity and less than said maximum desired velocity, and c the deceleration of said movable element 20 or 22 by said drive means 34 or 36 when the comparison indicates the actual velocity of said movable element exceeds said maximum desired velocity and for periodically sensing the state of said third command velocity signal when said movable element 20 or 22 has less than said predetermined distance and greater than a second predetermined distance to travel to said final stopping position, and for controlling the levels of said motor drive signals to cause a the acceleration of said movable element 20 or 22 by said drive means 34 or 36 when said first command velocity signal is sensed at its first state, and b the deceleration of said movable element 20 or 22 by said drive means 34 or 36 when said first command velocity signal is sensed at its second state, 2. Apparatus according to claim 1, wherein said control means 26 includes a ROM addressable by said position signal, a second command velocity signal for each particular value of position signal being stored at a respective address location of said ROM. 3. Apparatus according to claim 2, wherein said drive means 34 or 36 includes a stepper motor and said actual velocity signal is a count of a value indicative of the time between adjacent steps of said motor, 4. Apparatus according to claim 3, wherein the values of said second command velocity signals stored in ROM are each defined by a predetermined count representative of a desired time between steps of said motor, 5. Apparatus according to claim 4, wherein said control means 26 further comprises a RAM for storing said position signal, and a microprocessor for periodically updating the value of said position signal stored in RAM under program control. 6. Apparatus according to claim 5, wherein said microprocessor additionally periodically accesses said position signal from said RAM for use as an address signal to said ROM to access said second command velocity signals, 7. Apparatus according to claim 6, wherein said microprocessor derives said first command velocity signals from the accessed second command velocity signals by adding a predetermined time count to the value of each second command velocity signal accessed. 8. Apparatus for controlling the movement of a movable element 20 or 22 to bring said movable element to rest at a desired stopping position, characterized by a multi phase drive motor 34 or 36 having a drive shaft 86 coupled to said movable element 20 or 22 for driving same, a plurality of electrically conductive coils 76 mounted in displaced relationship about said shaft, and means coupled to said drive shaft and responsive to the selective energization of said coils 76 by respective motor drive signals for causing the corresponding rotation of said drive shaft and movement of said movable element a sensor 38 or 40 coupled to said drive shaft 86 and responsive to the rotation thereof for generating an electrical signal containing information indicating the direction, speed and distance of movement of said moyable element means 42 or 44, 26 for detecting from the distance information indicated by said electrical signal whether said movable element is within a predetermined distance of said desired stopping position first control means 26 for controlling the levels of said motor drive signals in dependence upon the speed information indicated by said electrical signal until said movable element is detected as being within said predetermined distance of said desired stopping position and second control means 26 for controlling the levels of said motor drive signals in dependence upon the direction information indicated by said electrical signal following detection of said movable element being within said predetermined distance of said desired stopping position. 9. Apparatus according to claim 9, wherein said first control means comprises first generating means responsive to the speed information indicated by said electrical signal for generating an actual velocity signal indicative of the actual speed of movement of said mvoable element second generating means responsive to a position signal indicative of the distance remaining to travel by said movable element toward said desired stopping position for generating first and second command velocity indicative of the minimum and maximum desired velocity levels for such particular distance remaining to travel and third control means coupled to said first and second generating means and responsive to said position signal for comprising said actual velocity signal with each of said first and second command velocity signals when the value of said position signal indicates the movable element has greater than a predetermined distance to travel, and for issuing said motor drive signals in response to such comparison for application to said drive means to cause a the acceleration of said movable element by said drive means when the comparison indicates the actual velocity of said movable element is less than said minimum desired velocity, b the coasting of said movable element when the comparison indicates the actual velocity of said movable element is more than said minimum desired velocity and less than said maximum desired velocity, and c the deceleration of said movable element by said drive means when the comparison indicates the actual velocity of said movable element exceeds said maximum desired velocity. 10. Apparatus according to claim 9, wherein said second control means comprises means for selectively turning on and off or reversing predetermined ones of said motor coils 76 in dependence upon the direction information indicated by said electrical signal,

## Description
Apparatus for Controlling the Movement of a Movable ElementThis invention relates to apparatus for controlling the movement of a movable element between an initial starting position and a final stopping position. More particularly, this invention relates to such an apparatus wherein a signal indicative of the actual velocity of the movable element is compared with a signal indicative of a command or desired velocity for the particular distance remaining to travel, with the difference or error signal being used to control the drive mealis for the movable elemenLU.S. Patent Nos. 3,954,163 and 4,091,911 disclose closed loop servo control systems for the d e servo motors used to drive the carriage and print wheel of a serial impact printer.In each of those servo control systems. a command velocity signal is generated for the particular distance to travel of the carriage or print wheel. as the case may be. This command velocity signal is then compared with a signal representative of the actual velocity of the carriage or print wheel. The difference or error velocity signal is used to control movement of the carriage or print wheel during a coarse or velocity mode of servo control.In a subsequent fine or linear mode of servo control. the actual velocity signal is compared with a position signal instead of a command velocity signal, as is conventional. Although the most prevalent form of print wheel type serial impact printers is the closed loop d e servo control system above described there also exit serial impact printers which utilize stepper motors for control of the movement of the carriage and print wheel.For the most part. these stepper motor controlled printers are of the open loop type. i.e.there is no feedback of position or velocity information. Open loops systems have the disadvantage of requiring relatively powerful and expensive stepper motors to insure stability and accuracy.The use of closed loop Systems fur stepper motors is also well known. However, to date such systems have proven relatively coinpiox and costly.It would be desirable to provide a relatively simple and low cost closed loop control system for a stopper motor which would be especially effective for controlling the rotation of a rotary element, such as a print wheel, requiring a relatively high degree of speed in positioning. In accordance with one aspect of tlic invention, the apparatus is characterized by drive means coupled to the movable element and responsive to motor drive signals for moving the movable clcnlcnt along a prcdefined path between the starting and stopping positi iis first generating means coupled lo the drive means for generating an actual velocity signal indicative of the actual speed Or movement of the movable element second generating means responsive to a position signal indicative of the distance remaining to travel by the movable clement toward the desired stopping position for generating first and second command velocity signals respectively indicative of the minimum and maximum desired velocity levels for such particular distance remaining to travel and control means coupled to the first and second generating means and responsive to said position signal for comparing the actual velocity signal with each of the first and second command velocity signals when the value of s tid position signal indicates tioc movable element has greater than a predetermined distance to travel, and for issuing the motor drive signals in rcsponse to such comparison for application to the drive means to cause a the acceleration of the movable element by the drive means when the comparison indicates the actual velocity of the movable element is less than the minimum desired velocity, b the coasting of the movable element when the comparison indicates the actual velocity of the movable clement is more than the minimum desired velocity and less than the maximum desired velocity, and c the deceleration of the movable element by the drive means when the comparison indicates the actual velocity of the movable clement exceeds the maximum desired velocity.It will thus be apparent that the drive means may simply be energized in one direction or the other, or not energized at all. in dependence upon the relationship between the actual velocity signal and the first and second command velocity signals. No range of energization levels is required for the drive means. it can sinipip be turned on full in either direction, or allowed to coast, Ibis significantly reduces the complexity and cost of tile overall system. In accordance with the preferred embodiment, the control means includes a read only memory ROM addressable by the position signal, wherein the second command velocity signal for each particular value of position signal is stored at a respective address location of the ROM and the first command velocity signal is derived from the accessed second command velocity signal. Ovcr the range of distances remaining to travel, the respective values of the first and second command velocity signals define a pair t f offset command velocity profiles for the movable element c.g., print wheel to follow upon movement froni aii initial starting position toward a final stopping position.In accordance with another aspect of the invention, the apparatus is characterized by a multi phase drive niotor having a drive shaft couplcd to said movable element ror diving s tlnc, a plurality Of electrically conductive coils mounted in displaced rel itionship about said shaft. and means coupled to said drive shaft and responsive to the selective energization of said coils by respective motor drive signals for causing the corresponding roLition of said drive shaft and movement of said movable element a sensor coupled to s.rid drive shaft and responsive to the rotation thereof for generating an electrical signal containing information indicating the direction, speed and distance of movement of said movable element means for detecting from the distance information indicated by said electrical signal whether said movable clement is within a predetennined distance of said desired stopping position first control means for controlling the levels of said motor drive signals in dependence upon the speed information indicated by said electrical signal until said movable element is detected as being within said predetermined distance of said desired stopping position and second control means for controlling the levels of said motor drive signals in dependence upon the direction information indicated by said electrical signal following detection of said movable element being within said predetermined distance of said desired stopping position. In order that the invention may be more readily understood, reference will now be made to the accompanying drawings, in which Figure 1 is a block diagrani representation of a printer incorporating the present invention Figure 2 is a block diagram representation of the processor depicted in Figure 1 Figure 3 is a front elevation view of the print wheel motor and presently preferred print wheel sensor depicted in figure 1 Figure 4 is a partial cross sectional view of the print wheel motor and sensor of figure 3 taken along line 4 4 Figure 3 Figure 5 is a schematic circuit diagram of the print wheel comparator depicted in Figure 1 Figures 6 9 show various signal wavcforms of the input and output signals depicted inFigure 5 Figure 10 is a graphical representation of the command velocity trajectories for either the print wheel or carriage depicted in Figure 1 as a function of the distance to travel of such component Figure 11 is a graphical representation of the actual velocity profile for either the print wheel or carriage depicted in Figure 1 as a function of the distance to travel Figure 12 shows the mechanical and rotational relationship of the print wheel or carriage motor to its associated sensor Figure 13 shows the electrical relationship of the print wheel or carriage sensor signals to the presently preferred single coil electronic damping control mode executed by the processor of Figure 1 Figure 14 shows the electrical relationship of the print wheel or carriage sensor signals to an alternative dual coil damping control mode executable by the processor of Figure 1 Figure 15 shows the sine wave induced in one of the print wheel or carriage sensor coils during electronic damping of the associated motor Figure 16 is a front elevation view of the print wheel motor of Figure 3 with an alternative print whed sensor and A Figure 17 is a partial cross sectional view of the print wheel motor and sensor of Figure 16 taken along line 17 17 of Figure 16.Referring to Figure 1, an impact printer 10 is shown incorporating the present invention. ihe printer 10 is depicted as being of the print wheel type. hut it will become apparent from tile discussion below that the iiivenji n is equally applicable to other types of serial printers, as well as to othcr products and devices, such as disk drives, which require the controlled lincar or radial movement of a movable element.The printer 10 is capable of communicating with a host controller 12 by means of a host data bus 14. As will be discusscd ill more detail below, tile host controller 12 is capable of supplying both command data and character data over the bus 14 to the printer 10, whereas the printer 10 is capable of supplying both character dat i and status data over the bus 14 to the host controller 12.In addition, the host controller 12 is capable of supplying various control signals to be discussed below over respective control lines 16 to the printer 10, as well as a special control signal, i.e., RESTORE on a line 18 for the purpose of resetting all electronic circuits and retuning various movable mechanical components, such as a carriage 20 and print wheel 22 shown in block form in Figure 1 to home positions, as is conventional.The printer 10 includes an interface 24 for receiving. storing and forwarding the various data and signals alluded to above between the host controller 12 and a processor 26 of the printer 10. The processor 26 will be described in more detail below with reference toFigure 2. The interface 24 communicates with the processor 26 by means of a printer data bus 23, control lines 30 and a RESTORE line 32. Still referring to Figure 1, the carriage 20 and print wheel 22 are driven by a carriage motor 34 and a print wheel motor 36, respectively. lii accordance with the present invention, the motors 34 and 36 are stepper motors, desirably of tloe 4 phase, permanent magnet type. In the case of the carriage motor .34 it may be coupled through a conventional cable pulley or belt arrangement not shown to the carriage 20 for driving same along a prescribed linear path. whereas the print wheel 22, which may be of the daisy wheel type, can be loaded directly or geared onto the drive shalt of the print wheel motor 36 in a known manner. Mechanically coupled to the carriage motor 34 is a carriage sensor 38 which generates a pair of 900 phase displaced substantially sinusoidal signals vhose amplitude and frequency are proportional to the speed of the motor 34 and which provide an indication or the position, direction lild speed Or movement or the carriage 20 in a manner to be described below.The print wheel motor 36 has a similar sensor 40 for generating a similar pair of 90 phase displaced substantially sinusoidal signals A C and B D ligure fi which provide an indication f the position. direction and speed of rotation of the print wheel 22. The pair of phase displaced sinusoid il outpul signals from the carriage sensor 38 are applied to a carriage comparator 42 which generates four, 900 phase displaced square wave CARRIAGE SENSOR signals, as well as a CARRIAGE VELOCITY signal, for application to the processor 26. The relationship of these latter five signals to the two phase displaced sinusoidal signals, as well as the manner in which they are processed by the processor 26 will be described in more detail below with reference to Figures 5 9.A print wheel comparator 44 substantially identical to the carriage comparator 42 is coupled to Ihe outputs of the print wheel sensor 40 for developing four, 900 phase displaced square wave PRINT WHEEL SENSOR signals and a PRINT WHEEL VELOCITY signal. The processor 26 generates four CARRIAGE MOTOR DRIVE signals for application through respective drivers 70 to the carriage motor 34. Likewise. the processor 26 generates four PRINT WHEEl DRIVE signals for application through respective drivers 72 to the print wheel motor 36. All of the drivers depicted in Figure 1 are conventional and will not be described in detail herein. The printer 10 also includes a ribbon motor 46 for advancing a supply of ribbon not shown . typically contained in a ribbon cartridge not shown mountable to tlle carriage 20 linearly movable past a printing station. T he ribbon motor 46 is preferably a 4 phase stepper motor driven by four drive signals from the processor 26, as supplied through conventional driver circuits 48. Similarly, the printer 10 includes a paper feed niotor 50, also preferably a 4 phase stepper motor. driven hy Four drive signals from the processor 26, as supplied through additional conventional driver circuits 52. As shown in Figure 1, the printer 10 further includes a hammer solenoid 54 for controlling the impact of a hammer element not shown mounted to the carriage 20 in alignment with a print position adjacent the print wheel 22. as is conventional. When the solenoid 54 is energized, a selected character element on the print wheel 22 is impacted by the hammer element against an adjacent platen not shown . as is also conventional. AHAMMER FIRE signal to energize the solenoid 54 is generated by the processor 26 and supplied to the solenoid 54 through a conventional hammer control circuit 56.Lastly, the printer 10 includes a ribbon lift solenoid 58 for controlling the selective lifting of ribbon in a vertical direction, such as in the cise of multi colored ribbon. A RIBBON LIFT signal from the processor 26 is supplied through a conventional driver 60 to selectively energize the solenoid 58.Before describing details of the processor 26, it would be helpful to review the nature and charactcr of the control and data signals communicated between the host controller 12 and the printer 10. Insofar as the data transmitted ovcr the busscs 14 and 28, it preferably consists of 16 bit words transmitted as two, 8 bit words in series. Ihe four high order bits of the 16 bit word contain command information and the twelve lowerorder bits contain operational information, such as information rclating to the desired positions of the carriage 20, print wheel 22, paper or ribbon, in the case of data applied to the printer 10, or information relating to the actual positions of the carriage 20. print wheel 22, paper or ribbon, as wcll as other status information. in the case of data applied by the printer 10 to the host controller 12.With respect to incoming data relating to print whecl position, the high order four bits would contain a PRINI WHEEL command, signifying that the succeeding twelve bits relate to the position of the print wheel 22. Actually. only the seven lowest order bits of the twelve bit field would represent desired position information for the print wheel 22.This information is preferably in the form of a unique 7 bit ASCII code indicating a particular character clement on the print wheel 22. The processor 26 converts this code into an S bit word signifying the posit. 1 of that character element on the print wheel 22 relative to a predetcrmillcd reference or llolnc location. as is conventional. With respect to incoming data relating to carriage position, the host controller 12 monitors the actual position of tlie carriage 20, such information being feedback by the printer 10 on the data bosses 28 and 14. The host controller 12 will then issue a CARRIAGE command in the high order four bits of the 16 bit data field, followed by the lower order twelve bits identifying tlie direction by the fifth highest order bit and arnount of carriage motion requilcd by the remaining sixth through sixteenth bits . The carriage 20 may be moved in increments of 1 120 inch, as is conventional. Typical status information forwarded on the data busses 28 and 14 from the printer 10 to the host controller 12 include such signal as PAPER OUT and RIBBON OUT, as well as various diagnostic data. Obese are sent one at a time in the lowest 12 biis of a pirticular 16 bit data field, the highest 4 bits signifying the type of stittis information to be forthcoming. Ibe four control lines 30 from the interface 24 supply the printer 10 with information relating to the state of the various input and otitpiit registers not shown in the interface 24. as well as DATA STROBE signals for clocking the data transfer along the bus 28.The DATA STROBE signals are additionally applied along control lines 16 for clocking the transfer of data along the data bus 14 between the interface 24 and the host controller 12.The presently preferred processor 26 will now be described with reference to Figure 2. As shown, the processor 26 includes a master processor 62, a slave processor 64 and an I O expander 66. The master processor 62 is preferably a multi function integrated circuit IC chip comprised of an 8 bit microprocessor section, a random access memory RAM section capable of storing 64, 8 bit words, and a read only memory ROM section capable of storing 1,024, 8 bit words. The master processor chip 62 also includes all necessary internal busses and control lines necessary to transfer data between and among the microprocessor, RAM and ROM sections thereof.A presently preferred IC chip having the characteristics of the master processor 62 as just described is the Lintel 8048 microcomputer chip manufactured by Lintel Corporation of Santa Clare, California. nle master processor 62 is primarily responsible for generating the four CARRIAGE iOTOR DRIVE signals to drive the carriage motor 34 and the RIBBON LIFT signal to control the ribbon lift solenoid 58. Additionally. the master processor 62 issues control signals on control lines 68 for controlling the operation of the slave processor 64. In this respect, the control lines 68 are coupled between control output terminals of the master processor 62 and control input terminals of the slave processor 64.The master processor 62 initially receives all command and operational data from the interface 24 along the data bus 28, and either stores it in a location in its RAM, such as when the data relates to the carriage 20, or directs it back along the data bus 28 to the slave processor 64 for processing and or storage therein. The master processor 62 also receives the DATA STROBE and interface register status signals from the interface 24 on lines 30. as well as the RESTORE signal from the interface on line 32. Finally, the mastcr processor 62 receives the five output signals from the carriage comparator 42, i.e., the four. 900 phase displaced CARRIAGE SENSOR signals and the CARRIAGE VELOCITY signal.In the case of controlling the motion of the carriage 20, and as previously indicated, a signal representing tlle distance to travel by the ctrri ge 20 from its ctirreilt stopped position to a newly desired stopped position will be transmitted along the busses 14 and 28 as the lowest 11 bits of a 16 bit field. Ibe next llighest, 12th bit. signifies the desired direction of movement Of the carriage 20, and the highest order four bits identiFy the character of the lowest 12 bits, i.e.. CARRIAGE command.The master processor 62 loads the 11 bit distance to travel data into appropriate RAM locations. Ibis data is then periodically accessed and used as address signals for the ROM internal lo tlle mastcr processor 62 in order to generate command velocity data in a manner to be described in more detail below with reference to Figures 10 and 11. lie command velocity data generated by the master processor s internal ROM is compared with data representative of the actual velocity of the carriage 20. This latter data is derived by the master processor 62 by running a countcr between steps of the carriage motor 34, as detected by the processor 62 through analysis of the four, 900CARRIAGE SENSOR signals in a manner to be described in more detail below. The actual velocity data is nonnally stored at a predetermined RAM location internal to the processor 62 and is accessed when a comparison of such data to the command velocity data is to be made.During such comparison. the processor 62 computes the difference between the actual and command velocity data and generates the four CARRIAGE MOTOR DRIVE signals representative of the results of such computation, i.e., a velocity error signal, in order to drive the carriage motor 34 in the appropriate direction and speed so as to tend to match the original command velocity. It should be noted that the command velocity data actually stored in RAM represents a desired count or time between adjacent steps of the carriage motor. This desired count is compared with the count representative of the actual velocity of the carriage 20. New updated values of carriage command velocity are generated by the processor 62 as the carriage 20 is moved toward the iiewly desired stopping positions, i.e., the distance tO travel data originally supplied by t e host controller 12 and loaded into a RAM location in the processor 62 is continuously reduced in value toward zero. Tl0e mister processor 62 is able to munilor movement of the carriage 20 and periodically reduce the value of the distance to travel data stored in the processor s internal RAM through the fourCARRIAGE SLNSOR signals generated by the carriage sensor 38. Basically, the processor 62 detects alternate zero crossings or each of the four signals and decrements the distance to travel value in ItANI upon each such detection. As the distance to travel value decreases. different ROM locations will be addressed in order to generate pmgressively lower command velocity values. This mode of operation of the processor 62 shall be referred to as a coarse velocity mode of operation.When the carriage has been moved to within a predetermined number of motor steps of its desired stopping position, e.g., three, the processor 62 enters a fine velocity mode of operation. In this mode, the processor 62 senses the state of a velocity signal which is true when the actual velocity of the carriage exceeds a predetermined level and is false when it does nOL Ultimately, the carriage 20 will have been moved to within one motor step of its desired stopping position. After a predetermined time delay, the master processor 62 will enter a damping mode of operation. where the carriage 20 is reliably moved and stoppcd at the next succeeding step of the carriage motor 34.Ihis entire procedure as just described is essentially identical with respect to movement of the print wheel 22 and will be discussed in much greater detail below in connection with Figures 10 15. At this time, it should be noted that the master processor 62 achieves all the functions above de.scribed under control of a suitable microprogram stored in its internalROM.The slave processor 64 depicted in Figure 2 is preferably a multi function IC chip which, like the mastcr processor 62, is composed of an 8 bit microprocessor section, a RAM section capable of storing 64, 8 bit words, and a ROM section capable of storing 1,024, 8 bit words. The slave processor 64 also includes all necessary internal busses and control lines necessary to transfer data between and among the various sections thereof. A presently preferred IC chip having the characteristics of the slave processor 64 as just described is the lintel 8041 microcomputer clip manufactured by Intel Corporation.As with the ROM of the master processor 62. the ROM of the slave processor 64 stores both velocity command information and a suitable microprogram for controlling the operation of the slave processor 64. The slave processor 64 is primarily responsible for generating the four PRINT WHEEL MOTOR DRIVE signals to drive the print wheel motor 36. the four PAPER FEED MOTOR DRIVE signals to drive the paper feed motor 50, the four RIBBON MOTOR DRIVE signals to drive the ribbon motor 46, and the HAMMER FIRE signal to control the liamnier solenoid 54. The slave processor 64 is connected to the data bus 28 for receiving data from the interface 24 via the mastcr processor 62 which relates to control of the print wheel motor 36, paper feed motor 50, ribbon motor 4 , and hammer solenoid 54.In the case owt control of the print wheel motor 36. the data forwarded along the data bus 23 is a 16 bit signal comprised of two, 3 bit words, wherein the 4 high order bits signify a PRINT WHEEL command and the 7 lowest order bits represent in ASCII code the character element on the print whccl 22 desired to be impacted by the hammer, as discussed above. The slave processor 64 converts the incoming ASCII code into an 8 bit word indicative of the rotational position of the character element around the print wheel 22. It then comparcs this desired position information with another 8 bit signal stored in the RAM of the processor 64 indicative of the acttial rotational position of the print wheel 22. The result of the comparison is a distance to travel position signal which is applied as an address to the internal ROM of the processor 64 to generate the desired command velocity data in a manncr to be described in more detail below with reference to Figures 10.The actual velocity of the print wheel 22 is derived by the processor 64 in a similar manner as the processor 62 derived the actual velocity of the carriage 20. Specifically, the processor 64 uses internal RAM locations as a countcr which it resets at each step of the print wheel motor. Successive motor steps are detected from the PRINT WHEELSENSOR signals supplied to the processor 64 in a manncr to be described below. The actual velocity data is then compared with the command velocity data to derive crror velocity data in the form of four PRINT WHEEL MOTOR DRIVE signals that are supplied by the processor 64 through tlle I O expander 66 to the drivers 72. As will be explained in more detail below, there are actually two command velocity valucs generated for each distance to travel value greater than thrce motor steps, thereby defining two command velocity profiles. In comparing the actual velocity value with these two profile valucs, if the actual velocity of the print wheel 22 is less than the lower velocity command value representative of the minimum desired velocity level for the particular distance remaining to travel, tlic print wheel motor 36 is accelerated.On the other hand, if the actual velocity value is greater than the lower command velocity profile value, but less than the upper command velocity profile value representative of the maximum desired velocity level . then the print wheel motor is allowed to coast. Instly, if the actual velocity is greater tl in the upper command velocity profile value for the particular distance remaining to travel, then the print wheel motor 36 is decelerited. Again, both the actual velocity values and the pair of command velocity profiles are stored as time counts actual or desired between adjacent motor steps.When the print wheel 22 is rotated to within 3 motor steps of the desired stopping position, the processor 64 enters a fine velocity mode similar to that for the carriage movemenL When the print wheel is brought to within one motor step of the desired stepping position, i.e., 1 2 character space away, the slave processor 64 enters a damping mode after a predetermined time delay to bring the print wheel motor 36 to a stop at the position desired. Again, this entire procedure of position control will be described in more detail below with reference to Figures I0 l5. The slave processor 64 also receives control signals on lines 68 from the master processor 62, such as DATA STROBE signals for strobing incoming data on the data bus 28 from the interface 24 via the master processor 62 into the slave processor 64. The slave processor 64 further receives the RESTORE signal on line 32 from the interface 24 for resetting same.in an effort to expand the input output capacity of the slave processor 64, the I O expander 66 is provided. As shown in Figure 2, the slave processor 64 directly outputs the four RJBI3ON MOTOR DRIVE signals and the HAMMER FIRE signal. The latter signal goes tme when the print wheel 22 has been rotated by its motor 36 to bring a selected character element into alignment with the hammer element at a print position, as is conventional.The l O expander 66 outputs the four PRINT WHEEl MOTOR DRIVE signals, having received same over an internal bi directional processor bus 74 coupled between predesignated outputs of the slave processor 64 and predesignated inputs of the I O expander 66. Thus, the slave processor 64 computes tlle values of the four PRINT WHEEL MOTOR DRIVE signals on the basis of the velocity value comparisons discussed above and supplies these signals over the bus 74 to the I O expander, which then supplies it to the drivers 72.The four, 900 phase displaced PRINT WHEEL SENSOR signals, which are required by the slave processor 64 to monitor movement of the print whed 22, by detecting zero crossings in the manner alluded to above relative to the CARRIAGE SI SENSOR signals, are initially supplied to the I O expander 66 from the comparator 44 and are then forwarded along the bus 74 to the slave processor 64. Ille I O expander additionally receives the four PAPER FEED MOTOR DRIVE signals from the processor 64 along the bus 74 four Output by the I O expander 66 to the drivers 52. Lastly. the l O expander 66 receives various status signals generated internally of the printer 10 by special sensors not shown , such as PAPER OUT, COVER OPEN, RIBBON OUT and PRINT WHEEL IIOMF these Status signals are supplied by the I O expander 66 to the slave processor 64 along the bus 74 for eventual application by the slave processor 64 along the bus 28 to the interface 24, and then along the bus 14 to the host controller 12. As with the case of incoming data on the bus 28. which all goes first to the master processor 62 and then back along the bus 28 to the slave processor 64 if related to the signals processed and outputted by the slave processor 64. oulgoing data on the bus 28, such as status signals which eminate from the slave processor 66, will first be directed over the bus 28 to the master processor 62 and then by the master processor 62 back over the bus 28 to the interface 24. Again, the requisite programs for controlling the operations of the processors 62 and G4 and stored in their respective internal ROM s.Reference is now made to Figures 3, 4 and 12, were the presently preferred print wheel motor 36 and associated print wheel sensor 40 is shown. In accordance with the preferred embodiment, the carriage motor 34 and carriage sensor 38 are respectively identical to the print wheel motor 36 and print wheel sensor 40, and so the description of the motor 36 and sensor 40 should be deemed equally applicable to the motor 34 and sensor 38. The motor 36 depicted in Figurcs 3 and 4 is a stopper motor, preferably of the 4 phase, permanent magnet type. The four stator coils 76 A,B,C and D are depicted in the diagrammatic representation of Figure 12. A simplified representation of the rotor 84 of the motor 36 is shown in phantom in Figure 12, for ease of explanation of the basic concept sought to be depicted in that Figure, as will be described below. The motor 36 includes a drive shaft 86 to which a print wheel 22 may be replaceably mounted directly or through a gear at an end 88, and to which a rotor 90 of the print wheel sensor 40 is fixedly mounted at another cnd 92. Preferring now more specifically to the print wheel sensor 40, it includes four mechanically displaced pole pieces 94, 96, 98 and 100, each having a coil 102 A,13,C and I wrapped around an inwardly projecting tooth 104. The rotor 90 has a plurality of spaced teeth 106 uniformly spaced about the periphery thereof. Between each pair of adjacent teeth 106 is a recess 108, which is preferably concave in shape.There are preferably twelve teeth 106 about the periphery of the rotor 90 to match the motor 36 which preferably has twelve pole pairs. Ibis one to one correspondence of rotor teeth to pole pairs is not essential, however, as will be made clear below.The radial length of each tooth 106 is such tliat a gap 105 see figure 4 of predetermined dimcnsion is defined between the circular path of movement of the outer end of cnch tooth 106 and the adjacent teeth 104 of the pole pieces 94. 96. 98 and 100. In the preferred embodiment, the rotor 90 is manufactured of a fcrrous powdered metal material for low cost and in order to conduct magnetic flux. Ihe pole pieces 94. 96. 98 and 100 form an integral part of a mounting bracket disk 110 which is bolted to a side plate 112 of the motor 36. The pole pieces 94, 96, 98 and 100 are held fast against the disk 110 by means of a covcr member 114 Figure 4 only bonded to the peripheral edge of the disk 110. The disk 110 with integral pole pieces 94, 96. 98 and 100, and the plate 112 are preferably manufactured from fcrrous powdered metal.A permanent magnct 116 is affixcd to the side plate 112 adjacent the rotor 90 of the sensor 40. The magnet 116 is preferably cylindrical having a central cylindrical opcning 118 through which the motor drive shaft 86 may extend. The longitudinal dimcnsion of the magnct 116 is such that, when mounted to the side plate 112, it leaves a unifonn gap 120 of predetermined thickncss between itsclf and the rotor 90. The axially magnetized magnet 116 constitutes a flux producing means for producing a path of normally substantially constant magnetic flux through the rotor 90, and thus adjacent the coils 102.As the rotor 90 is rotated by the drive shaft 86, the rcsultant electromotive force induced in the coils 102 will cause four, 900 phase displaced sensor signals to be respectively produced at the outputs of the four coils 102 . In the preferred cmbodimcnt, the output signals of the coils 102 A and C are combined, as are the output signals of the coils 102 B and D . This reduces noise and provides a more reliable sinusoidal waveform for accurate zero crossing detection.The resultant two, 900 phase displaced substantially sinusoidal signals produccd at 102 A C and 102 I3 D will each vary in amplitude and frequcucy in proportion to the rotational speed of the motor drive shaft 86, and thus of any print wheel 22 mounted thereto. What is happening is that each coil 102 is essentially sensing the rate of change of nux with respect to time. When a tooth 106 on the rotor 90 is aligned with the tooth 104 of an adjacent pole piece. there is maximum flux, but the rate of change of such flux, i.e., the derivative of nux, is zero, so that the signal output of that coil 102 will be zero.Likewise, whenever the rotor 90 is not rot iting, all four coils 102 will produce a zero output signal, since there will be no rate of change of flux.In essence. the teeth 10G of the rotor 90 cooperate with the pole pieces 94, 96. 98 and 100 during rotation of the rotor 90 to vary the level of the magnetic fitix through the rotor and adjacent e,idi of the coils 102 in dependence upon the direction, speed and distance of rotation of the drive shaft 86, whereby the resultant electromotive force induced in each coil 102 defines an electrical sensor signal thereacross which contains information indicative of the direction, speed and distance of rotation of the drive shaft 86.As indicated above, the two electrical sensor signals produced by combining the outputs of coils 102 A and C and the outputs of coils 02 13 andD , and hereinafter referred to as sensor signals A C and B D, are mutually electrically phase displaced by 900. At a constant velocity of rotation of the drive shaft 86. each sensor signal is periodic with a peak amplitude and Erequenc proportional to the angular velocity of the drive shaft 86, has a polarity indicative of the direction of rotation of the drive shaft, and has a period representative of a predetermined increment of movement of the drive shaft 86.It is not essential tR t there be four, mechanically displaced coils 102, as shown inFigurcs 3 and 12. It is important however, that there be at least two coils 102, such as coils 102 and 102 B Figure 12 . which are selected and displaced so as to produce two 900 phase displaced substantially sinusoidal sensor signals. As indicated above, however, it is prefened to use all four coils 102, and combine the outputs of 102 A andC and 102 B and D to produce sensor signals A C and 13 D. It is important that the ultimate sensor signals produced are capable of being processed by the slave processor 64 in a manner by which the individual steps of movement of the motor 36 is sensed. Thus. the arrangement and number of teeth 104 on the sensor rotor 90 have to be carefully selected to achieve this result. In the preferred embodiment, the rotor 84 of the motor 36 is capable of producing 48 steps per revolution of the drive shaft 86.Similarly, the rotor 90 of the sensor is capable of generating the waveforms at composite coils 102 A C and 102 B D which. when complemented by the comparator 44 to develop four, 900 phase displaced square wave sensor signals, can be used through zero crossing sensing techniques to detect the same 48 steps per revolution of the drive shaft 86. lhe specific manner by which this is accomplished will be described below. At this time, however, it should be noted that as each tooth 10 5 on the rotor 90 moves between the coils 102 A and 102 B of the sensor 40, 12 steps can be detected from the four waveforms ultimately generated by the comparator 44.It must be made clear that the rotor 90 may have more or Icss than twelve tecth and still be capable of use with a 48 step motor. This may be accomplished through the use of appropriate electrical means to derive the requisite four, 90 phase displ iced square wave sensor signals Reference is now made to Figurcs 5 and 6. where the print wheel comparator 44 and exemplary waveforms for the four, 900 phase displaced square wave PRINT WHEEL SENSOR signals will be described.It should be noted first that the print wheel comparator 44 and carriage comparator 42 are preferably identical. and so only the print wheel comparator 44 will be described in detail. Secondly, it should be notcd that the waveforms depicted in Figure 6 represent a case where the velocity of the drive shaft 86 is at a constant level. However, it till be recalled from above that both the amplitude and frequency of the waveforms A C and 13 D produced at the composite outputs of the coils 102 A C and 102 B D will vary in proportion to the angular velocity of the drive shaft 86. Rcfcrring now specifically to Figure 5, the two composite output signals A C and B D are connected to respective inputs of the comparator 44. More specifically, one end of each of the coils 102 A and 102 C is connected to the inverting inputs of two operational amplifiers 120 and 122, and to the non inverting inputs of two other operational amplifiers 124 and 126.The other cnd of each of the coils 102 A and 102 C is connected to the center node 128 of a voltage divider network consisting of a first resistor R1 connected between the cnds of the coil 102 A . a second rcsistor R2 connected in series with the first resistor R1 and ground. The resistor R2 is also connected across the ends of each of the coils 102 B and 102 D . The center node 128 is located electrically between the two rcsistors R1 and R2, as well as between two sets of three resistors each, i.e., a first set of resistors R3, R4 and RS connected in scrics between a supply voltage V2 and the center node 128 and a second set of rcsistors R6, K7 and RS connected in scrics between the center node 128 and ground.The electrical junction of the rcsistors R3 and R4 is connected to the non invcrting inputs of the amplificr 120 and another operational amplificr 130. The electrical junction of the rcsistors R4 and R5 is connected to the inverting inputs of the amplificr 126 and another operational amplifier 132. The electrical junction of the rcsistors R6 andR7 are connected to the non inverting inputs of the amplifier 122 and yet another operational amplifier 134. Lastly. tulle electrical junction of the resistors R7 and R8 is connected to the inverting inputs Of the amplifier 124 and still another operational amplificr 136.Still referring to Figure 5. four filter capacitors Cl, C2, C3 and C4 are preferably included in the circuit of comparator 44. The first capacitor CI is connected across the two inputs of the amplifier 126. the second capacitor C2 is connected across tl e two inputs of the amplifier 122, the third capacitor C3 is connected between the inverting inputs of amplifiers 132 and 134, and the fourth capacitor C4 is connected between the two inputs of amplifier 134.Completing a review of the circuitry of the comparator 44, the outputs of the amplifiers 120, 124, 130 and 136 are wirc Ollcd at junction 138 to define the PRINT WISEEI, VELOCITY signal developed by the comparator 44. The junction 138 is tied to a predefined voltage source V1 through a resistor R9. The outputs of the amplifiers 126, 122, 132 and 134 are all tied to the voltage source VI through respective resistors R10,R11, R12 and R13. The rcsistors R9 R13 are preferably matched Additionally, the resistors R1, R2 and R8 are preferably matched, as are the resistors R5 and R6, as well as resistors R4 and R7. The capacitors C1 C4 are also preferably matched. 7he specific valucs of the rcsistors R1 R8 and voltage source V2 are selected such that a predetermined thrcshold voltage level T1 e.g., equivalent to a velocity ol 6.0 radians per second of the drive shaft 86 is presented at the inverting inputs of amplifiers 126 and 132 and at the non invcrting inputs of the amplifiers 122 and 134.The thrcshold level 11 is chosen such that only velocities of the drive shaft 86 above a predetermined level will succeed in generating the A C and I3 D, 900 phase displaced sine waves from the coils 102 A and C and 102 13 and 1 with an amplitude above the thrcshold voltageT1. In this respect, it will be recalled that the amplitude and frequency of each of the sine waves A C and B D are proportional to the velocity of the drive shaft S6. Thus, if the actual velocity of the drive shaft 86 liills below tlic predetermined level, the resultant amplitude of the signals A C and n D will fall below the threshold level T1 positive and T1 negative . his will then result in a zero output voltage from each of the amplificrs 126, 122, 132 and 134. Figure 6 depicts the waveforms A C and B D at a constant velocity of the drive shalt 86 above the predetermined threshold level, i.e., the peak positive amplitude of the signalsA C and B D are above the threshold voltage 1 1. Notice that the output of the amplifier 126, i.e., PW Sl .NSOIt A C. is true or high only for so long as the waveform A C exceeds the threshold level TL I ikewise, the I W SINSOR 13 D output of the amplifier 132 is true for so long as the waveform B D is above the threshold level T1.In addition, the i W SENSOR A C output of the amplifier 122 is true for so long as the waveform A C is below the negative threshold level T1, and the PW SENSOR B D output of the amplifier 134 is true for so long as the waveEornl B D is below the negative threshold level 1 1.The four PRINT WHEEL SENSOR signals as just described are forwarded to the processor 26. Specifically, they are forwarded directly to the I O expander 66 Figure 2 and then supplied over the bus 74 to the slave processor 64. l he microprocessor portion of the slave processor 64 is then operated under program control to detect the positive going transition of each of the four PRINT WHEEL SENSOR signals. Each such detection represents a step of the motor 36 to be counted, as depicted in Figure 6.Accordingly, the microprocessor portion of the slave processor 64 supplies each step count to an internal RAM location for updating counting down the distance to travel position signal stored at that RAM location, as described earlier. The value of the distance to travel signal is periodically accessed by the microprocessor potion of the slave processor 64 under program control to serve as address signals for the slave processors internal ROM, to thereby generate the appropriate dual command velocity profiles to be described below in connection with Figure 10.Referring now to Figures 5 and 7 9. the manner by which the PW VELOCITY signal is generated by the comparator 44 will be described. The value of the resistors R3 R8 in conjunction with the voltage source V2 define a velocity threshold level Vt, which is presented at the non inverting inputs of the amplifiers 120 and 130, as well as at the inverting inputs of the amplifiers 124 and 136. In the preferred embodiment, the value of the threshold voltage Vt is selected at an angular velocity of the drive shaft 86 of 25 radians per second. In other words, at a velocity of 25 radians per second, the A C andB D waveforms would have peak amplitudes of voltage level Vt.The amplifiers 120, 124, 130 and 136 respectively produce the velocity signals PW VELOCITY A C, PW VELOCITY A C, PW VELOCITY Y B D and PW VELOCITY B D at their Outputs. These four signals are shown in Figure 7, where it will be noted that the signal waveforms A C and B D are derived at a constant velocity of the drive shaft 86 which is of a magnitude such that the maximum peak voltage level of the waveforms are above the threshold level Vt The signal PW VELOCITY A C in Figure 7 is true for the duration the signal waveform A C is above the threshold level Vt, and the amplitude of each pulse is substantially equal to the source voltage V1. Similarly, the signal PW VELOCITY B D is true for the duration the signal 13 1 is above the threshold level Vt Additionally, the signal PW VELOCITY A C is true for the duration the signal A C is more negative than the threshold level Vt, and the signal PW VELOCITY B D is true for the duration the signal B D is more negative than the thrcshold level Vt. When these four signals are wire ORed at junction 138, the PW VELOCITY signal is produced.In the example ofFigure 7, the PW VELOCITY signal is a d e signal having a voltage substantially equal to the source voltage V1. The reason it is a d c signal is because there is allays one of the four, 900 phase displaced square wave signals l W VELOCITY A C, A C, B D and true at any instant of time, and they all have the same amplitude of about V1. In the example of Figure 8, the drive shaft 86 is rotating only slightly faster than the threshold velocity Vt In this instance, there is not always one of the four outputs of the amplifiers 120, 124, 130 and 136 true at any instant The result is the PW VELOCITY signal pulse train depicted in Figure 8. Again, however, the amplitude of each pulse is approximately V1. In the cxample of Figure 9, the drive shaft 86 is rotating slowcr than the threshold velocity Vt, level, i.e., slower than 25 radians per second in the preferred embodiment, so that the peak amplitudes of the waveforms A C and n D will be less than the threshold voltage Vt. ln this event, the outputs of all four amplifiers 120, 124, 130 and 136 will be zero or ground, thereby making the PW VELOCITY signal equal to ground false . It is thus apparent that what the processor 26 detects in receiving the PW VELOCITY signal is whether or not the actual angular velocity of the drive shaft 86 is above or below the threshold velocity, e.g., 25 radians per second. More specifically, if it is above 25 radians per second, at least a pulse train Figure 8 will be produced or, at higher velocities, a d e true level. When the actual velocity falls below 25 radians per second, the PV VELOCITY signal will go false. The PW VELOCITY signal is prirnarily used by the processor 26 during the last three steps of rOtation of the print wheel motor 36 to rotate the print wheel 22 doser toward the desired stopping position, as will be explained below.Reference is now made to Figurcs 10 15, where the process for bringing a print wheel 22 from one stoppcd position to another slopped position involving the rotation of the wheel will be described. Referring first to Figure 10. and as discussed briefly above, the ROM internal to the slave processor 64 Figure 2 includes various address locations storing data representative of predetermined command velocity levels. There are two command velocity profiles 150 and 152. as depicted in Figure 10.At any particular distance to travel greater than a predetermined distance, c.g., 1 1 2 character spaces as defined by 3 steps of the print wheel motor 36, the updated distance to travel data in RAM is uscd to address a ROM location which dcfincs the command velocity value for the higher command velocity profile 152 for that particular distance to travel. In actuality, the binary word stored at each addressed ROM location defines a desired count, i.c., time, between adjacent steps of the print wheel motor 36.T Thus. the higher command velocity profile 152 is stored as desired timcs indicative of desired velocities. Hos cvcr, the rcsult is the same, since the slave processor 64. receiving the four PW SENSOR signals via the 1 0 expander 66 and bus 74, can detect stepped advancement of the print whed motor 36. At each step, the processor 64 resets a counter defined in an internal RAM location. The countcr counts at a rate significantly greater than the minimum period between steps of the motor 36 when running at maximum speed.In this manncr, the value of the count in the RAM counter is invcrscly proportional to the actual speed of the drive shaft 86 and thus print wheel motor 36.When the value of the upper command velocity profile 152 has been accessed. the slave processor 64 then computes the value of the lower command profile by simply adding a predetermined count c.g., two counts to the time count value of the profile 152 accessed. The slave processor 64 then comparcs under program control the time count indicative of actual velocity as accessed from RAM with the time counts of the two command velocity profiles one accessed from ROM and the other calculated at the particular distance remaining to be travelled.If the actual velocity count is greater than the lower command velocity profile 150. i.c., the actual velocity is less than a minimum desired command velocity, the processor 64 issucs appropriate four PW MOTOR DRIVE signals which switch the drivers 72 such as to cause the print wheel motor to accelerate. As the print wheel 22 is advanced toward its desired stopping position, the distance to travel value stored in the internal IZAM of processor 64 is constantly updated at each step of the motor 36. Correspondingly, the time count in RAM indicative of actual velocity is compared each processor cycle with the time counts of both command velocity profiles 150 and 152.Eventually, the actual velocity of the motor 36 will exceed that identified by the lower profile 150. but still be less than the upper profile 152. as representative of a maximum desired velocity profile. In this case, the four I RIN I WkIFI I, DRIVE signals issued by the slave processor 64 via the bus 74 and I O expander 66 will cause the motor 36 to coast. If, during acceleration, the motor speed overshoots and exceeds the level identified by the upper command profile 152, the processor 64 would command the motor 36 to decelerate, through the issuance of appropriate PKIN I WHEEL DRIVE signals.Eventually, the print wheel motor 36 would have advanced the print wheel 22 to within 1 1 2 character elements of the desired stopping position, i.e., 3 steps of the motor 36.From 3 motor steps to travel to within 1 motor step to travel 1 2 character space away , the slave processor 64 controls the print wheel motor 36 in accordance with a fine velocity mode of operation, wherein the value of the PW VELOCITY signal is simply looked at or sensed by the slave processor 64 each processing cycle. If it is false, indicating a lower actual velocity than the 25 radian per second command velocity, the slave processor 64 causes the print wheel motor 36 to accelerate in the manner abovedescribed through control of the four PRINT WHEEL MOTOR DRIVE signals. If thePW VELOCITY signal is true, indicating a higher actual velocity than 25 radians per second, the motor 36 is controlled to decelerate.In other words, it is desired to maintain the actual velocity of the drive shaft 86 and thus print wheel 22 at or about 25 radians per second between 3 and 1 motor steps 1 1 2 cllamctcr spaces to 1 2 character space remaining to be traveled. lie actual velocity of the motor 36 from its starting position, at the maximum rotational distance to travel, to a stop position is depicted in Figure 11. During movement from 3 steps to 1 step, the processor only looks at the PW VELOCITY signal. It does not any more cyclically compare the actual velocity data with the dual command velocity profiles, as was the case in the coarse velocity mode.During the coarse and fine velocity modes as just described, it is important to note that the print wheel drive motor 36 is stepped by selectively turning on two adjacent coils 76 at a time by turning on the respective two of the four 1 W MOlOlt DRIVE A, B, C and D signals. The use of two motor coils on to step provides greater flux and thus torquf. Preferably, the motor is brought to a final stop with only one coil 76 on, in accordance with the damping mode of motion control to be described below. The sarne method of motion control is employed with respect to the carriage motor 34.It should also be noted that, during initial acceleration, and at relatively low speeds, the two motor coils 76 that are on preferably Icad the actual step position by 1350. For example, if a step occurred by a rotor tooth 106 passing in alignmcnt with the sensor coil J02 A , the motor coils 76 A and 76 B would be turned off and the motor coils 76 B and 76 C turned on. thereby creating a flux vector which leads by 135 .in order to reach higher speeds, the two motor coils 76 that are on preferably lead the actual step position by 2250. In the above example, aftcr a step occurred by a rotor tooth 106 passing in alignment with the sensor coil 102 A , the motor coil 76 B would be turned oft and coil 76 D turned on instead, thereby creating a flux vector which leads by 2250.The third mode of motion control. i.e., the damping mode , is performed by the slave processor 64 during movement of the print, wheel motor 36 the last step to the desired stopping position. This mbde of operation will be described with reference to Figures 1315. Reffering for a momcnt again to Figure 10, it wifl be apparcnt that the command velocity profile gocs to zero at one step to travel and stays there for the duration of the damping mode.It must be made clcar at the Outset that Figures 13 and 14 do not depict any mechanical Orientation of the print wheel sensor coils 102. Rather, they show the electrical 900 phase displaced relationship among the four PRINT WHEEL SENSOR signals A C, B D, A C and B D developed by the comparator 44. Additionally, it should be noted that 3600 of electrical rcvolution in the diagrams of Figurcs 13 and 14 corrcsponds to 1 12 or 300 of angular rotation of the sensor rotor 90 relative to the coils 102, as well as of the rotor 84 of the print wheel motor 36.Lastly, Figure 13 depicts the preferred single coil damping mode of Operation. where it is desired to stop the print wheel 22 with only a single one of the Inotor coils 76 turned. on. Figure 14 depicts an alternative dual coil dainping mode of operation where it is desired to stop the print wheel with two adjacent motor coils 76 turned on. Referring now specifically to the presently preferred single coil damping approach of Figure 13, when the rotor 90 of the sensor rotating clockwise passes a location relative to the coils 102 such that the PW SENSOR B D signal has a positive going transition, the print wheel motor 36 will be three steps from tlic desired stopping position. The slave processor 64 thcn switches from the coarse velocity mode to the fine velocity mode, where it simply looks at the level of the PW VELOCITY signal during continued rotation of the rotor an additional two steps. All the whilc, the processor 64 attempts to maintain a constant angular velocity of 25 radians per second, as described above.Thus, the rotor 90 will leave a position with the i W SF.NSOlt signal B D at a positive going transition, i.c., the last step until the final stopping step is reached, with an angular velocity of approximately 25 radians per second.It js between the conditions of a positive going transition of the PW SENSOR B I signal and a positive going transition of the PW SENSOR A C signal or where that positive transition would have occurred at a greater thari threshold velocity, in the event the actual velocity is below such threshold velocity that the slave processor 64 executes a predetermined damping proccdurc. In accordance with the presently preferred damping procedure, when the rotor 90 rotates clockwise past the point of a positive going transition of the PW SENSOR B D signal. the slave processor 64 turns on the PWMOTOR DRIVE A signal to turn on the motor stator coil 76 A aftcr a predetermined time delav. preferably of an amount sufficient to enable the drive shaft 86 and rotor 90EMI23.1 to advance another 45 C. The processor also looks at the level of the PW LNSUI 5 and B D signals. The PW SENSOR B D signal will be high, assuming the waveform B D is still below the negative thrcshold lcvel T1, and the PW SENSOR B D signal will be low. In effect, the processor 64 is looking at the sign or polarity of the sinusoidal waveforms I3 D and B D only B D being shown in Figure 6 , which polarity is indicative of the direction of movement of the print wheel 22.Now then, when the processor 64 detects a truc PW SENSOR n D signal following the occurrcnce of a positivc going transition of the PV SENSOR B l signal and the turning on of the PW MOTOR DRIVE A signal to turn on the motor stator coil 76A , the processor 64 also turns on the PW MOTOR DRIVE 1 signal, tending to slow the motor 36. When the motor 36 slows to the point tliat tlic waveform B D falls below the threshold level T1, i.e., the PW SENSOR B D signal gocs low, the processor 64 tums off the PW MOTOR DRIVE D signal. However, the motor 36 is still advancing toward its desired stopping position shown as aligned with the hypothetical coil A in Figure 13 . If and when the motor 36 overshoots the desired stopping position, since the PWMOTOR DRIVE signal A is still on, it will start pulling the motor 36 back in a reverse direction. As soon as the motor direction reverses, the waveforms A C and B D invert, due to the magnetic characteristics of the print wheel sensor 40. As soon as the motor speed again exceeds the threshold level I1, the processor will detect a true PW SENSOR 13 D signal and turn on the PW MOTOR DRIVE 13 signal, tending to slow the motor.This process is repeated until the motor never exceeds the threshold level 1 1 during oscillation about the stopping position. All the time during such oscillation below threshold level Tri, the PW MOTOlZ DRIVE signal A is left on, i.e., only the coil 76 A is left on. The motor will then be brought to a stop at the desired stopping position and the selected character element on the print wheel 22 impacted against an adjacent platen.Figure 15 shows the signal A C waveform during a normal single coil damping procedure, as above described. Notice that the polarity of the signal is reversed as the direction of the motor is reversed during the final damped oscillations.It must be made clear that the three modes of motion control of the print wheel 22 as first described, i.e., coarse velocity. fine velocity and damping, are substantially identically used in connection with motion control of the carriage 20 by the master processor 62.Having just ascribed the presently preferred single coil damping mode procedure, two alternative single coil damping approaches will be described. In the preferred procedure as described with reference to the print wheel 22, in order to stop at A C in Figure 13, the processor 64 turns on the PW MOTOR DRIVE A signal and then also selectively turns on either the PW MOTOR DRIVE B signal or the PW MOTOR DRIVE D signal to damp. In a first alternative procedure, the processor 64 would still first turn on thePW MOTOR DRIVE A signal. However, it would then also selectively turn on either thePW MOTOR DRIVE C and D signals or the PW MOTOR DRIVE B and C signals to damp.The PW MOTOR DRIVE A signal would then be turned off when the PWMOTOR DRIVE C signal is turned on, or the PW MOTOR DRIVE A and C signals could be on at the same time. In a second alternative procedure, the PW MOTORDRIVE A signal would be turned on and damping would occur by the processor 64 selectively turning on and off the PW MOTOR DRIVE C signal.The single coil damping approaches thus far identified have assumed a four coil steppe drive motor. Suppose a two coil or bipolar drive motor was employed, i.e., coils 76 A and 76 C Figure 12 are the same coil and coils 76 B and 76 D are the same coil. lherc are three alternative single coil damping approaches for this type of stopper motor.First, the processor 64 could damp with the drive signal for coil 76 A C on and selectively pulse on and off the drive signal for coil 76 B D with proper polarity to achieve damping. Second, the processor 64 could damp by selectively reversing the drive signal for coil 76 A C only. Third, the processor 64 could damp by selectively reversing the drive signal for coil 76 A C and selectively pulsing the drive signal for coil 76 B D .Figure 14 depicts generally the dual coil method of electronically damping the motor 36 during the damping mode of operation. As is noted, in dual coil damping it is desired to stop the drive motor with two of its coils 76 on, c.g. between the hypothetical coils AC and B D. As will be recallcdg the so callcd coils A C, B D, A C and B D are merely representations of the four, 90 electrically phase displaced sensor signals, where 3600 of electrical displacement past the coils of Figure 14 are equal to only 1 12 or 300 of a truc rotational displacement of the motor drive shalt 86. Whcn A C is passed during the last step, i.c., when the PW SENSOR A C signal has a transition at a velocity exceeding the threshold level T1. the slave processor 64 looks at the PW SENSOR A C and B D signals. If the PW SENSOR B D signal is true,. it turns off the PW MOTOR DRIVE B signal, Icaving the PW MOTOR DRIVE A signal on. Convcrscly, if the PW SENSOR A C signal is truc, the processor 64 rums off the PW MOTOR DRIVE A signal, leaving the PW MOR or DRIVE B signal on. of both the PW SENSOR A C and B D signals are truc, the processor 64 will leave on both the PWMOTOR DRIVE A and B signals. Eventually, through continued oscillation and slowing of the motor, neither the PW SENSOR A C nor PW SENSOR B D signals will be higher than the thrcshold level T1. In this event, the processor 64 will leave both PW MOTOR DRIVE A and B signals on to stop the motor between the A C and B D coils . The above dual coil damping approach is with a four coil stopper drive motor. In an alternative dual coil approach for such a motor, where it is desired to stop between coils A C and 13 D, the processor would have the PW MOTOR DRIVE B signal on and. selectively pulse the PW MOTOR DRIVE A signal off and PW MOTOR DRIVE C signal on, or have the PW MOTOR DRIVE A signal on and selectively pulse the PWMOTOR DRIVE B signal off and the PW MOTOR DRIVE signal D on. A dual coil damping approach for a dual coil or bipolar drive motor of the type abovedescribed, the processor 64 would have the motor drive signal for coil 76 A C on and selectively pulse off the motor drive signal for coil 76 B D , or have the motor drive signal for coil 76 13 I on and selectively pulse ofT the motor drive signal for coil 76 A C . As an alternative, tlle processor G4 could have tlle motor drive signal for coil 76 A C on and selectively reverse the motor drive signal for coil 76 13 l in the manner above described, or have the motor drive signal for coil 76 13 l on and selectively reverse the motor drive signal for coil 76 A C . Reference is now made to Figures 16 and 17 where an alternative print wheel sensor 200 for the print wheel motor 36 will be described. The sensor depicted and to be described can also be used in conjunction with the carriage motor 34.As shown in Figures 16 and 17, the print wheel sensor 200 includes a ferrous mounting plate 202 which may be bolted to the side surface of the print wheel motor 36. The plate 202 has a central opening 204 through which the drive shaft 86 of the motor 36 may project. Affixed to the mounting plate 202 is a cylindrical axially magnetized perrlianent magnet 206 having a central cylindrical opening 208 through which the shaft 86 may project Mounted to the drive shaft 86 by means of a hub 210 is a rotor 212 having a plurality of spaced teeth 214 separated by a respective plurality of recesses 216.The sensor 200 also has four position displaced poles 218, each of which has a coil 220 wrapped thereabout and an outer stator plate 222 which underlies the path of movement of the teeth 214 of the rotor 212, as best shown in Figure 16. The stator plate 222 itself has a pair of teeth 224 spaced apart by a recess 226. A gap 228 Figure 17 of predetermined dimension is defined between the teeth 214 of the rotor 212 and the teeth 224 of the stator plate 222.The sensor 220 is thus referred to as an axial gap sensor, as distinguished from the preferred print wheel sensor 40. which is a radial gap sensor,The output signals from the four coils 220 are substantially the same as those produced from the four coils 102 of the sensors 38 and 40 above described, Although the invention has been described with respect to a presently preferred embodiment, it will be appreciated by those skilled in the art that various substitutions, modification, etc., some of which have been discussed above, may be made without departing from the spirit and scope of the invention as defined in and by the following claims For example, a dual sLick motor or two motors on a common shaft or coupled through a gear assembly may be used instead of the motor sensor arrangements thus far described. In these arrangcments, one stack of the dual stack motor or one motor of tlic dual motor sct would be used for driving. while the other stack of the dual stack motor or other motor of the dual motor set would be uscd for sensing through inducing an dcctromotive force in the coils thereof that varies in proportion to the speed of rotation of the drive shaft. Additionally. tlic teeth 106 of the rotor 90 may be shaped differently than as depicted in the drawing in a manner to alter the ultimate Output waveforms from the coils 102. Still further, it should be clear that any suitable microprogram may be employed for controlling the master processor 62 and slave processor 64 in the manner above described. Preferably, such programs would be written in code executable by the Intcl 8048 and 8041 processors.