# METHOD OF AND APPARATUS FOR ERROR MODIFICATION FOR VIDEO DATA

## Claims
Verfahren zur Fehlermodifikation von Videodaten, das folgende Schritte umfa√üt

## Description
The present invention relates to a method of error modification for video data of the Y, C A method for component digital coding of a video signal to be practiced in digital TV studios has been proposed which uses a sampling frequency of 13.5 MHz for the luminance signal Y and the sampling frequency of 6.75 MHz for each of the color difference signals C The sampling structure of this system is understood to be in a spatially static, perpendicularly crossing lattice form orthogonal as shown in Fig. 4 and therein sampling positions of the Y signal represented by black dots and those of the C The Y, C Conversely, the R, G, and B signals are expressed with the Y, C In the prior art digital VTRs of the 4 2 2 component system the Y, C An R signal converted into 8 bit digital data, for example, is supplied from an input 31 to a matrix circuit 34, a G signal converted into 8 bit digital data, for example, is supplied from an input 32 to the matrix circuit 34, and a B signal converted into 8 bit digital data, for example, is supplied from an input 33 to the matrix circuit 34. In the matrix circuit 34, the R, G, and B signals are matrixed in accordance with the above formulas 1 into Y, C On the record side of the record playback circuit 35, the data are encoded with error correcting codes and recorded in a recording medium as the Y, C In the dematrix circuit 36, the reproduced Y, C Figs. 7A and 7B indicate relationship between the signals that are converted through the R, G, and B signals Y, C Fig. 7A expresses the R, G, and B signals in a cubic manner assuming that the amplitude of each signal takes the value between 0 and 1 and taking the R signal in the z axis, the G signal in the y axis, and the B signal in the x axis. The cube in Fig. 7A is transformed into the cube as indicated in Fig. 7B through mapping of one to one correspondence performed in the matrix circuit 34 in accordance with the formulas 1 defining the transformation. In Fig. 7B, the Y signal is represented by the y axis, the C Fig. 8A is a projection drawing of the cube in Fig. 7B on the Y C As is apparent from Figs. 8A, 8B, and 8C, when the amplitude of the R, G, and B signals is assumed to take values between 0 and 1, the domains of the values to be taken by the corresponding signals Y, C And, the cube indicated in Fig. 7B is transformed again into the cube indicated in Fig. 7A through mapping of one to one correspondence performed in the dematrix circuit 34 in accordance with the formula 2 defining the transformation. In the digital VTRs of the 4 2 2 component system as described above, the input R, G, and B signal data,each taking amplitude values 0 1 independently of one another, are converted by matrixing into the corresponding Y, C Here, when considering the range domain of the values that the Y, C Accordingly, a primary object of the invention is, in a method for modifying residual erroneous data, to provide an error modification method for component video data through which a combination of the Y, C According to the present invention, there is provided a method of error modification of video data comprising the steps of The invention also provides apparatus for error modification of video data comprising In a practical implementation of the invention, a ROM 7 is supplied with the data for the Y, C The invention will be further described by way of non limitative example with reference to the accompanying drawings, in which A preferred embodiment of the invention will be described below with reference to accompanying drawings. Fig. 1 shows the structure of an embodiment of the invention and the structure is connected to the output side of an error concealment circuit 22 on the playback side of a digital VTR as indicated in Fig. 2. Reproduced component signals Y, C According to the error flags, the residual error data left uncorrected by the correction process in the error correction circuit 21 are subjected to an error concealment process by interpolation or the like in the error concealment circuit 22, and the data which have undergone the error concealment process together with the error flags F In the error modification circuit 23, the range of values that are allowed to be taken by the error data judged to be erroneous by the error flag is defined based upon the data judged to be correct by the error flag and it is detected whether or not the error data is present in the specific region. Namely, it is judged whether or not the R, G, and B signals and the Y, C The output of the error modification circuit 23 are supplied to a dematrix circuit not shown and converted by matrixing therein to be output therefrom as playback R, G, and B signals. Fig. 1 is a drawing showing a concrete example of the error modification circuit 23. In this arrangement, in order not to enlarge the scale of the circuit, it is adapted such that the error modification is performed using the four high order bits, as the representative values, of the reproduced component signals of eight bit digital data. For example, the Y signal data is supplied from the error concealment circuit 22 to an input terminal 1. An error flag F The C The C The four high order bits of the eight bit Y signal data supplied to the input 1 are applied to the ROM 7 and the four low order bits are delivered to the output terminal 11 directly. The error flag F The four high order bits of the eight bit C The four high order bits of the eight bit C In the ROM 7, data modification is applied to the error data that are judged to require the data modification, and the four bit Y signal data passed through the ROM 7 is output to the output terminal 11, the four bit C In the event that the modification has been applied to the Y signal data, a flag F The operation of the ROM 7 will be described below with reference to the following Table 1 which indicates all the possible combinations of the error flags that are applied to the ROM 7. Referring to the Table 1, O indicates that the data corresponding to the error flag is correct and indicates that the data corresponding to the error flag is erroneous. In the case a of the Table 1, all the data for the component signals Y, C In the case b of the Table 1, the Y signal data and the C and therefore, the range of the values to be taken by the C And, it is judged whether or not the C By way of example, when the Y signal data judged to be correct is at the quantization level of 56, the values that the C In the cases c and d of the Table 1, the range of the values that the data judged to be erroneous can take is defined by the data that are judged to be correct as in the above described case b and it is judged whether or not the data is in this range. The data is output as it is if the data is within this range, and if the same is outside the range, the data is modified so as to take the value in the vicinity of the central value of the range of the values allowed for the data to take and then output. In the case e of the Table 1, the Y signal is judged to be correct and the C Further, it is judged whether or not the C If either of the C In the case where the Y signal data judged to be correct is at the representative quantization level of 56, for example, the values that the C In the case where some data is present outside the region indicated by O , for example, when the C When the combination of the error flags applied to the ROM 7 is as shown in the case f or g of the Table 1, the region for the numbers that two data judged to be erroneous can take is defined by the data judged to be correct the same as in the case e mentioned above, and the data are output as they are if the error data are in the region, and if the error data are outside the region, the error data are modified so that they may take the values adjacent to the central values of the ranges of the values that the respective error data can take and be brought into the region. In the case h of the Table 1, all the data are detected to be erroneous and therefore judged to be uncorrectable. In this case, all the data are output as they are. According to the present invention, in the error modification circuit, the range of the values that can be taken by the residual uncorrectable error data judged as such by the error flag is defined according to the data that is judged to be correct by the error flag in accordance with the predetermined relationship between the R, G, and B signals and the Y, C