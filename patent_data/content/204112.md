# AUTOMATIC FRONT OF SCREEN ADJUSTMENT, TESTING SYSTEM AND METHOD

## Claims
Automatisches Einstell und Prüfsystem für die Vorderseite eines Bildschirms zum automatischen Einstellen und Prüfen eines Bildmonitors 10 , die folgendes aufweist

## Description
This invention relates to a structure to automatically adjust the image characteristics of a television set or monitor as one of the final steps in a manufacturing process and a method for effecting the adjustments and tests which can be practiced by the structure. Television sets and television monitors are manufactured from components and sub assemblies which due to the manufacturing process and tolerances selected to provide economical products result after assembly in a range of image reproductions, many of which would be, from the user s point of view, unsatisfactory. In order to utilize these less than perfect components and sub assemblies, adjustable circuit elements such as adjustable potentiometers are included in some of the circuits. After assembly the set is energized and test patterns are applied to the video input. In most instances, the test patterns are distorted due to circuit variations within the tolerances described above. In a typical adjustment an operator utilizes a sequence of images and adjustments in an attempt to obtain a satisfactory minimum distortion image. This technique has two very distinct disadvantages. It is a slow labor intensive activity and therefore contributes substantially to the total cost of the assembly. In the second place the adjustments result in a broad range of image quality or distortion due to differences in the skill or dedication of the individual making the adjustment. Attempts have been made to automate some of the steps or part of one or more steps in the adjustment process. US Patent US A 4,254,432 to Nakahata for example, discloses an apparatus for detecting color purity of a color picture tube a raster generated on a phosphor screen of a color picture tube is picked up by a television camera through an optical filter. The television camera scans the displayed raster in the horizontal direction on the line base thereby to produce a video signal representing luminances at predetermined points on the raster lines. Sampling means are also provided for sampling the video signal to extract signal values at said points on the screen, along with means for processing the extracted signal values thereby to output results of the processing. However, applicants are not aware of any totally automated process which does not rely in whole or in part on the subjective interpretation by an operator of the efficacy of the adjustments to produce a consistent, acceptable distortion free image. The invention contemplates a system for automatically adjusting the operating circuits of a television set or monitor to reduce image distortion to an acceptable level, said system including a computer for generating a sequence of images for application to the video equipment being adjusted a scanner for viewing selected portions of the video image on the set under control of signals from the computer and providing signals specifying the image viewed to the computer which generates under program control signals for manipulating a robotic means for adjusting one or more circuit components of the set in accordance with the control signals provided by the computer. Each of the images of the sequence is selected to test for one or more types of image distortion and the scanner is positioned to view selected portions positioned about the screen and provide signals indicative of the viewed image for analysis which analysis indicates a corrective action to robotic circuit adjustment means whereby a sequence of images, measurements and adjustments is utilized to conform the image to an acceptable pattern without human intervention. An object of the invention is to provide an automated television or monitor image adjustment system which operates without subjective human judgment. The invention more specifically features an automatic front of screen adjustment and testing system for automatically adjusting and testing a television monitor, comprising The foregoing and other objects, advantages and features of the invention will become more apparent from the detailed description set forth below taken in conjunction with the drawings illustrating the invention. In Fig. 1 the set 10 under test and adjustment is connected to a robot and test stand unit 11. Unit 11 is provided with n tools t₁ t The processor 12 is of conventional design and any general purpose digital processor may be utilized to perform the functions described provided the unit has sufficient memory and computational power. As indicated in Fig. 1, the processor has stored in memory which may include disk storage image information which is applied to the unit 11 and thence to the monitor 10 via cable Io. The particular image selected is controlled by a test process program also stored in the computer memory. As is the case with the images, only those program steps actually being executed need be stored in the computer read write memory. The other steps or modules in the case of the program and images in the case of the patterns can be resident in virtual storage on the disk and accessed when and as needed. An image acquisition unit IAU 14 is positioned so as to view the monitor screen and the image displayed thereon. The IAU 14 is shown in greater detail in Fig. 2 and has three controllable elements which respond to control signals from the processor 12 via cable IAUC. These signals are part of the test process and are related to the particular test and or adjustment related to the specific image being displayed on the monitor screen. In response to two of the control signals, the IAU 14 views a small selected portion of the monitor screen and via a camera 14C shown in Fig. 2 provides a digitized image of the small portion viewed over cable Ii. The third signal element provided over the cable IAUC controls a lens system 14L in light path between the screen and the camera. The control of the lens system 14L compensates for the variable distances between the camera and the screen. These corrections are calculated in advance for each image displayed and viewed. The focus correction described above will differ for each size or type screen being used. If the equipment is to be used for different monitors, the parameters for each can be stored on the disk and the proper ones selected via set up information keyed into the computer before a production run is initiated. Alternatively, they can be dynamically selected if intermixed production is used. This will require inputting information, identifying the type of screen being adjusted and tested before the test and adjustments are initiated. A simple bar coded label on the monitor or its carrier with an automatic scanning device such as is commonly used in supermarkets can provide the necessary information to the processor automatically when the monitor is first brought into the test and adjustment station. Another technique which would eliminate the scanning operation is to have a pre programmed sequence and inform the processor in advance of the types and the sequence. While this is more complicated and prone to error, it is nevertheless less expensive to implement. To this end, Fig. 1 illustrates an external communication line for receiving this type of control information from a central control processor, not shown, and for supplying status information relative to the adjustment and test, i.e., pass fail information, range of adjustments, etc., all of which may be utilized by the central control processor for executing manual rework of rejected units and or retuning other elements of the production line. The digital image information and or photo multiplier tube PMT output from the IAU 14 is applied to an image processing module in the processor 12 for analysis. That is what kind of distortion or deviation is present in the digitized image. Stated differently, what are the differences between the image applied to the monitor 10 and the actual image seen by the IAU camera 14L. Based on these differences, an adjustment control module provides image correction signals via a cable Ic to the robot and test stand 11. These signals, depending on the specific test and the results of the image processing, will control the robot to adjust one or more potentiometers by activating one or more tools tl tn. After the adjustments ordered are completed, another view of the image on the screen is received by the image processing module to determine the effectiveness of the adjustment. In those instances where adjustment fails to correct the image, the unit 10 is rejected and a message dispatched to the central control processor which will cause that monitor unit to be switched to a manual rework station further on in the assembly line conveyor. In Fig. 2 the digital control signals on cable IAUC are converted to analog signals by a control unit 14R and applied to a Y axis deflection unit 15 which deflects an elongated mirror 16 so as to view a narrow area extending horizontally from one side of the screen to the other. They are also converted to analog signals which are applied to an X axis deflection unit 17 which deflects a mirror 18 so as to view a narrow area on the mirror 16. The composite view as seen on mirror 18 is focused on the camera 14C by the lens system 14L. As previously described, the third signal received from the processor 12 adjusts the focus to take into account the physical location of the viewed area on the monitor screen. As is well known, the monitor screen is not flat, in fact it is convex, and hence the focus varies widely as a function of the displacement of area viewed from the central region of the screen. In addition, the mirror acts as a point collector and as the desired path approaches the edges of the tube, the path length increases as a function of angular displacement from the normal position. However, for any monitor tube the total deviation can be calculated in advance or dynamically if desired for each of the areas to be examined and applied as a focus correction factor to the lens 14L via a mechanical control unit 19 under control of the control circuit 14R which provides the necessary digital to analog conversion to provide a suitable signal for the unit 19. A member 20 positioned between lens 14L and camera 14C, which may take the form of a mirror positioned under control of control circuit 14R can deflect the image to a photo multiplier tube 21 or allow the image to impinge directly on the photo sensitive surface of camera 14C. Alternatively, if sufficient illumination is present, a half silvered mirror may be used and the control unit 14R selects the appropriate output under control of the processor 12. The flow chart illustrated in Fig. 3 is a high level system chart showing the basic system steps. The test station first detects that a monitor is available and that the processor 12 has received and loaded the monitor type information. Next the parameter tables associated with the identified monitor are accessed. These parameter tables include the required tests, set up sequences and tolerances, physical characteristics and distortion tables and the focus table. These elements will become more apparent in the description of Fig. 4 which follows. The following step is the performance of the setup which yields the pass fail information which is sent to the central processor or host system. The final step is to clear the test station and await the next monitor. Fig. 4 is a detailed flow chart of all the detailed process steps required to practice the invention and must be viewed in conjunction with Fig. 3 which illustrates the overall process. The test parameters for the monitor resident in the test station are stored in processor memory and are accessed in a predetermined sequence under control of a pointer 30 illustrated schematically which may be, as is well known in computer art, a counter which is incremented, as will be described below, and points to the address in memory where the appropriate test parameters are stored. The first step in the process is to access the test parameter indicated by the pointer 30. The parameters indicate the data required and the requirements are evaluated. As a result of the evaluation, the necessary pattern part of the test parameters is sent to the monitor for display. The mirrors 16 and 18 are adjusted to view the appropriate section of the monitor screen and the lens is adjusted to focus the viewed image area defined by the angular position of mirrors 16 and 18. At this time the camera is read and the image information acquired and stored in the processor memory. The image data is next analyzed. Following analysis a determination is made if the measured parameters fall within gross limits. Images outside of the gross limits cannot be successfully adjusted and when this is detected, a fail status message is sent to the central processor and the test and adjustment cycle is terminated. If the measured parameters are within the gross limit, they are examined to determine if they are within the tolerance band or limits. If they are, this phase of the test is completed except for housekeeping functions. The data concerning this test step is collected in a file which is used for off line analysis of the system at a later time. The pointer 30 which points to the next step or operation is incremented. The next operation is examined to determine if it involves an adjustment or check, if it is one or the other, the process loops back to the first step for the next test. If not, it indicates a completion of the test and adjustment operation and the status is sent to the central processor or host. In those instances where the measured parameters fall outside of the tolerance band, the step is examined to determine if a check or adjustment is called for. If the step is a check, the unit is failed and status sent to the central host. If, on the other hand, the step calls for an adjustment, the required adjustment is determined from the test parameters and the adjustment made. A loop count which is one of the gross parameters is incremented. Thus, after n unsuccessful attempted adjustments the unit will fail the gross parameter test and thus fail. The process at this, following this adjustment, loops back to recheck the measured parameters. The routines described above are repeated for all of the adjustments and checks required. The actual number of adjustments and or checks will vary from one monitor to another and whether the monitor is color or monochrome. The patterns illustrated in Figs. 5, 6 an d7 are used in conjunction with the camera or the PMT to adjust vertical parameters. A similar set, not shown, rotated 90 is used to adjust horizontal parameters. Since the vertical and horizontal parameter adjustments are very similar, only the vertical will be considered in detail. The patterns illustrated in Figs. 8, 9 and 10 are used in conjunction with the camera to check the images for a pass fail evaluation and are not intended to be used in an adjustment operation. The dotted line rectangles and the circles illustrated in the illustrations of the patterns indicate various images viewed by the camera and areas viewed by the PMT, respectively. The pattern illustrated in Fig. 5 uses a wide solid bar 50 and two thin solid lines 51 and 52 displaced therefrom at the top of the screen. A similar pattern is displayed at the center of the screen and another pattern in which the thin lines appear above the wide solid line is displayed at the bottom of the screen. The mirrors are adjusted so that, at different times, the camera views the images formed within the rectangles illustrated in dotted line. The pattern illustrated in Fig. 6 includes three narrow solid lines at the top center and bottom of the screen. The mirrors are adjusted to cause the PMT to view, at different times, the screen areas identified by the circles 54. The pattern illustrated in Fig. 7 is a series of equidistant parallel narrow solid lines extending from the top to the bottom of the screen. Again the dotted line rectangle indicates an image viewed by the camera. Figs. 8, 9 and 10 are self explanatory and illustrate patterns which can be used to check These patterns and the images provided by the camera and the information from the PMT will be described below in connection with the description of Figs. 11 14. The pattern illustrated in Fig. 5 consists of three copies of a basic pattern which includes a fixed solid line, called a primary region, a thin solid line spaced therefrom called a secondary region, and a second thin solid line called a tertiary region. This pattern is replicated three times in Fig. 5 but inverted at the bottom of the screen. The thickness of the bar and the spacing of the thin region is derived empirically from a consideration of the particular monitor characteristics typically the primary region is one character block thick in the instance of a monitor. The camera is focused on an area of approximately 1 x1 . However, in a model which was constructed an area 1 x 0.8 was used, rather than an absolute square. If the monitor parameter being inspected or adjusted is correct, that is, within specification, the primary region would lie in the center of the area viewed by the camera. Depending on whether a primary region, a secondary region or a tertiary region or nothing is viewed by the camera, different actions are taken and will be described below. If a primary region is found within the field of view , the system attempts to center it using a centroid offset technique. If a secondary or tertiary region is found, the direction of the offset is known and the centroid offset for this region can be calculated. Once calculated, the adjustment is applied in an attempt to bring the primary region to its nominal position. In those instances where no regions are found within the area viewed, the direction of the offset is known. The relevant potentiometer or adjusting device is turned a default amount which has been empirically derived and the area re inspected. The size of the potentiometer or circuit adjustment is determined from empirically derived sensitivities of the front of screen effect to circuit control rotation and the centroid offsets derived therefrom. Areas are used to distinguish regions from each other and region centroids are used to determine how far from normal a parameter is. Fig. 11 illustrates twelve different camera images which can result from viewing the pattern illustrated in Fig. 5. These have been labeled E0 to E4 and A0 A6. In these images the dashed lines indicate invalid data, that is, the bar or line is not fully contained in the illustrated case vertically within the image area. The twelve images illustrated in Fig. 11 are grouped into two groups. The E group labeled E0 through E4 and the A group labeled A0 A6 in general it is possible to exit from an adjustment if one of the E group of images has been acquired, processed, and the bar satisfies certain conditions. This occurs usually when the E0 image has been acquired. On the other hand, if any of the A group images have been acquired, an adjustment is either required or a fail condition has occurred. The pattern illustrated in Fig. 5 includes as previously described a thick bar and two thin lines spaced therefrom. The thick bar in the discussion which follows will be identified as a primary region. The immediately adjacent thin line, a secondary region, and the thin line furthest removed from the bar is a tertiary region. Thus, each of the three segments illustrated in Fig. 5 includes the primary, secondary and tertiary region. With respect to images, A0, A2, A3 and A5, the secondary region has been identified with certainty. The offset of the secondary region from its nominal position can thus be determined and a compensating adjustment made or a fail pass decision can be made if a correction is not effective. In the case of images, A1 and A4, no valid region has been identified and in both cases an assumption is made that the non valid region closest to the primary region s nominal position is the primary region. The offset from the nominal is determined and an adjustment is performed or a fail pass decision is made. In the case of A6, the image acquired contains neither valid nor invalid regions and in this case it is assumed that the secondary region is perfectly centered in the image area. An offset is calculated and an adjustment is performed, or a fail pass decision is made. It should be noted that the sign of the adjustments is opposite to those utilized for images A0 to A3 and A5. The objective when performing an adjustment is to adjust specific parameters of the primary region. There may also be conditions with respect to the secondary and tertiary regions. These conditions generally involve their absence. The parameter of the primary region which is the significant parameter is the position or centroid of the primary region. The primary objective in processing the E group images is to center the primary region by determining the centroid of the acquired region and its offset from the nominal or centered position, then performing a physical adjustment via the robot to center the primary region within the viewed area of the image. There are three possible views of the parameter adjustment. The first view is that the parameter is correctly adjusted. This corresponds to a sub set of the E group of images in which the primary, secondary and tertiary regions satisfy all requirements for that parameter. In most instances this is achieved when the image E0 has been acquired and the primary region has appropriate or correct characteristics. The second state involves where the parameter is not properly adjusted and requires adjustment or setup. This state corresponds to any of the eight groups of images which have been acquired. It also corresponds to any of the E group of images in which the primary, secondary or tertiary regions do not satisfy the requirements of the specification. The third state is where the parameter is in adjustment or has been properly set up but has interaction. This state corresponds to the condition where an adjustment is being performed which has an effect on the state of another parameter. Examples are those of height and vertical linearity. When both of these parameters are correctly adjusted, or set up, an E0 type image with conditions on the primary region is expected. However, in order to successfully decouple the adjustments, linearity must be adjusted first. The state of the height parameter is therefore a variable. This may be translated into the condition that when setting up linearity the only predictable parameter is the position of the primary region, thus no constraints should be placed on the secondary and tertiary regions. Adjustment techniques based on the PMT output are useful for the parameters which include width, horizontal linearity or alternatively horizontal centering, east west pincushioning, height, vertical linearity or alternatively vertical centering and north south pincushioning. When the PMT is used to make adjustments, the adjustment process is considered a closed loop with continuous feedback. That is, the output of the PMT is not a sampled output. This eliminates the need for iterations in setting up the parameter. This technique is tolerant of manufacturing errors, thus if potentiometers of incorrect value have been inserted in the particular monitor under test, and the correct front of screen parameters are still achievable, the technique will work with very little cycle time impact. In addition, the technique does not require analysis of large amounts of data such as are contained in an image in order to verify that an adjustment is being performed correctly therefore, cycle time is essentially independent of the preset of the circuit elements. There are prerequisites to this adjustment technique. One, the adjustment direction must be known. This direction may be derived from the previously described images. Therefore, the potentiometer or circuit element can be turned in the correct direction to achieve adjustment. Secondly, the photomultiplier tube must be able to sample a spot having a maximum diameter of 1.0 millimeters at any desired place on the face of the monitor. The structure described is fully capable of accomplishing this. The adjustment technique involves focusing the photomultiplier tube on the monitor screen at a specific point for a specific parameter adjustment, displaying a line such as those illustrated in Fig. 6 on the monitor, and turning the relevant circuit element until the line lies in the field of view of the photomultiplier tube. The sequence is as follows 1 The pattern shown in Fig. 6 is displayed on the monitor. 2 The photomultiplier tube is pointed at and focused on one of the points indicated on the screen for a particular adjustment. 3 The photomultiplier tube output is sensed to detect the presence of light on the sensor, the relevant circuit element or potentiometer is turned to effect the adjustment and 5 when the photomultiplier tube output fires the potentiometer is no longer turned and the adjustment has been completed. After one of these adjustments has been made, a camera based technique, as described previously, may be used to check the parameter after adjustment. The pattern illustrated in Fig. 7 may be utilized for adjusting the linearity of the monitor under adjustment and test and the image provided by the camera when viewing the pattern of Fig. 7 is illustrated in Fig. 12. In this instance the linearity potentiometer is adjusted until the distance between any of the three lines illustrated in Fig. 12 is within linearity specifications and larger than an empirically derived minimum. The pattern and line spacings are derived from considerations of the adjustment characteristics of each monitor type. The direction of the adjustment is derived from a comparison of the distances A and B identified in Fig.12. If A is larger than B, then the adjustment is in one direction. If B is larger than A, the adjustment is in the opposite direction. The size of the adjustment is derived from a consideration of the ratio of A and B. The pattern illustrated in Fig. 8 has several uses. The different areas viewed are identified by numerals in Fig. 13 while Fig. 14 illustrates the use of the patterns shown in Figs. 9 and 10. All of these are used for checking the monitor to determine whether or not the image quality meets the specifications set for a particular monitor. The patterns and images are used in the following way. The first check utilizes the images illustrated in Fig. 13. The first parameter checked is image tilt. This utilizes images number 3 and 4 and determines the centroid offset in one axis and hence the angle of tilt. The check for trapezoidal distortion uses images 1, 2, 5 and 6 and measures the centroid of the illuminated area to determine trapezoidal distortion. Using a similar technique, parallelism is checked by using images 1, 2, 5 and 6. Centering of the images is checked by using image number 7 and computes the XY centroid offset of the illuminated area. Convergence of the color images is also checked by using some or all of the images available. This check requires the pattern being displayed sequentially in each of the three primary colors, then the centroids of each of the color images are compared for deviation. A second set of checks utilizes the images illustrated in Fig. 14. These images are numbered 1 15 and one of the images in the upper left hand corner bears two numbers. Images 1 10 are acquired when the pattern illustrated in Fig. 9 is displayed and images 11 15 are acquired when the pattern illustrated in Fig. 10 is displayed. North south pincushioning check uses images 1, 5 and 10. The offset between the centroids of these images in one axis indicates the amount of pincushioning present in the north south direction. Row straightness uses images 1 10. This test utilizes the deviation of the centroids of the images in the range of 1 10. Images 11, 13 and 15 are used to check east west pincushioning and the offset between the centroids of these images in one axis indicates the amount of pincushioning present in the east west direction. Column straightness is checked by using images 11 15. This check is very much similar to that used for row straightness, described above. The order in which the front of screen adjustments occur may differ slightly from one monitor or TV set to another. However, the following sequence has been found to be particularly useful 1 preset contrast, 2 set brightness, 3 set horizontal centering, 4 set vertical parameters, 4A linearity, 4B centering, 4C height, 5 set horizontal parameters, 5A width, 5B pincushioning, 6 set brightness, 7 check parameters. The checks may be performed in any sequence.