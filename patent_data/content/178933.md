# AUTO CORRELATION FILTER

## Claims
Filter für die Lieferung eines Energieinhalts 9 eines Eingangssignals 3 in einem vorbestimmten Zeitintervall M , welches umfaßt

## Description
The present invention relates to a filter for providing powers of a signal passing through specified frequency bands for each frame short time division . In spectrum analysis and sound identification, FFT fast fourier transform and digital filter bands are two typical methods for obtaining the power of a signal of a particular frequency band through digital processing. Method with FFT is as follows. First, the FFT of a signal waveform gives the power of each frequency component. Then, the powers of the frequency components are multiplied by the weights corresponding to the frequency response of the filter and summed up, so that the power for each frame is obtained. This method is advantageous in that a filter of a desired frequency response is easily realized. The problem is, however, that FFT requires many complicated calculations. Method with a digital filter is as follows. After a signal is passed through a specified filter, the filtered signal detection is squared for power calculation. Then, the signal is passed through a low pass filter to sample the power for each frame. Referring to Fig. 1, an analog signal 101 is converted by an analog digital converter 102 to a digital signal 103 which is passed through a digital filter 104 with a specified frequency response so as to obtain a signal 105 having the pass band frequency components. Then, the signal 105 is passed through a square circuit 106 to square the signal value, thus obtaining an instantaneous power signal 107. The signal 107 is then passed through an anti alias low pass filter 108 to obtain a reflected noise free signal 109 which is sampled by a sampling circuit 110 at frame intervals to obtain output power 111. Though this digital filter method involves fewer calculation stages, it is necessary to increase the number of degrees of the digital filter to improve the cut off frequency response of the filter, resulting in increased labour for calculation after all. In addition, the number of calculations increase in proportion to the number of filter channels. Accordingly, an object of the present invention is to provide a novel auto correlation filter which calculates the power of the signal passed through a filter with a specific frequency response for each frame. Another object of the present invention is to provide the structure of the auto correlation filter realized by the small number of calculations of auto correlation functions and their linear combination. Other objects and further scope of applicability of the present invention will become apparent from the detailed description given hereinafter. It should be understood, however, that the detailed description and specific examples, while indicating preferred embodiments of the invention, are given by way of illustration only, since various changes and modifications within the scope of the invention will become apparent to those skilled in the art from this detailed description. Pursuant to an embodiment of the present invention there is provided a filter for providing a power of an input signal in a predetermined time interval M comprising Further the filter may comprise means for providing coefficients defined by a cosine transformation of frequency response of said filter, said coefficients being used by said means for obtaining a linear combination of said auto correlation functions. Preferably the filter may comprise means for providing coefficients defined by a cosine transformation of frequency response of said filter and a window function for reducing the number of degrees of said auto correlation functions, said coefficients being used by said means for obtaining a linear combination of said auto correlation functions. Pursuant to another embodiment of the present invention there is also provided a filter for providing plural powers of an input signal in a predetermined time interval M , each of said plural powers corresponding to one of plural channels, comprising Conveniently, there is provided a method for providing a power of an input signal in a predetermined time interval, comprising the steps of The number of the calculations involved in the filter of the present invention is obtained by the following formulas in which N is the number of sampling points in one frame, L being the number of channels to be realized, with the assumption that the degree of auto correlation functions is from 0 to M Further, the filter whose calculations mainly consist of sum of products is suitable to a digital signal processor that is quick in the sum of products calculation. The present invention will be better understood from the detailed description given hereinbelow and the accompanying drawings which are given by way of illustration only, and thus are not limitative of the present invention and wherein An embodiment of the present invention will be described in details in the order of Auto correlation function τ and power spectrum Φ ω have such well know relation as expressed by the equations 1 and 2 below. For application to sampled digital signals, these equations are transformed as follows, by using the auto correlation functions for the short time division frame in a discrete time system Here, in which Sm n is a sampled input signal series in the m th frame and is equal to Supposing F k is an ideal frequency response of a filter to be designed, the output power P If this equation is expanded using the equation 4 , the following equation is obtained. It is understood from the above that the output power P That is, a t is a cosine transformation of F k . By inverse cosine transformation, the following equation is obtained Now, when the auto correlation functions are multiplied by a window function ω t to cut the calculations at a certain degree of the auto correlation functions, the linear combination coefficients a Thus, F The principle of the present invention has been described above. It deserves attention that the calculation of auto correlation functions is the same for any frequency response of a filter, excepting that the linear combination coefficients for each auto correlation function is different. Since the degree of coefficients can be limited by the window function, memory capacity for storing coefficients and the number of calculations for linear combination is reduced. Consequently, the filter of the present invention is very convenient in realizing filter bands used for spectrum analysis and speech recognition, that is, multichannel band pass filters. However many channels the filter bands may have, calculation is needed only once to the specified degree of the auto correlation functions. Calculation for the linear combination must be executed for each channel, but the number of the calculation is small. Moreover, since a limited number of linear combination coefficients determines the frequency response of a filter, the memory for storing coefficients need not have a large capacity. Unlike an IIR filter, the filter of the present invention does not contain a feedback loop, and therefore does not present a problem such as limit cycle. An example of the band pass filter design based on the above principle will be shown in the following. The filter to be designed has a sampling frequency of 10kHz, 200 sampling points for a frame, and a passing band of 2,200 Fig. 5 shows the linear combination coefficients for the frequency response of the ideal filter calculated by the cosine transformation of the equation 8 . The coefficients are symmetrical with respect to the 100 sample time. The auto correlation functions themselves are also symmetrical. Therefore, sum of products calculation are needed only up to the 100 sample time division by 2 is not necessary. Fig. 6 shows the weighted coefficients of the equation 10 , with the value for the auto correlation functions up to the 25 sample time being restricted by a rectangular window. The cosine transformation of the rectangular window is shown in Fig. 7. Calculation of the convolution equation 14 between the cosine transformation of the rectangular window and the ideal filter frequency response yields the frequency response corresponding to the rectangular window as shown in Fig. 8. This frequency response with a large 30dB side lobe can be improved by raising the degree of the auto correlation functions. In Fig. 8, the thick lines indicate an ideal band pass filter. The linear combination coefficients of the auto correlation functions restricted by a Hanning window instead of the rectangular window, the cosine transformation of the Hanning window and the frequency response are shown in Figs. 9, 10 and 11, respectively. The linear combination coefficients of the auto correlation functions restricted by a Hamming window, the cosine transformation of the Hamming window and the frequency response are shown in Figs. 12, 13 and 14, respectively. The frequency responses in Figs. 11 and 14 have very small side lobes 55dB but present very wide passing bands. In designing the filter of the present invention, it is necessary to select a suitable degree for the auto correlation functions and an appropriate window function according to the purpose. Specific construction of the auto correlation filter design will be described in the following. For explanatory purpose, the degree of the auto correlation functions for the filter of the present invention is assumed to be 0 to 9. Fig. 2 shows the entire construction of a filter of the present invention. An analog signal input from an input terminal 1 is converted to a digital signal 3 by an analog digital converter 2. The digital signal 3 enters an auto correlation circuit 4 where the auto correlation functions are calculated for each frame and outputted. The auto correlation functions 5 enter a sum of products calculator 6 where they are multiplied by linear combination coefficients 8 read from a memory 7 and the products are summed up as indicated by the equation 7 . The sum is outputted as the power 9 of the filter. If the memory 7 has stored the coefficients for many kinds of auto correlation filters, outputs of many auto correlation filters are easily obtained by executing sum of products calculation for the auto correlation functions and the coefficients sequentially read from the memory 7. Now, the circuit of the auto correlation filter and the operation timing will be described in detail with reference to Figs. 3 and 4. In this description, it is assumed that the memory 7 stores auto correlation filter coefficients for 8 channels. In Fig. 3, analog signal inputs 1 are converted by an A D converter 2 to digital signals 3 which are stored in a shift register 41 sequentially. The shift register 41 and the A D converter 2 are operated synchronously with a sampling clock signal CK1 which is continuously supplied at a constant interval as shown in Fig. 4. The length of frame is determined for calculating the power of the auto correlation filter. The number of sampling points for one frame is N in the equation 5 . In Fig. 4, the m th frame comprises the sampling pulses from 1 to 2 . Among the digital signals 3 stored in the shift register 41, the last data a and each data of b In the adders 43a The partial sum registers 44a Meanwhile, an address register 71 of the memory 72 is initialized for the address that stores the linear combination coefficients a₁ t of the No. 1 channel by the pulse 4 of the clock signal CK3. Given this address, the memory 72 outputs linear combination coefficients a₁ 0 , a₁ 1 , ... a₁ 9 of the No. 1 channel, the values being set in the respective areas of a memory register 73 by the pulse The auto correlation functions preliminarily calculated and retained in the auto correlation registers 45a The product outputs are summed up by adders 62 The invention being thus described, it will be obvious that the same may be varied in many ways. Such variations are not to be regarded as a departure from the scope of the invention.