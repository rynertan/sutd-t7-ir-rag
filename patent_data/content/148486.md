# IMPROVED RATE ADAPTIVE PACEMAKER APPARATUS

## Claims
Bedarfs Schrittmachergerät 50 mit anpaßbarer Frequenz, zur Versorgung eines Patienten mit Schrittmacherimpulsen, mit einer Fühleinrichtung zum Erfassen natürlicher Herzschläge und einer Reizeinrichtung zum Abgeben von Reizimpulsen mit steuerbarer Frequenz bei Fehlen erfaßter natürlicher Herzschläge,

## Description
The invention relates to a demand pacer apparatus for pacing a patient, having a stimulus means for delivering stimulus pulses and sensing means for sensing natural heartbeats, first means for sensing a patient variable indicative of desired pacing rate, and rate means for modifying the rate of delivery of stimulus pulses by said stimulus means as a correlation function of said sensed patient variable. Such demand pacer apparatus is known from DE A 32 43 094. A physiologically adaptive cardiac pacemaker, wherein the desired pacing rate is determined as a function of sensed stimulus T wave Q T interval has been shown in US A 4 228 803. This pacemaker, which is now being produced commercially, is referred to as the Tx rate adaptive pacemaker. The use of a microprocessor, or equivalent programmable circuitry in a pacemaker, such as shown in EP A 0 077 845, makes the Tx pacer more readily feasible. Other improvements to this principle are disclosed in US A 4 305 396. The Tx rate adaptive pacer makes possible an improvement in determining the refractory interval for a ventricular or atrial pacer which has not been heretofore available. In conventional pacemakers, it is necessary to set the refractory interval safely after the expected time of occurrence of the T wave. However, this safety factor is at the expense of QRS sensing, since a longer refractory period results in a shorter sense period. In the Tx pacer, however, the occurrence of the T wave is sensed, and accordingly information is readily available for terminating the refractory period directly after the sensed T wave. A normal premise of a rate adaptive demand pacemaker, Tx or otherwise, is that when the natural patient heart rate is being sensed and the pacemaker stimulus delivery is being inhibited, an optimum condition obtains. In other words, when the heart is able to operate without intervention of the pacemaker, it should do so. However, at the same time, there may be conditions when the pacemaker should overtake or overdrive the natural rate. For the Tx pacer, as long as pacing is inhibited, no Q T data is acquired from which a pacing rate can be determined. Under such circumstances, it is desirable to get the Q T rate indication and adjust the pacing rate, either to overtake the heart or to have the proper pacing rate established in the event of loss of the natural beat. Another need of adaptive rate pacers generally is that of periodically checking and adjusting the correlation between a pacer indicated rate and the sensed physiological parameter, or data. For example, for the Tx pacer, a correlation or sensitivity function in terms of beats per minute bpm per Q T interval ms must be programmed into the microprocessor it is desirable to be able to check that correlation function and determine, at any point in the lifetime of the implanted pacemaker, whether the correlation function is appropriate, or whether it should be adjusted in view of data concerning the patient. The prior art discloses demand pacers with rate means for modifying the rate of delivery of stimulus pulses in accordance with some correlation function of a sensed patient variable. Thus, DE A 32 43 094 US A 4 467 807 shows a rate adaptive demand pacemaker, operative either as a single chamber or dual chamber pacemaker. In either case, pacing may intervene over the natural rate, or in the absence of a natural rate the pacing is controlled by and as a function of a sensed parameter e.g., oxygen level, pH of the blood, respiration rate . However, such a system does not disclose any arrangement for checking or adjusting the correlation between the indicated pacing rate and the sensed parameter. What is needed is an improvement for determining when the correlation function may need to be changed, i.e., when it is not appropriate to indicate the patient s condition. EP A 0 077 845 discloses a dual chamber pacemaker which operates in an atrial synchronous mode when atrial signals are present in the absence of atrial signals, ventricular pace pulses are delivered on a demand basis. The intermediate document EP A 0 147 820 discloses a dual chamber pacer operating in one or another of alternate rate adaptive modes. The pacemaker comprises means for automatically testing the appropriateness of the mode currently in use and for automatically selecting the appropriate rate control mode. It is an object of this invention to provide a rate adaptive demand pacemaker which adjusts the correlation function between the rate of delivery of stimulus pulses and the sensed patient variable to the patient s requirements. According to the present invention this object is solved taking the demand pacer apparatus known from DE A 3 243 094 as a basis either by the characterizing features of claim 1 or of claim 9. Preferred further developed developments and embodiments of the demand pacer apparatus of the present invention are described in claims 2 to 8 and 10 to 11. The invention is further described with reference to the accompanying drawings in which Reference is made to EP A 0 077 845 which shows in detail an implantable pacemaker utilizing a microprocessor. As disclosed in the referenced application, the microprocessor pacemaker provides great flexibility, and different operating modes and routines can be easily incorporated by storing appropriate software in the pacemaker. As illustrated in the referenced application data may be transmitted between an external programmer to the pacemaker. Such external programming is now state of the art, and preferably part of the overall system into which this invention is incorporated, as illustrated in Fig. 1. The implantable pacemaker 50 is shown in two way communication with external programming means 56. The external programming apparatus suitably comprises a programmer 54 which is positioned adjacent to the patient s heart, the programmer being in two way communication with a computer 55, suitably an HP 85 computer. By this means, the operator can obtain operating data from the pacemaker and reprogram pacing variables in response thereto. Further, due to the memory capacity of the pacemaker, it is a relatively simple task to enable the pacemaker to operate in a number of different modes. While the pacemaker of this invention is illustrated as being a simple single chamber, i.e., ventricular pacer, with a lead 51 connecting the pacemaker and the patient s ventricle, it is to be understood that the invention is applicable to atrial and dual chamber pacers. Also, there is illustrated a body sensor 52, which may be utilized to sense another body parameter such as respiration rate, the body parameter data being used for rate control purposes. More specifically, in the preferred embodiment of this invention, the pacemaker is a Tx type rate adaptive pacemaker such as disclosed in US A 4 228 803. In such a pacemaker, the time interval from the delivered stimulus to the measured evoked T wave, referred to as the Q T interval, is taken as an indicator of desired pacing rate, and means are provided for adjusting or controlling the pacing rate in terms of the sensed Q T interval. As used herein, the phrase Q T refers to either the time interval between a delivered stimulus and evoked T wave when the pacemaker is pacing, or the time interval between the natural QRS and the T wave which follows, during pacemaker inhibited operation. Referring to Fig. 2a, there is shown a flow diagram which illustrates an improved form of Tx operation, wherein there is incorporated an overdrive feature such that when inhibited operation is recognized the pacing interval is incrementally decreased until one or more stimulus signals are delivered, thereby enabling determination of the Tx indicated rate. This procedure overcomes the problem that we have observed, namely that during inhibited operation the pacemaker is not receiving Q T data, and as a result it lacks feedback as to whether the natural rate is physiologically good. As illustrated, the flow diagram of Fig. 2a runs during the refractory period and starts just after pulse delivery or inhibition not shown . As used in the flow diagram, the term wait means that the microprocessor is turned off and waits for start up either by sensing an event or by timing out. Each block which indicates that a certain time is sent to the timer means that the pacemaker next looks for that time in the course of the pacing cycle. At block 60, the pacemaker resets the T sense flag, and at block 61 disables the sense circuits 1 and 2, for sensing QRS and T waves respectively. At 62, the pacemaker determines whether the last interval was ended with a natural beat or a delivered stimulus pulse. If beat pace, meaning that a stimulus was delivered, the pacemaker proceeds to set up the T wave window at blocks 64 68. Referring also to Fig. 2b, the pacemaker first puts the time T If the determination at block 72 is that there has been no time out, meaning that the T wave was sensed, the T sense flag is set at block 74. It is next determined whether T Returning to block 75, if the answer is no, meaning that the T wave was sensed after the middle of the window, then at block 81 it is determined whether the difference between T and T At block 85, it is determined whether the last cycle was ended with a delivered pacing stimulus. If yes, the program branches to block 86 and adds an increment d to the pacing interval. This provides a normal downward drift in pacing rate, when the pacemaker is delivering stimulus pulses. Note that if the sensed QT interval in subsequent cycles continues to indicate a higher rate, the timing change at block 78 will maintain the higher rate. However, in the absence of such QT information, the pacing rate will gradually drift downward to a predetermined minimum or base rate. At block 87, it is determined whether T It is recognized that the correlation factor between Q T and change in pacing rate may require adjustment following a certain length of pacing operation. Such adjustment may be made either through the external programming means, as illustrated by the flow diagram of Fig. 3, or may be made automatically by internal analysis. In Fig. 3, at block 135 the operator takes steps to periodically induce a rate change in the patient, by known means. At block 136, the pacemaker outputs QT data to the apparatus 56, where it is examined by the operator. At block 137, either the operator or the computer 55 computes the desired Tx correlation adjustment, and the Tx adjustment data is transmitted back to the pacemaker at block 138. Referring now to Fig. 4, there is illustrated a flow diagram of a preferred embodiment of this invention, for automatically comparing a sensed patient natural rate with the indicated Tx rate. In this flow diagram, some of the details shown in Fig. 2a are omitted for brevity. At block 102, it is determined whether the last cycle ended with a pacing stimulus. If yes, a counter for counting successive natural sensed heartbeats is reset at block 113. At block 114, the steps for measuring the QT interval are carried out, and the pacing rate is adjusted accordingly. At block 115, the microprocessor determines whether there is a Tx compare flag, i.e., whether the program is to compare the Tx indicated rate with the last natural rate. If not, the routine carries out the limit checks as shown in Fig. 2a, and exits. If, at block 115, it is found that the Tx compare flag is set, then at block 116 the microprocessor compares the Tx indicated rate with the last natural rate. This is a programmed logical step and may, for example, be a comparison of the difference of the Tx rate and the natural rate with a predetermined limit. In other words, if the natural rate is found to differ from the Tx indicated rate by more than the predetermined limit, it is deemed that the correlation, i.e., sensitivity function, is not acceptable. In making the comparison, either single cycle values of natural rate and Tx indicated rate can be compared, or mean values taken over plural cycles can be compared. Following this, the Tx Compare Flag is reset at block 118. The pacemaker next proceeds to blocks 125 and 126, to determine whether any correlation change is required. At block 125, the pacemaker determines whether any adjustment of the correlation has been signaled from the external programmer, such as illustrated at Fig. 3. If yes, the programmed change in either dT or dT Returning to block 102, if it is determined that the last interval ended in a sensed QRS, the counter 103 is incremented. At 104, it is determined whether the counter has reached a predetermined number n, representative of an arbitrary number of successive sensed natural heartbeats. If no, the pacing interval and refractory interval are set at 105, and the routine exits. If the counter has reached n, the program branches to block 106, where the counter is reset. At block 108, the pacing interval is adjusted by subtracting the increment T The embodiment of Figure 4 illustrates a single overdrive stimulus which is specially timed to be delivered just before the next expected spontaneous beat, so as to obtain a Q T value without the pacer really intervening in the patient s natural rhythm. However, it is to be understood that, if desired, the routine can be changed to continuously decrease T