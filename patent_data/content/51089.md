# Method for the analysis of scanned data.

## Abstract
A material under test is scanned by transmit and receive ultrasonic transducers, thus generating data representative of the structural integrity of the material at precise locations thereof. The data is stored in memory for recall to excite a graphics display of the material. A user may define any boundary shape within the display and thereby cause a computer to recall and statistically process only those data points within the boundary.

## Claims
CLAIMS 1. Apparatus for the testing of a material wherein a scanning transducer means produces a sequence of output signals X, Y and Z, said signals X and Y defining a structure location and said signal Z being representative of a structural parameter at said location, the improvement comprising memory means for storing said X, Y and Z signals, accessing means for accessing selective ones of said X, Y and Z signals representative of a desired section of said material and processing means for performing a predetermined statistical analysis corresponding to the type of test being performed, on said selected signals thereby determining a characteristic of said material section. 2. The improvement of claim 1 further including comparator means for comparing each of said Z signals with a selectable ref rence level and display means for producing a display of each of said Z signals, in its relative location as determined by the corresponding X andY signals, having a predetermined relationship to said reference signal. 3. The improvement of claim 2 wherein the accessing means comprises means acting in cooperation with said display means to define any selected area of said display and access only those signals contained therein for statistical processing by said processing means. 4. Apparatus for the testing of a material wherein a scanning transducer means produces a sequence of output signals X, Y and Z, said signals X and Y defining a structure location and said signal Z being representative of a structural parameter at said location, the improvement comprising memory means for storing said X, Y and Z signals comparator means for comparing each of said stored signals with a selectable reference level and display means for producing a display of each of said Z signals, in its relative location as determined by the corresponding stored X and Y signals, having a predetermined relationship to said reference level. 5. The improvement of claim 4 further comprising accessing means for accessing selective ones of said X, Y and Z signals representative of a desired section of said material and processing means for performing a predetermined statistical analysis on said selected signals thereby determining a characteristic of said material section. 6. The improvement of claim 5 wherein the accessing means comprises means acting in cooperation with said display means to define any selected area of said display and access only those signals contained therein for statistical processing by said processing means. 7. A method for the display and selective statistical analysis of a series of data points, each data point being represented by unique position signals X and Y and a magnitude at said position represented by a signal Z, the method including the steps of a storing each data point X, Y and Z signal in an array b plotting said stored data points on a graphic display such that the magnitude of the display of each data point corresponds to said signals X and Y c generating a user controlled boundary on said display d selecting only those data points contained within said selected boundary, and e performing a predetermined statistical analysis on only those displayed data points within said boundary. 8. The method of claim 7 wherein the step of generating a user controlled boundary comprises the steps of a providing a user controlled first cursor boundary point on said display, said point having position coordinates X 1 , Y 1 b storing said coordinates X 1 , Y 1 c providing a user controlled second cursor boundary point on said display, said point having position coordinates X 2 , Y 2 d storing said coordinates X 2 , Y 2 e displaying a vector between said first and second cursor points f calculating and storing the slope and intercept of said vector and g repeating the steps above for the remaining cursor boundary points including displaying vectors between successive cursor points, and between the last and the first cursor points, and calculating and storing the slope and intercept of each vector. 9. The method of claim 8 wherein the step of selecting only those data points contained within the selected boundary comprises the steps of a sorting the X coordinates of the cursor points to form a monotonically increasing value list thereof b determining the X span of each of the vectors betwen successive cursor points c determining which of the unsorted vector X spans are associated with successive pairs of the sorted cursor X coordinates d scanning the display by incrementing in values of Y from an origin value to the higher Yvalue allowed at which time the X value is incremented by a predetermined value X and Y is again incremented from its origin value to its highest allowed value, repeating this process until the entire display has been scanned e during scanning step d i upon the instantaneous incremented X value exceeding a sorted X coordinate cursor point and its successive cursor points are sorted according to increasing Y intercept values with said incremented scan ii upon the scan incrementing in Y value to the first vector intercept, comparing the incre mental scanned value with the stored data point value and selecting those data point values equaling the scanned value until the scan increments to the next intercept with a vector iii selecting subsequent data points whose coordi nates match the instantaneous scan value for scan values which are between odd and even num ber Y intercepts with the vectors.

## Description
The present invention pertains to the data processing art and, more particularly, to a method and apparatus for the selective analysis of scanned data. Numerous systems are known to the prior art which provide a means to analyze scanned data. One such prior art system which particularly relates to the instant invention pertains to nondestructive testing of materials.Here, a transducer scans the material under test in a raster pattern to insure coverage of the area of interest. The detected output of the transducer is then used to drive a two level facsimile recorder.A reference level is set in the recorder. For transducer outputs above and below this level corresponding light and dark areas are formed on the recorder. If, on a given scan, the programmed reference level does not yield the desired material information, a new level is entered and the scan is rung again. Thus, for a complete profile of the material several scans must be run. Further, once a scan is run it is often desirable to do a statistical analysis on selected areas of the material scan. In the prior art now and heretofore, techniques have been delopved for sectioning off regularly shaped, generally square, sections of a scan in selecting the data points therein. In many applications, it is desirable to be able to select any given area of the scan for statistical analysis of the data points contained therein. It is an object of this invention, therefore, to provide apparatus for storing the results of a material scan and accessing selective ones of the data points for statistical analysis. It is a further object of the invention to pro vide apparatus for the resting of a material which includes a means for utilizing the results of a single scan to display various characteristics of the material. It is an additional object of the invention to provide a method for the display and selective statistical analysis of data points contained within a defined area of a display. Briefly, according to the invention, the apparatus which tests the material by the use of a scanning transducer, which transducer produces a sequence of output signals X,Y and Z with the signals X and Y defining a structure location and the signal Z being representative of a structural parameter at the X,Y location is characterized by improvements including memory which stores theX,Y, and Z signals. An accessing means accesses selective ones of the X,Y and Z signals representative of a desired section of the material. Processing means performs a predetermined statistical analysis on the selected signals thereby determining a chracteristic of the material section. Further, the apparatus may be provided with a comparator which compares each of the Z signals with a selectable reference level. A provided display produces a display of each of the Z signals, in its relative location as determined by the corresponding X and Y signals, having a predetermined relationship to the reference signal. The method for the display and selective statistical analysis of a series of data points, wherein each data point is represented by unique position signals X and Y and a magnitude at that position represented by a signal Z, includes the first step of storing each data point X, Y and Z signal in an array. The stored data points are plotted on a graphic display such that the magnitude of the display of each data point corresponds to the Z signal and the relative position of the display of each data point corresponds to the signals X and Y. Thus, a user controlled boundary on the display is generate d.Those data points contained within the selected boundary are selected, with a statistical analysis being performed thereon. Figure 1 is an overall block diagram of the preferred embodiment of the nondestructivetesting system according to the invention Figure 2 is representative of a sample display provided by the apparatus of figure 1 Figures 3A and 3B are flow diagram illustrating the logic operations performed by the computer of figure 1 and Figure 4 is a graph illustrating pictorially the operations performed by the computer shown in Figure 1. Figure 1 is a block diagram of an ultrasonic through transmission material testing system. Here, a portion of the material under test 10 is located between a transmit transducer 12 and a receive transducer 14. Water columns on both sides of the material 10 couple ultrasonic bursts, generated by power oscillator 16, therethrough. The amplitude of the pressure pulse transmitted through the material 10 is monitored by the receive transducer 14 and converted to corresponding analog electrical signals. Means, not shown, causes the transmit 12 and receive 14 transducers to scan the material in unison. Such ultrasonic, scanning transducers are readily commercially available. The analog signals from the receive transducer 14 are compressed in the log compressor 18, thereby reducing the overall dynamic range of the detected signals for easier signal processing, and applied to the input of a time gate peak detector 20. The power oscillator 16 pro vides a synchronization, or sync signal at an output which is applied to the time gate peak detector 20. The function of time gate peak detector 20 is to output the signal supplied by the log compressor 18 after a selectable delay following the sync pulse to enable the ultrasonic pulse to travel through the test object and coupling media. Thus, the output of time gate peak detector 20 is the precise through transmission response of the material corresponding to the maximum received signal detected within the gated interval. A monitor oscilloscope 22, which is triggered off the power oscillator sync pulse, monitors the output of log compression amplifier 18 to display to the operator the instantaneous response of the system. The DC analog output from time gate peak detector 20 is applied on a first line 24 to an input of an analog to digital converter 26. Also applied to input lines 28 30 of analog to digital converter 26 are the position outputs from a scanner controller 32. Scanner controller 32 includes the apparatus which controls and drives the scanning of the transmit and receive transducers 12,14. The instantaneous position of the transducers is represented by an analog X coordinate signal on line 28 and an analog Y coordinate signal on line 30. Analog to digital converter 26 operates in the conventional manner to convert the signals on its input lines 24,28 and 30 to corresponding digi tal signals at its output lines 40,42 and 44, respectively. A digital signal representative of the DC amplitude on line 24 is designated as a Z coordinate whereas the X and Y inputs on lines 28,30 retain their identity. In an alternative arrangement, the X and Y position signals, rather than being derived from digitized analo signals, may be generated from the sampling pulses occurring at regular Y axis increments together with a discrete direction voltage which determines the manner in which data is output to the display. This reduces the data storage requirement. The scanner controller 32 also provides an output line 46 which is a sample interrupt signal. The interrupt signal controls the sampling of the test data by the analog to digital connector. As the transducers scan the test object, the scan controller generates interrupt pulses at regular intervals, typically 1 per millimeter, to sample in the Y direction. The X axis increment is typically fixed at either 1.5mm or 6.0 mm. The digital X,Y and Z signals as well as the interrupt signal are fed to the inputs of a computer 50.While the precise operation of the computer 50 is described more fully with respect to figures 3A,3B and 4, for the pur poses of figure 1 the computer 50 loads the data points into a memory 52. Memory 52 may be comprised of any conventional memory means such as tape, disc or electronic memory. Once all of the data points have been loaded into memory 52, the computer 50, responding to its internal programing, outputs the data to a conventional printer plotter 54 and a graphics terminal 58 which in turn drives a hard copy recorder 60. System control is provided via a standard CRT terminal 56. Figure 2 is representative of a sample display produced by the system of figure 1. The display is representative of the part under test in that the relative bright iness of each data point is representative of the amplitude of the Z signal at the relative positoon on the sample as determined by the X, Y coordinate signals. Thus, for example, the computer compares the Z level of each data point with a programable reference level. If the Z level is less than the reference level this may be displayed as either a light or dark area dependent upon programing.Correspondingly, if the Z value is greater than the reference this may be displayed as a dark or light region.By changing the programable reference level the computer 50Scan produce different displays of the materisl showing its various characteristics. This eliminates the repetitive scans required in the prior art. Also, an operator, via use of the graphics terminal 58, can define a boundary area, indicated generally at 70, from which data points are to be selected for statistical processing. The manner in which this is done is more fully understood with reference to figures 3A,3B and 4. Figures 3A and 3B are flow diagrams illustrating the sequences performed by the computer 50 of figure 1 to create the data display, allow a user to define any boundary within the display and perform statistical analysis only on data points within that boundary. Figure 4 pictorially depicts the process which the computer performs. Referring to figure 3A, the computer begins its operation at the start 100. The X, Y and Z signals corres ponding to each data point are recalled from memory 52 fig.l and plotted on the graphics display, as indicated by block 102. Upon viewing the display, a user may define any shaped boundary for statistical analysis. This begins, as indicated in block 104 by selecting a first cursor point on the boundary. Referring to figure 4, the first cursor point is indicated by . The X, Y coordinates of this point are stored in memory and point isplotted on the display. The process continues by selecting the next cursor point, here point in figure 4, as indicated in block 106.A vector is then drawn between points and The X and Y coordinates of the next point are stored and the computer calculates the slope, and Y intercept of the vector between pointsQl and Block 108 then poses the question as to whether this is the last cursor point. If the answer is no the system returns to inputting the next cursor point, and continues as per block 106. In the example shown in figure 4, a total of 5 cursor points are utilized. It should be understood, however, that any number of cursor points could be provided. Once the last cursor point is entered, the computer continues in accordance with the flow diagram of figure 3B. Here, as indicated by block 110, the last cursor point, i.e. point in figure 4, has its X and Y coordinates stored and a vector is drawn between the last point and the firstpant g The slope and Y intercept M N , respectively, are calculated and stored for this vector. The computer then monotonically sorts the X cursor points to develope an increasing list of sorted X breakEMI7.1 Next, the vectors are examined to determine the set of their X spans which fully overlap each of the spans of the ordered, or sorted X spans. In the example shown in figure 4, the X span of the vectors labeled 2u and 3u overlap the sorted X span 1 the vectors labeled 2u and 4u overlap sorted X span 2s the vectors labeled 1u,2u,4u and 5 overlap sorted X span 3s and vectors labeled 1 and 2 u u u overlap sorted X span 4s. Plotting of the stored sample points originated at the lower left corner of the display and takes place from bottom to top, as indicated by blocks 116 and 118 of figure 3B and the arrows, indicated generally by reference numeral 120 in figure 4. Following logic flow diagram 3B, at block 130 the X coordinate of the plot is tested for being between successive break points. If it is not, the point is plotted, at block 132, and the test is made at block 134, to determine whether or not the vertical line is complete, i.e. whether or not the Y coordinate of the plot exceeds the highest allowed Y coordinate of the display. If the line is not complete, the system increments the Y value by a value tY, as indicated at block 136. The system then reverts to block 130 to determine whether or not the X coordinate of the plot is between X break points. This process continues until , as shown at line 140 in figure 4, the X coordinate of the plot is in fact between X break points. Now, at block 142, a determination is made as to whether the X value is a new X value, i.e. whether the X value has been incremented from its previous value at the time of the test at block 142.If it is, the system increments to block 144 and calculates the Y intercepts of the plOwith overlapping vectors between the X break points. At block 146 a monotonic sort is done of the Y intercepts to determine in which order the plot will intercept vectors. Thus, as in figure 4, the plot line 140 will intercept vector 3 prior to intercepting vector 2. After completing the monotonic sort of Y intercepts, the system, in block 148, determines whether or not the plotted Y coordinate is greater than or equal to the smallest Y intercept. If no, the system reverts to plot point block 132. If yes, a test is done, at block 150, to determine whether or not the plot has passed an odd number of intercept corossings. If no, the system reverts to plot point block 132 whereas if yes a test is made at block 152, to determine whether or not the plotted Y coordinate is less than the largest Y intercept. If no, the system reverts to plot point block 132 whereas if the plot is less than the largest Y intercept the point is accumulated for statistics at block 154. The system then returns to the plot point block 132. In this manner, one complete vertical line scan is made. Once the line is complete, as determined by block 134, the system determines whether or not the entire plot is complete at block 156. If it is not, the X value is indexed by value Ax at block 158 and the Y value is reset to zero at block 160, with the system returning to block 130 for further iterations. Finally, once block 156 determines that the plot is complete, it causes the display to plot the cursor vectors, calculate the statistics for the points accumulated by block 154, and output the statistics at block 162.The process being complete, the system then stops, as indicated at block 164. To summarize the basic method by which data points within any desired boundary are selected, cursor points which define the boundary of the desired area are entered by a user. The system then generates a vector between successive cursor points, and calculates the slope and Y intercept of the vector. When all cursor points have been entered, the system sorts the X spans between cursor break points. A determination is made of which unsorted X spans from the generated vectors are associated with the sortedX spans between cursor break points. The plot, beginning at the origin, generates successive vertical lines. Once it is determined that the X coordinate of the plot is between the sorted X span break points, those unsorted vectorX spans which overlap the relevant break points are tested for a Y intercept with the plot. In this way, the system knows which of the vectors is crossed first. If the plot is greater than or equal to the smallest of the vector Y intercepts, and if at that point an odd number of intercept crossings has been made and if the plot is less than the largest vector intercept, then conditions are satisified for the plot being within the defined boundary.Therefore, data points falling on this vertical line and satisfying the above conditions are accumulated for statistics. In this manner, all data points in the scan system within any defined area can be accessed and processed statistically. While a preferred embodiment of the invention ha been described in detail, it should be apparent that many modifications and variations thereto are possible, all of which fall within the true spirit and scope of the invention