# Reconfigurable input output system.

## Abstract
A reconfigurable I O interface circuit which stores a desired interface configuration using one or more electrically erasable memory circuits, and which permits a user to set one or more configurable interface circuits to either an input state or an output state. In a first configuration, the I O configuration is initially stored in coded format, and subsequently decoded to control signals. The decoded control signals set the I O status of each configurable interface circuit. In a second embodiment, a direct representation of the I O configuration is stored, and each configurable interface circuit directly detects this representation in order to set the status of the configurable interface circuit to an input or output state. In a third embodiment, each configurable interface circuit includes a dedicated electrically erasable memory circuit, which can be independently set to store the status of the interface circuit to an input or output state.

## Claims
1. An electronic reconfigurable input output I O system comprising

## Description
This invention relates to electronic input output circuitry, and in particular to an electronic circuit in which the input output configuration may be selectably changed. In the field of electronics, complex electronic systems often are built up by inerconnecting separate subsystems or subcircuits. Such systems typically have electrical leads or pins that serve as input output I O pathways to and from the system. In some instances, two electronic systems may perform the same functions, but have different pinouts that is, different logical configurations of their I O leads. Thus, a circuit from one manufacturer, while nominally identical in function to a second circuit from another manufacturer, will not serve as a pin for pin compatible replacement for the second circuit. Instead, costly rewiring of the larger system in which the first circuit is to be placed must be done in order for the first circuit to function properly as a replacement part. In some instances where such pin for pin incompatibility exists, the only difference in the logical pinouts occurs with respect to the I O leads. Other leads which may serve as input output signal paths for example, for control codes , are in a fixed pattern. Thus, it would be highly desirable for one manufacturer to fabricate certain circuits with reconfigurable I O pinouts, so that each circuit may be used in a number of larger systems where the circuit itself is functionally compatible, but the logical layout of the I O pinouts varies. By supplying a circuit with a configurable I O system, one manufacturer can effectively supply functionally compatible circuits to purchasers who previously might only buy a competitor s differently configured circuit. In addition, such a manufacturer would substantially reduce the amount of inventory of circuitry required, and would not be required to dedicate separate manufacturing lines to virtually identical circuits that differ only in their logical I O pinouts. Therefore, one purpose of this invention is to provide a reconfigurable I O system that utilizes electrically erasable memory circuit technology to store a user selectable I O pinout configuration, thereby enabling a single circuit to replace one or more functionally compatible circuits that differ only in I O pinout configuration. The present invention in its first preferred embodiment is a circuit that permits the reconfiguration of an I O interface by storing a desired interface configuration code in an I O configuration block containing one or more electrically erasable memory circuits, and providing decoding circuitry that detects and decodes the stored configuration code and activates one of several signals based on the configuration code. These control signals are further detected by one or more configurable interface circuits, each of which is selectably set to an input state or an output state depending on the value of the detected control signals. In a first alternative embodiment, a direct representation of the I O configuration is stored in a configuration block containing electrically erasable memory circuits, and each configurable interface circuit directly detects and decodes this representation in order to set the status of the configurable interface circuit to an input or output state. In a second alternative embodiment, each configurable interface circuit includes a dedicated electrically erasable memory circuit, which can be independently set to store the status of the configurable interface circuit to an input or output state. This invention may be applied to any level of electronics from integrated circuits to board level subsystems to complete electronic systems. The invention will become better understood by reference to the following detailed description when taken in conjunction with the accompanying drawings showing the preferred embodiments of the invention. Like reference numbers in the various figures referred to like elements. FIGURE 1 is a block diagram of the preferred embodiment of the reconfigurable I O system 10 showing the overall structure of the system. The particular example shown in FIGURE 1 contains an I O configuration block 11 which stores a user selectable configuration code. In this example, the code is four bits long by a simple extension of the invention as described herein, any number of bits may be accommodated. For ease of discussion, the following description will continue to use the example of a 4 bit configuration code. The number of possible configurations for n code bits is 2 Inputs to the I O configuration block 11 are externally supplied signals I₀ I₃, which indicate the particular configuration code to be stored in the I O configuration block 1. A high voltage detector HVD circuit 12 is coupled to the power supply voltage source V The output of the I O configuration block 11 consists of a copy of the input configuration code as well as a complemented copy, as indicated by the signal lines V₀ V₃. These signal lines are coupled to a configuration decoder circuit 14, which comprises a set of NOR decoders coupled to the various combinations of the true or complemented output signals from the I O configuration block 11. The output of the configuration decoder circuit 14 comprises a set of 2⁴ I O configuration control signal lines Z₀ Z₁₅. Only one of these I O lines is activated for any single configuration code coupled to the configuration decoder 14. The configuration code stored in the I O configuration block 11 is a global code, with the control of each configurable interface 15 implemented locally within each configurable interface. The outputs of the configuration decoder 14 configuration control signals Z₀ Z₁₅ are coupled to one or more configurable interface circuits 15, each of which is preset to detect the presence of one or more activated configuration control signals. Such detection is accomplished by logically OR ing all of the I O configuration control signals that require that particular configurable interface circuit to be in an input or output state, and generating a respective input enable signal or output enable signal, which sets the configurable interface circuit 15 to the proper state. In the input state, a configurable interface circuit 15 can accept an input signal IN and transmit that signal to other circuitry coupled to the configurable interface circuit. When a configurable interface 15 is configured as an output circuit, an output signal from other coupled circuitry is transmitted as an OUT signal. Each configurable interface circuit 15 contains a Schmitt triggered configurable I O driver. FIGURE 2 is a schematic logic diagram of an I O configuration subblock. The I O configuration block 11 of FIGURE 1 comprises one I O configuration subblock for each input bit of configuration code. If the HVD circuit 12 shown in FIGURE 1 detects a high voltage level from the V The three output signals of the program erase signal control circuit 20 ES, PS, and PROG are used to erase or program the I O fuse circuit 21. Erasing the electrically erasable memory circuit in the I O fuse circuit 21 causes the output V FIGURE 3 shows the detailed circuitry of the program erase signal control circuit 20 and the I O fuse circuit 21 of the I O configuration sublock shown in FIGURE 2. The program erase signal control circuit 20 and the I O fuse circuit 21 are composed of both N channel and P channel transistor structures. In addition, the I O fuse circuit 21 includes an electrically erasable memory element 23. In FIGURE 3, if the program signal PROG is a logic level 1 , then the output signal PS is set to a high voltage level with a potential equivalent to the V When the erase signal ERAS is a logical 1 which means that the program signal PROG is a logical 0 , the output signal ES is set to a high voltage level, while the output signal PS is set to ground. The output V of the I O fuse circuit 21 is a logical 1 if the electrically erasable memory element 23 is programmed to a logical 1 , and is equal to a logical 0 if the electrically erasable memory element 23 is erased to a logical 0 . FIGURE 4a is the generalized schematic circuit for the configuration decoder circuit 14 shown in FIGURE 1. The configuration decoder 14 is also composed of N channel and P channel transistors. In the particular example shown in FIGURE 4a, a configuration code of four bits is assumed. The circuitry shown in FIGURE 4a can be expanded as desired to accommodate configuration codes of longer length. The configuration decoder actually comprises multiple sets of NOR decoders similar to the generalized version shown in FIGURE 4a. One such configuration decoder subblock as shown in FIGURE 4a exists for each of the possible outputs. The configuration decoder decodes the configuration code received from the I O configuration block 11 and activates a single configuration control signal line. These signal lines which in this example are labeled Z₀ Z₁₅ represent all of the possible mathematical combinations of the configuration code in this example, the true and complement versions of V₀ V₃ . Thus, with a configuration code comprising four bits, the configuration decoder will set one of sixteen output lines to a logic 1 in response to any single configuration code. In general, the configuration decoder 14 converts n input bits into 2 FIGURE 4b shows the truth table for the configuration decoder subblocks. For example, if all of the outputs from the I O configuration block 11 are equal to a logical 1 or TRUE , then only the Z₀ configuration control line is set to a logic 1 . If the output configuration code from the I O configuration block 11 contained bits all of which were a logic 0 or FALSE , then only output Z₁₅ would be set to a logic 1 . FIGURE 5 shows a schematic diagram of a single configurable interface circuit 15. An OR gate 50 performs the logical OR of all of the single configuration control signals in this example, Z₀ Z₁₅ which are to cause the interface to be set into an output state. For example, if a particular configurable interface circuit 15 is intended to be set to an output state whenever configuration code 0000 or 1111 is stored in the I O configuration block 11, then fourteen of the inputs to OR gate 50 will be switched to ground, while the remaining two inputs will be switch connected to the Z₀ and Z₁₅ configuration control signals. The output of the OR gate 50 is an output enable signal OUTEN and its complement, an input enable signal INEN. These I O enable signals are connected to a configurable I O driver 51 through AND gates 52, 53. The gated output enable signal OEN and the gated input enable signal IEN are disabled by the HVCC signal whenever the I O configuration block 11 is being configured. FIGURE 6 shows the detailed schematic circuit diagram of the configurable I O driver 51 of FIGURE 5. The configurable I O driver 51 includes a number of N channel and P channel transistor structures in the arrangement shown in FIGURE 6, and comprises a Schmitt triggered input buffer 60 which is enabled whenever the input enable signal IEN from AND gate 52 FIGURE 5 is a logical 1 , and a Schmitt triggered tri state output buffer 61, which is enabled whenever the output enable signal OEN from AND gate 53 FIGURE 5 is a logical 1 . When the input buffer 60 is disabled, the input signal line I y is disabled to a logical 0 value. When the output buffer 61 is disabled, the output buffer is set to a high impedance state or tri state , so as to present a high impedance load on the input output signal line IN y OUT y . Typically, multiple configurable interface circuits will be coupled to the configuration control signal outputs from the configuration decoder 14 see FIGURE 1 . For example, eight configurable interface circuits 15 may be coupled to the outputs of the configuration decoder 14. Each of these configurable interface circuits may be set to an input or output status by different configuration codes. For example, it is possible to set all eight of the configurable interfaces to an input status when the configuration code stored in the I O configuration block 11 is equal to binary 0000 . For a configuration code of binary 0001 , it is possible that configurable interface circuits 1 4 are set to an input status while interface circuits 5 8 are set to an output status. As a further example, if the configuration code stored in the I O configuration block 11 is binary 0010 , then all eight of the configurable interface circuits may all be set to an output status. Thus, the present invention gives an electronic systems designer tremendous flexibility in designing circuitry that is functionally compatible with other circuitry, but differs in the configuration of its input output signal leads. This is particularly true when the present invention is applied to the input output configuration of integrated circuits. FIGURE 7 discloses an alternative structure for the reconfigurable I O system. In this structure, the input signals to the I O configuration block 11 are directly comparable to the Z FIGURE 8 shows a second alternative reconfigurable I O system. In this system, each individual configurable interface circuit 80 is configured to an input state or an output state independent of all other configurable interfaces. In this structure, the input output signal lead IN y OUT y is used to carry the programming information to each configurable interface 80. Each such configurable interface 80 contains its own I O configuration subblock, which is essentially identical to the circuit shown in FIGURE 2. When the voltage source V While this invention has been described with reference to several preferred embodiments, it is not intended that this description be construed in a limiting sense. Various modifications of the preferred embodiments, as well as other embodiments of the invention, will be apparent to a person skilled in the art upon reference to this description. It is therefore contemplated that the appended claims will cover any modifications or embodiments as fall within the true scope of the invention.