# DIGITAL SERVO CONTROL SYSTEM

## Claims
Digitales Servo Steuersystem, umfassend

## Description
This invention relates to a digital servo control system suitable for driving a machine with a number of drive shafts such as a robot or a machine tool. In order to drive a machine with a number of drive shafts such as a robot or a machine tool, a plurality of motors must be controlled simultaneously. Each motor is driven through a servomechanism. In controlling axial positions through a servo system, a microprocessor is typically used as an axial position control means. This technique is described in, for example, Assembly Robot and Its Technological Problems by Koichi Sugimoto et al in the Hitachi Review, Vol. 64, No. 12, December 1982, pages 5 to 10. Incidentally, a number of one axis servo systems have hitherto been combined to constitute a multi axis servo system. In recent years, however, demands for high performance and cost reduction have arisen and the aforementioned arrangement has not always been evaluated to be the most profitable arrangement. Accordingly, it has been considered to control a number of shafts by using a multi axis position control means employed in common to a plurality of servo systems. An example of this type of arrangement will be described briefly. The multi axis position control means microcomputer receives a position command value for each axis and a position detection value detected for each axis and executes an arithmetic operation to determine a speed command value for each axis. The speed command value for each axis thus determined by the multi axis position control means is applied to a speed control circuit provided for each axis. The speed control circuit of each axis compares a speed detection value from a speed detector provided for each axis with the speed command value to produce a current command value torque command value for each axis. The current command value is applied to a current control circuit. The current control circuit of each axis compares the current command value with a current detection value for a motor of each axis and controls a power converter which supplies electric power to the motor. Thus, position control is executed while controlling current and speed under the application of a voltage to the motor. The digital servo control system for effecting multi axis position control described above in brief, however, faces the following problems. In the first place, a DC motor and besides another type of motor such as an induction motor or a synchronous motor are used as a servomotor at present and hence in multi axis position controlling, it is sometimes desired to change the type of motor. The type of speed control circuit is usually determined in accordance with the type of motor used. Accordingly, when the motor is exchanged, a servo drive system including the speed control circuit, current control circuit and power converter must also be exchanged. This exchange of the servo drive system is unacceptable from the standpoint of economy. In addition, the speed control circuit is operable in digitized configuration but it is provided for each axis, thereby unduly raising cost. In the second place, the provision of the speed detector and position detector for each axis also raises cost. Further, the employment of the speed detector is contrary to a recent technical trend of effecting speed detection with a position signal supplied from the position detector. US A 4 240 016 discloses a digital servo control system with the features included in the first part of the claim. The system includes three motors for effecting motion along three axes, three detectors for detecting the motion of the controlled apparatus along these axes, and a position control means comprising three axis position control units each associated with one of the three axes and one velocity unit common to all axes. The velocity unit is operated in a time divisional mode in the sense that only one motor is controlled within each divisional period set by a clock. From Winfried Oppelt, Kleines Handbuch technischer Regelvorg√§nge , 5th edition, 1972, pages 514, 515, 640 and 641, a time multiplex type control in general and a position control system with subordinated velocity and torque control are known. The document specifically describes a position control system for controlling a single motor. An object of this invention is to provide a digital servo control system which can assure inexpensive change of various types of motors and easy construction of a multi axis control system. By taking advantage of the fact that when constructing a servo system by using various types of motors such as DC motors, induction motors and synchronous motors, the servo system differs only in torque generation mechanisms depending on the types of motors used, but is the same for various types of motors in the stage of executing control arithmetic operations of position and speed to generate a torque command. In view of this fact, in this invention, it is so made that means which is responsive to a torque command signal to execute torque control and so forth, is constructed for each of the axes respectively, and a multi axis position control means executes control arithmetic operations of position and speed for the axes. The above object is met by a digital servo control system as set forth in the claim. The multi axis position control means generates a torque command signal for each drive shaft by executing control arithmetic operations of position and speed of each drive shaft on the basis of a position command value and a torque command value, and is used in common to the respective drive shafts by substituting for functional stages which are included in speed control circuits provided for individual drive shafts in the conventional multi axis control system and which generate a torque command signal which may be used in common to control circuits for different types of motors. In this manner, the conventional functional stages is centralized into the single functional stage according to the invention to reduce cost of hardware. When changing the type of motor, the torque control means is required to be exchanged in accordance with the type of motor used. But the functional centralization of the multi axis position control means makes the construction of the torque control means simpler than that of the conventional speed control circuit and changing the type of motor can therefore be accomplished inexpensively. The multi axis position control means executes the speed control arithmetic operations inclusive of speed detection of a drive shaft on the basis of a position detection value for the drive shaft. This eliminates necessity of providing a speed detector for each axis and meets the recent technical trend of effecting speed detection with a position detection value. Since in accordance with the invention only the torque control means is provided for each axis and the position and speed controlling is centralized for multiple axes, the construction of the system with a multi axis servomechanism can be simplified and adaptability to changing the type of motor can be improved. These and other objects and advantages of the present invention will become apparent by reference to the following description and accompanying drawings wherein Fig. 1 illustrates a digital servo control system according to an embodiment of the invention as exemplified for four axis controlling. Referring to Fig. 1, a multi axis position commanding circuit 1 produces position command signals X The operation of the digital servo control system will now be described with reference to a time chart shown in Fig. 4 and flow charts shown in Figs. 5 to 7. Each time the timer 49 generates an interruption pulse at a predetermined period T for example, 1ms, the microcomputer 46 executes processings as shown in Fig. 5. Firstly, axial position control for i th axis APR i is executed in block 101, where i denotes any one of numerals 1 to 4 assigned to the respective axes. For example, when i 1, position control APR is executed for the first axis. Contents of processing in block 101 are detailed in Fig. 6. The microprocessor 46 fetches a position command X The thus determined speed command value N where T represents the constant interruption period. After completion of this arithmetric operation, X A current command value I The thus obtained current command value I After executing the speed control arithmetic operation processing ASR 1 for the first axis, the microprocessor 46 continues to sequentially execute speed control arithmetic operation processings ASR 2 to ASR 4 for the second to fourth axes block 125 to thereby sequentially set current command values I As described above, the Fig. 1 embodiment provides a simplified and inexpensive arrangement which can control position and speed of a plurality of axes. Fig. 8 shows another embodiment of the invention. This embodiment employs synchronous motors and differs from the Fig. 1 embodiment in that torque control units 70 to 73 substitute for the torque control units 32 to 35. The multi axis position control unit 31 uses, like Fig. 2, position command values X The motors rotate while generating such amounts of torque and the encoders 40 to 43 detect their rotary positions to provide position detection values X By repeating the above operations, positioning to meet the target position commands X As described above, the Fig. 8 embodiment can use the control unit for DC motors of the Fig. 1 embodiment by exchanging only the torque control units including the synchronous motors. In general, it is therefore possible to reduce cost of applying the control unit according to the invention to different equipments. Although in the foregoing embodiments the controlling of rotary positions of motors has been described, position controlling of a moving object such as a machine tool table driven by a motor may be effected in a similar manner. The DC motor and the synchronous motor have been exemplified for description but an induction motor may be controlled with an arrangement similar to that described thus for by using, for example, vector control wherein torque is generated in proportion to a torque command. Further, the previously described arrangement may also be applied to an oil pressure motor by using a different type of torque generator. Moreover, although in the foregoing embodiments the speed detection value has been computed from a change in position detection values, the invention may obviously be applicable to other types of servo control in which a special circuit or a speed detector is used for speed detection.