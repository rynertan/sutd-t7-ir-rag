# METHOD AND CIRCUIT FOR DECODING ERROR CODED DATA

## Claims
Verfahren zum Dekodieren Fehlerkorrektur kodierter Daten durch eine Multiplikation oder eine Division in Relation zu beliebigen Elementen α

## Description
The present invention relates to a method and a circuit for operating finite fields used for decoding of data being coded with an error correction code. When a digital video signal, a digital audio signal or the like is recorded or reproduced, adjacent codes, Reed Solomon codes or the like have been put to practical use as error correction codes. In the encoder of these error correction codes, parity data redundant data is generated. In the decoder, a syndrome is generated from the received word including parity data and the error correction is performed using this syndrome. A circuit for operating finite fields is used as a hardware of parity generating circuits, syndrome generating circuits and error correcting circuits. The finite field is the field having p Principally there are two different methods to multiply or divide elements of a finite field. A first method is to use shift registers, adders, and or a plurality of, multipliers. This methods allows to use circuits of small scale and or it makes it possible to perform the calculations by a general microprocessor. The other method is to use a ROM which is addressed by the elements to be multiplied or divided and which stores exponents for these elements. This method works very fast, however, needs a rather large circuit scale because of the ROM. Most of the methods and devices are arranged to operate the elements of a finite field based on p 2. However, it is also known to operate the elements of finite fields based on other primes. E. g. an article published by T.F. Roome et al in 3rd International Conference on charge coupled devices, Edinburgh, September 1976, pages D1 D13 with the title The Technology and Applications of Charge Coupled Devices describes operation of elements in a finite field with p 7. CCD registers act as shift registers accommodating p distinct levels. It is the object of the present invention to provide a method and a circuit for decoding error coded data by operating finite fields for p 2 having high processing speed but requiring low memory quantity and a small circuit scale. The method of the present invention for decoding error coded data by operating a multiplication or a division in relation to arbitrary elements α The circuit of the present invention for decoding error coded data by operating a multiplication or a division in relation to arbitrary elements α The book Error Correcting Codes , The MIT Press Cambridge, USA and London, GB , pp. 178 180, by W.W.Peterson and E.J.Weldon Jr. shows different circuits for counting forward and backward in a Galois field of 2 It is a very essential feature of the method and the circuit of the present invention that it is checked for the m th significant bit of the second digital data whether it is 0 or 1 . Depending on the checked value, different processings are performed. These processings operate very fast by using low memory capacity of the used shifting means. Further objects, advantages and features of the present invention will become more clear from the following description of drawings. One embodiment of the present invention will now be described with reference to Fig. 1. In Fig. 1, a reference numeral 1 denotes a memory section, 2 indicates an accumulator and an arithmetic operating section, and 3 is a control section. In this embodiment, In this case, each element is expressed by The accumulator and arithmetic operating section 2 has an accumulator 10 and an adder 11 for performing the addition of mod. 2 in relation to the contents of the accumulator 10 and the contents of the register 4 derived through the path 8 and then supplying the addition output to the accumulator 10. The accumulator 10 performs the operation to shift to the left by one bit or to shift to the right by one bit in response to the control signal from the control section 3. Upon this shifting operation, the bit in the edge portion is set to 0 by an output of a register 12. The data from the RAM 6 is set into the accumulator 10 through the path 9 and also the arithmetic operation output is supplied to the RAM 6 through the path 9. The operation when the multiplication between arbitrary elements α First, six bits for representing α In next step, the bits in the accumulator 10 are shifted to the left by one bit. Fig. 3B shows the state in that those bits were shifted to the left by one bit. A check is made by the discriminating circuit 7 to see if the bit 6 in the accumulator 10, namely, a₅ is 0 or not. When a₅ 0 , six bits a₄, a₃, a₂, a₁, a₀, 0 of the bits 0 to 5 in the accumulator 10 are set to the multiplication output of α When a₅ 1 , the contents of the accumulator 10 Fig. 3B and the contents of the register 4 Fig. 3C in the memory section 1 are added by the adder 11 of mod. 2 . Six bits of the bits 0 to 5 of this addition output become a₄, a₃, a₂, a₁, a₀ 1, 1 and this addition output is set to the multiplication output of α When the root of the primitive polynomial On the other hand, in this embodiment, the division of When a₀ 1 , the contents shown in Fig. 5A of the accumulator 10 and the contents shown in Fig. 5C of the register 4 obtained through the path 8 are added by the adder 11 in mod. 2 . This addition output is shifted to the right by one bit and the bits 0 to 5 in the accumulator 10 are supplied as the division output through the path 9 to the RAM 6 and are stored into the RAM 6. As a practical example, in case of performing the division of Further, the multiplication of The above mentioned circuit for operating finite fields is used for a decoder of error correction codes, for example, Reed Solomon codes. These error correction codes are used with regard to the subcoding signal which is included in the reproduced signal of a digital audio disc. Fig. 6 shows an arrangement of a reproducing circuit of an optical type digital audio disc what is called a compact disc . The reproduced signal read out from the disc by an optical head is supplied through an input terminal indicated at a reference numeral 41 to an EFM demodulating circuit 42. The digial signal recorded on the disc has been EFM modulated. The EFM modulation is a method for block converting the 8 bit data into a preferable pattern of 14 bits namely, 14 bits such that the minimum transition time of the modulated signal becomes longer and the low frequency component becomes less . The digital audio signal which was returned to the 8 bit data by the EFM demodulator 42 is supplied to an error correcting circuit 43 and the error correction is performed. The digital audio signal in one channel of the stereophonic audio signals which are outputted from the error correction circuit 43 is supplied to a D A converter 44 and is converted into the analog signal. This analog signal is derived at an output terminal 46 through a low pass filter 45. The digital audio signal in the other channel which is outputted from the error correction circuit 43 is supplied to a D A converter 47 and is converted into the analog signal. This analog signal is derived at an output terminal 49 through a low pass filter 48. In addition to the stereophonic audio signals, a digital signal for control or display which is called a subcoding signal is included in the reproduced signal from a disc. The subcoding signal of every 8 bits is included in every frame of the recorded data. The subcoding signal is repeated at a period of 98 frames. So that synchronous signal for the subcoding signal is inserted into the first two frames for every 98 frames. Eight bits of the subcoding signal are classified into P, Q, R, S, T, U, V, W . The P channel is used to distinguish the recording interval and pause interval of the music signal recorded on a disc. The Q channel is constituted by music numbers added to the respective music signals on a disc indices to further divide each music program time codes which increase for the intervals of music programs and decrease for the pause intervals time codes which sequentially change from the beginning of the program region on a disc control bits to indicate the presence absence or the like of a pre emphasis etc. With regard to the Q channel, the CRC codes for error detection are assigned into the 16 frames on the side of the final end among the 98 frames. It is possible to search the beginning of the designated music programs or the like using the subcoding signals in the P and Q channels. The R to W channels are used to display the songwriter, composers, descriptions, text, etc. of music programs recorded on a disc or to explain them by a voice. One packet is constituted by the data in 96 frames excluded the sync pattern, P channel and Q channel from the subcoding signals of 8 bits x 98 frames . As shown in Fig. 7, the packet of 6 x 96 bits is further divided into four packs each consisting of 24 symbols. The first symbol in each pack is a command and the next 19 symbols are data and the remaining four symbols are a parity of the error correction code of each pack. This command has six bits consisting of a mode of three bits and an item of three bits. The kind of data graphic data, still image data, sound data, etc. is indicated by three bits of the mode. The information of the detailed operating mode of each mode is represented by three bits of the item. The foregoing subcoding signals are separated by the EFM demodulator 42 and are stored into a buffer memory 50. The subcoding signals in the R to W channels are subjected to the error correction by an error correcting circuit 51. Although not shown, the data in the P and Q channels in the subcoding signals are supplied to a system controller. The subcoding signals in the R to W channels which are outputted from the error correcting circuit 51 are written into a buffer memory 52 in case of the graphic data or still image data. The data read out from the buffer memory 52 is supplied to a display control circuit 53 and is displayed on a display apparatus 54 such as a CRT display or the like. In the case where the subcoding signals in the R to W channels are the sound data, they are derived at an output terminal 57 through a D A converter 55 and a low pass filter 56. Fig. 8A shows a symbol clock 7.35 kHz of the subcoding signal in the reproduced data. Fig. 8B shows input symbols. As shown in Fig. 8C, the error correction is performed for every one pack in the error correcting circuit 51. The packs which have already been decoded during this error correcting operation are outputted as shown in Fig. 8D. As shown in Fig. 9, the error correcting circuit 51 has a CPU 61, a ROM 62 in which a program has been written, and a RAM 63 for a work area. In the error correction circuit 51, the inputting operation to write 24 symbols of one pack from the buffer memory 50 into the RAM 63, the error correcting operation to perform the arithmetic operation of the syndromes, calculation of the error locations and error corrections by use of the data read out from the RAM 63, and the outputting operation to output the data after the error correction from the RAM 63 are carried out under control of the CPU 61. As error correction codes with respect to the pack of 6 x 24 bits, the 24, 20 Reed Solomon codes are used. The primitive polynomial of these Reed Solomon codes is is used as a parity check matrix Hp. The syndromes are calculated from the matrix expression Vp of the subcoding signals in one pack and the parity check matrix Hp. When reproduced one symbol is expressed as W Where, Σ denotes The sizes of errors are checked by way of the syndromes derived from the above equation. In case of no error, S₀ 0 and S₃ 0 and A B C 0. In case of one symbol error, S₀ 0 and S₃ 0, and A B C 0. In case of two symbols error, A 0 and B 0 and C 0, where The error locations are obtained with regard to the foregoing one symbol error and two symbols error, respectively. When one symbol error is detected it is assumed that the error location is i , When two symbols error is detected it is assumed that the error locations are i and j , For correction of both of the one symbol error and two symbols error, the addition of mod. 2 may be performed with regard to the reproduced erroneous symbols and the error patterns obtained. The circuit for operating finite fields according to the present invention is applied upon the foregoing error correcting operations. In particular, a multiplication and a division in relation to elements over the GF 2⁶ represented by a vector are executed when the error states are checked or when the error patterns are calculated therefore, it is suitable to apply this invention to such cases. The data transmitting rate of the subcoding signal on a digital disc is lower than that of the data in the main channel and the error correcting circuit 51 of the subcoding signal can be constituted using a general microcomputer by applying this invention. According to the present invention, the multiplication of In addition, according to the present invention, since a multiplication or a division of arbitrary two elements can be performed as elements over a finite field are represented by a vector, a general microcomputer can be used as a hardware. Consequently, the hardware can be cheaply realized.