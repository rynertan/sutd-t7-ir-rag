# Improvements in or relating to timing recovery for modems.

## Abstract
The improvements relate to a technique of timing recov ery from the line signal by envelope detection using double bandpass filtering prior to detection to improve the power ratio of the recovered timing signal to the interfacing by products of the squaring process. In addition the difference frequency components which are used to provide the desired timing signal, there are not only the sum frequency products but also the products of squaring the individual bandpassed signal components, some of which may be in the same fre quency region as the difference frequency signal. This prob lem is avoided by taking the outputs of the two bandpass filters F4, F5 and applying them severally to the two input ports of a four quadrant multiplier P . The output from the multiplier will then comprise only sum frequency and difference frequency products, the latter being easily separ able F3 and providing the desired timing recovery signal free from impairments.

## Claims
WET WE CiliN IS 1. A data modem including means for recovering the timing signals from the data on an input line, said means includes first and second filter arrangements which pass a respective signal component of the data at a respective input port and apply signal components to respective input ports of a four quadrant multiplier, the output of which comprises sum frequency components and difference frequency components of the respective data signal components only, the former being removed by a third filter arrangement and the remaining signal being used to drive clock recovery circuits which provide a clock signal to clock demodulation and detection circuits to which the original data is applied on said input line and which provides a data output signal free from timing errors. 2. A data modem according to claim 1 wherein the first filter arrangement passes a signal component fc fs and the 7 second filter arrangement passes a signal component fc fs 7 where fc is the carrier frequency and fs is the data symbol frequency. 3. A data modem according to claim 2 wherein the third filter arrangement removes the sum frequency signal component 2fc and provides an output signal at the difference frequency fs. 4. A data modem according to claim 1, 2 or 3 wherein the filter arrangements are bandpass filters.

## Description
IMPROVEMENTS IN OR RELATING TO TIMING RECOVERY FOR MODEMS The invention relates to improvements in or relating to timing recovery for synchronous data modems using double sideband modulation. In high performance synchronous data modems data symbol timing can be derived from the received signal without the need for special timing pilot tones provided that the data signal is sufficiently random. This proviso is usually satisfied by means of a data scrambler as described in, for example CCITT Recommendations V27,V29 and V3. There are various methods of timing recovery from double sideband data signals. One common method is to use the zero crossings of the envelope of the line signal obtained by rectification either directly or after translation to a convenient intermediate frequency.Another method is to use zero crossings of the demodulated baseband signals. These techniques are suitable only for nominally constant amplitude modulation systems like, for example, four phase modems conforming to CCITT RecommendationV26, eight phase modems conforming to CCLTT RecommendationV27, and binary quadrature amplitude modulation systems.For data modems using multilevel amplitude and phase modulation like modems conforming to CCITT RecommendationV29 alternative techniques can be used. One technique is to take a narrow band of signal components around half the symbol frequency, commonly known as the 0yquist t frequency, from the demodulated baseband signals and to square them to produce double frequency components around the symbol frequency. Where the received line signal has not suffered.significant attenuation distortion the baseband signal comprises substantially equal contributions from both upper and lower sidebands of the line signal. In the event of a phase or frequency error in the demodulating carrier the corresponding shifts in frequency or phase of the basebands signals derived from the upper and lower sidebands are substantially mutually cancelling and a correct timing signal is derived. However, if the line signal has suffered significant attenuation distortion of, for example, the upper sideband, the baseband signal derived from the lower sideband signal will predominate.If there is a phase or frequency error in the demodulating carrier the corresponding phase or frequency error in the baseband will not be self cancelling and the derived timing will be in error. Returning to the technique of timing recovery from the line signal by envelope detection, it is suggested by Gitlin R.0 and Hayes J.F. BSTJ March 1975 Vol.54,No.3 Pages 569 593, that double 9Kntpas lterlng b√® employed prior to envelope detection to improve the power ratio of the recovered timing signal to the interfering by products of the squaring process. When this improved method is used, besides the difference frequency components which provide the desired timing signal, there are the sum frequency products and the products of squaring the individual bandpassed signal components which may lie in the same frequency region as the difference frequency and impair the recovered timing signal. Accordingly an aim of the present invention is to provide a data modem having improved timing recovery which does not suffer from the above mentioned impairment of recovered timing signals. According to the present invention there is provided a data modem including means for recovering the timing signals from the data on an input line, said means includes first and second filter arrangements which pass a respective signal component of the data at a respective input port and apply signal components to respective input ports of a fourquadrant multiplier, the output of which comprises sumfrequency components and difference frequency components of the respective data signal components only, the former being removed by a third filter arrangement and the remaining signal being used to drive clock recovery circuits which provide a clock signal to clock demodulation and detection circuits to which the original data is applied on said input line and which provides a data output signal free from timing errors. The invention will be more readily understood from the following exemplary embodiment which should be read in conjunction with the following drawings wherein Figure la shows a known arrangement of timing recovery by squaring and adding the sideband Nyquist frequency components in both channels of a auadrature amplitude modulation system for data transmission. Figure lb shows the frequency location of the various signal components of the arrangement shown in Fig. la. Figure lc shows the frequency location of the various signal components of figure lb, together with carrier frequency error and upper sideband attenuation. Figures ld and le show the effect of upper and lower sideband contributions being unequal in amplitude. Figure 2a shows a known arrangement of timing recovery by envelope detection of the line signal. Figure 2b shows a known arrangement of timing recovery by envelope detection of the line signal after frequency translation. Figure 2c shows a known arrangement of timing recovery by envelope detection of the line signal after double bandpass filtering. Figure 2d shows the frequency location of the various signal components of Figure 2c, Figure 3a shows an arrangement of timing recovery according to the present invention and, Figure 3b shows the frequency location of the various signal components of Figure 3a. Referring to Figures la le the timing information around the line frequencies of fc fs are demodulated 2 by the carrier frequency fc to produce baseband timing information at a frequency of fs where fs is the data 2 symbol frequency. The line frequencies of line signal IS are demodulated by multiplier modulator circuits D1 and D2, filtered by baseband low pass filters F1 and passed to data recovery circuits by leads DRC. The baseband signals are also filtered by bandpass filters F2 at the Ryquist t frequency fs as shown in Figure lb. The bandpass filtered 2 signals are then squared by circuits D3 and D4 and summed by circuit A to produce a timing signal component at a frequency fs which is extractable by filter F3, as shown in Figure lc, and passed to clock recovery circuits by lead CRC. For those baseband signals at fs to be independent of carrier 2 frequency and phase the upper sideband and lower sideband contributions must be equal in amplitude. The affect of their being unequal is illustrated by figure ld.The upper sideband component of the baseband signal is half the amplitude of lower sideband component and the carrier frequency is Afc in error, making the lower sideband timing component fs Afc and the upper sideband timing 7 component fs Afc . After squaring, and as shown in 7 Figure le, the lower sideband component of timing information is at fs 2fc which overwhelms the upper sideband component at fs 2Afc , thereby giving erroenous information to the clock recovery circuits. Referring to Figures 2a and 2b known arrangements are shown relevant to nominally constant amplitude modulation systems Figure 2a shows the line signal LS feeding demodulation and detection circuits DDC and envelope detector ED The output from detector ED is filtered by filter F3 to extract a timing signal component at a frequency fs which is applied to clock recovery circuits ORC which provide a clock signal for circuits DDC which produce a data output DO. Figure 2b shows a similar arrangement to Figure 2a except that the line signal LS is first modulated by a local oscillator signal LO and then filtered by an IF filter IFF before being applied to the demodulation and detector circuits DDC and envelope detector ED.The arrangements of Figures 2a and 2b lead to the known arrangement of Figure 2c by Gitlin and Hayes. An example of the frequency location of signal components associated with Figure 2c is shown in Figure 2d by dotted lines. The, line signal LS is applied to filtersF4 and F5 and the output signals summed by circuit A and applied to envelope detector ED which produces signal components around zero frequency from the squaring of the outputs of filters F4 and F5. There will be signal components at fc fs and fc fs by direct leakage and components at 2 2 the sum frequency of 2fc. The desired output is at the difference frequency of fs, but the output can suffer significant interference from the squaring of the output of filter F4. Referring to Figure 3a an arrangement according to the invention is shown. The line signal is applied to demodulation and detection circuits DDS and to filters F4 and F5. The outputs of filters F4 and F5 are multiplied together in a linear four quadrant multiplier P. The multiplier output spectrum is shown in dotted lines in Figure 3b where it is seen that desired difference frequency signal is free from interference. The unwanted components of the sum frequency products are removed by filter F3 and the signal is applied to clock recovery circuits CRC which produce a clocking signal for the demodulation and detection circuits DDS which provide the data output DO. The above description has been of one embodiment and is not intended to limit the scope of the invention.Alternative arrangements will readily be seen by those skilled in the art, for example, the four quadrant multiplier could be replaced by a balanced modulator with the output of filter F3 figure 3a being applied to the linear port of a modulator to avoid generation of higher harmonics from filter F4 which may interfere with the desired difference frequency signal.