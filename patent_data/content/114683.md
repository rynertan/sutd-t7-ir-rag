# ARITHMETIC UNIT

## Claims
Arithmetikeinheit zur Bitverarbeitung, mit einem Dekoderschaltkreis 2 zum Dekodieren von Anweisungen, einem ersten Speicherschaltkreis 20 bis 23 mit einer Vielzahl von Speicherstellen, auf welche individuell als Bitquelle oder zum Empfang von Bits zugegriffen werden kann, und einem zweiten Speicherschaltkreis 4 , welcher entweder eine Quelle oder eine Empfangsstelle einiger Bit Modus Operationen ist,

## Description
The present invention relates to an arithmetic unit having a decoder circuit for decoding instructions, a first memory circuit having a plurality of storage locations which can be individually accessed as bit source or bit destination, and a second memory circuit being either a source or a destination of some bit mode operations. Such an arithmetic unit is known from EP A 0 112 242. The TEST instruction, SET instruction and RESET instruction have been known as bit processing instructions for processing the information at a specified bit in an accumulator. The TEST instruction is such that the information at a specified bit in an accumulator ACC is transferred into a flag register FR. The SET instruction and the RESET instruction are such that 1 and 0 are written into specified bits of the accumulator ACC. Examples of the TEST, SET and RESET instructions are shown in Figs. 1 a , b and c , respectively. There is a need that the information at a certain bit for example, J bit in an accumulator is written into another bit for example K bit . So far this operation has been carried out with the above described instructions as follows As described above, so far five steps are needed in order to transfer the information at one bit to another bit so that the programming is rather complex and the processing time becomes longer. The reason is that so far the technical improvements of electronic computers are mainly directed to arithmetic operations, but little attention is paid to the improvement of the bit processing control. The present invention was made to overcome the above and other problems encountered in the prior art arithmetic units and has for its object to provide an arithmetic unit in which when information is transferred within an accumulator, program instruction steps are simplified so that a novel bit processing can be accomplished and consequently the processing speed is remarkably increased. According to the invention, the arithmetic unit initially defined is characterized in that each bit position of the first memory circuit is provided with an individually operable selection circuit for selecting the data stored in said second memory circuit, so as to write the selected data into a selected bit position of said first memory or so as to restore the content of the corresponding bit position and said arithmetic unit is arranged such that when said decoded instruction signal is an instruction signal for transferring data stored in said second memory circuit into the content of a specified bit position within said first memory circuit, only the selection circuit corresponding to said specified bit position is selected whereby the data stored in said second memory circuit is written into said specified bit position within said first memory circuit. This permits a bit transfer operation to be performed rapidly. According to further development of the invention, each bit position of the first memory circuit is provided with an individually selectable buffer circuit adapted to deliver the contents of the corresponding bit position to the second memory circuit, and the arithmetic unit is arranged such that when said decoded instruction signal is an instruction signal for exchanging data stored in said second memory circuit with the content of a specified bit position within said first memory circuit, only the selection circuit corresponding to said specified bit is selected, whereby the data stored in said second memory circuit, is written into said specified bit position within said first memory circuit while the content at said specified bit position is so controlled as to be written into said second memory circuit. This permits a bit exchange operation to be performed rapidly. For a better understanding of the invention, and to show how the same may be carried into effect, reference will now be made, by way of example, to the accompanying drawings, in which In Fig. 3 is shown in block diagram a first embodiment of an arithmetic unit in accordance with the present invention for an electronic computer. The contents which are stored in an instruction register 1 are decoded by a decoder 2 so that depending upon the decoded contents, the control signals are applied to selectors 50, 51, 52 and 53 and to buffers 80, 81, 82 and 83. Of four accumulators 20, 21, 22 and 23 which store four bits, the 0 bit accumulator 20, the 1 st bit accumulator 21, the 2 nd bit accumulator 22 and the 3 rd bit accumulator 23 are connected to the selectors 50, 51, 52 and 53 and the buffers 80, 81, 82 and 83, respectively. The selectors 50, 51, 52 and 53 are circuits for selecting the contents in a flag register 4 so as to write them into the accumulators 20, 21, 22 and 23 or for selecting the contents in the accumulators 20, 21, 22 and 23 themselves so as to write them into the accumulators 20, 21, 22 and 23. The buffers 80, 81, 82 and 83 are provided with control terminals and are adapted to deliver the contents in the accumulators 20, 21, 22 and 23 into the flag register 4. It suffices for the accumulators 20, 21, 22 and 23 to store the result of an arithmetic operation so that instead of them, a general register may be used. Next the mode of operation of the first embodiment will be described. It is assumed that a store bit instruction is stored in the instruction register 1. The decoder 2 decodes the output from the instruction register 1 so that the content in the instruction register 1 is identified as store bit instruction and the positions of bits to be written specified bits are also identified. It is assumed that the specified bit is the second bit. Then the control signal to the selector 52 is enabled so that the second bit selector 52 selects the content in the flag register 4 so as to write it into the second bit accumulator 22. The remaining selectors 50, 51 and 53 select the contents of the accumulators 20, 21 and 23 so as to write them into the accumulators 20, 21 and 23. As a result, when the operations for writing data into the accumulators 20, 21, 22 and 23 are executed under these conditions, the content in the flag register 4 is written into the specified bit or the second bit accumulator 22 while the remaining bits remain unchanged. Thus the store bit instruction has been executed. In the case of the test instruction, the control signal from the decoder 2 to one of the buffers 80, 81, 82 and 83 which has been specified by the test instruction is enabled so that the content in the specified bit accumulator is transferred into the flag register 4. As described above, according to the first embodiment, both the store bit instruction and the test instruction can be executed. Therefore, the following two step program may be used in order to transfer the j th bit information to the k th bit As a result, the program can be simplified and the processing speed can be increased. In Fig. 4 is shown in block diagram a second embodiment of an arithmetic unit in accordance with the present invention for an electronic computer. The second embodiment is such that the arithmetic unit of the first embodiment is modified into a practical four bit circuit. An instruction is stored in the instruction register 1 and the instruction decoder 2 decodes the instruction stored in the instruction register 1. An address decoder 3 decodes the bits specified by the instruction. Blocks 10, 11, 12 and 13 are for each bit. That is, the circuit block 10 corresponds to 0 bit the circuit block 11 corresponds to a first bit the circuit block 12 corresponds to a second bit, and the circuit block 13 corresponds to a third bit. The circuit blocks 10, 11, 12 and 13 are similar in construction and comprise arithmetic logic units ALU 30, 31, 32 and 33, selectors 40, 41, 42 and 43, selectors 50, 51, 52 and 53, accumulators 20, 21, 22 and 23, buffers 80, 81, 82 and 83 and buffers 90, 91, 92 and 93. The arithmetic logic units ALUs 30, 31, 32 and 33 perform conventional additions, subtractions and so on and may be of the conventional type. The selectors 50, 51, 52 and 53 respond to the signal transmitted from signal lines 60, 61, 62 and 63 so as to select the contents in the accumulators 20, 21, 22 and 23 or the content in the flag register 4 in order to transfer the selected contents or content into the selectors 40, 41, 42 and 43. The selectors 40, 41, 42 and 43 respond to the control signal B transmitted from the instruction decoder 2 so as to store into the accumulators 20, 21, 22 and 23 the conventional results of the arithmetic operation or bit processed result. That is, depending upon whether the instruction is an arithmetic operation instruction or a bit processing instruction, the contents stored in the accumulators 20, 21, 22 and 23 are different. The selectors 40, 41, 42, 43, 50, 51, 52 and 53 are all similar in construction so that it will suffice to explain only the selector 40. The selector 40 comprises an inverter 401, two AND gates 402 and 403 and an OR gate 404. In response to the control signal transmitted through a control line 405, either of the input signal transmitted from an input line 406 or 407 is selected and delivered to an output line 408. The buffers 80, 81, 82, 83, 90, 91, 92 and 93 are provided with control terminals. When the input signal 1 is applied to the control terminal, the buffer is conducted, but when the input signal 0 is applied to the control terminal, the buffer is driven into a high resistance state. The buffers 80, 81, 82 and 83 are used to deliver the contents in the accumulators 20, 21, 22 and 23 to a common output line 6, but they respond to the signals transmitted through signal lines 60, 61, 62 and 63 so as to decide whether or not each bit is delivered. The buffers 90, 91, 92 and 93 are the output buffers for the system buses 70, 71, 72 and 73. The accumulators 20, 21, 22 and 23 and the flag register 4 comprise edge triggered D latches. The flat register 4 is connected to a selector 44 which selects the input signal to the input terminal D and to an AND gate 45 for operating the flag register 4 in synchronism with a clock . A control circuit 5 is a circuit for controlling the carry in signal CIN which is entered into the least significant bit of the accumulators 20, 21, 22 and 23. Next the mode of operation of the second embodiment will be described. The second embodiment is characterized in that in addition to the bit processing instructions such as test, store bit instructions, it can perform other arithmetic operations such as additions, subtractions and the like. First, the ADD instruction for performing an addition will be described. In response to the ADD instruction, the contents in an external register not shown are added to the contents in the accumulators 20, 21, 22 and 23 and the sum remains in the accumulators 20, 21, 22 and 23. When the ADD instruction is stored in the instruction register 1, the instruction decoder 2 enables various control signal lines. The signal for enabling the accumulators 20, 21, 22 and 23 to latch the result of an arithmetic operation is transmitted through a signal line Next the execution of the TEST instruction will be described. The bit specified by the TEST instruction is decoded by the address decoder 3. For instance, assume that the TEST instruction is TEST 2 so that the second bit is specified. Then the output from the second bit accumulator 22 is selected by the buffer 82 which is provided with the control terminal and is delivered to the common output line 6. The reason is that the signal line 62 from the address decoder 3 is enabled. Since other signal lines 60, 61 and 63 are not enabled, the outputs from the other accumulators 20, 21 and 23 are not delivered to the common output line 6. Since the signal lines B and F are enabled, the data on the common output line 6 is latched by the flag register 4. In this case, the signal line A is not enabled so that the contents in the accumulators 20, 21, 22 and 23 remain unchanged even after the TEST instruction has been executed. In this manner, the specified bit in the accumulators 20, 21, 22 and 23 in this case, the second bit is transferred into the flag register 4. Next the execution of the STORE BIT instruction will be described. After the STORE BIT instruction has been executed, the content in the flag register 4 is stored in the specified bit of the accumulators 20, 21, 22 and 23. The bits except the specified bit remain unchanged. For instance, assume that the instruction is STORE BIT 2 so that the second bit is specified. Then, the address decoder 3 detects the second bit as a specified bit. As a result, the signal line 62 is enabled so that the content in the flag register 4 is transferred through the selectors 52 and 42 into the second bit accumulator 22 and latched. That is, the selector 52 selects the content of the flag register 4 and delivers the selected content. Since the signal line B is enabled, the selector 42 selects not the output from the arithmetic logic unit 32, but the output from the selector 42 that is, the content of the flag register 4. The selected output is delivered to the accumulator 22 and latched. The signal lines 60, 61 and 63 are not enabled so that the selectors 50, 51 and 53 select the contents in the accumulators 20, 21 and 23 and deliver them through the selectors 40, 41 and 43 to the accumulators 20, 21 and 23 where the contents are latched. That is, the contents of the accumulators 20, 21 and 23 themselves are latched. Since the signal line F is not enabled, the content in the flag register remains unchanged. As described above, according to the second embodiment, in addition to the STORE BIT instruction and the TEST instruction, the conventional arithmetic instructions such as additions, subtractions and so on can be executed. Furthermore as is the case of the first embodiment, a simple program may be used to transfer at a high speed the information at a certain bit to another bit. In Fig. 4 is shown a practical circuit, but it is to be understood that any other circuitry capable of performing the same function can be used. Fig. 5 shows the instruction which causes the data at the specified bit of an accumulator or a general register to be exchanged with the data in the flag register. The instruction is assumed to be SWAP BIT 2. This instruction is executed as if the TEST instruction and the STORE BIT instruction described above were simultaneously executed. In other words, the instruction SWAP BIT 2 is the combination of the instruction TEST 2 and the instruction STORE BIT 2. The data at the specified bit of the accumulator is exchanged or swapped with the data in the flag register so that the program can be simplified and the high speed processing becomes possible. As described above, according to the present invention, the transfer of bit information within the accumulator can be accomplished by a simple program and at a high speed. In a control program, a flag register is used in order to represent various information. In this case, there is a need that the content of the flag register must be stored at a specified bit for instance K bit of a register for example REG . Then, according to the present invention, the above operation can be performed by the following three steps in a simple manner It must be especially emphasized that since the results of various arithmetic operations are stored in the flag registers, it is very convenient in every case that in response to one instruction, the result can be immediately transferred into the accumulator. Thus there is a great merit in writing a program. Furthermore the STORE BIT instruction and the TEST instruction execute symmetrical operations so that they are very useful in writing a program.