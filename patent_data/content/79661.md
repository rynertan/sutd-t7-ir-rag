# Device for generating differentially enhanced images.

## Abstract
The device for generating differentially enhanced im ages produces differential images having a high signal to noise ratio in that the differential image is determined by formation of the difference between two different weighted sums of successive images. This technique is important notably for vascular examinations using X rays.

## Claims
1. A device for the examination of images, com prising an image forming device for providing images which are sub divided into pixels, a memory for storing image information relating to each pixel, a subtraction circuit for subtracting image information relating to each pixel from predetermined image information relating to a corresponding pixel, and a display device for displaying the image information relating to each pixel which is determined via the subtraction circuit, the memory forming, in conjunction with at least one multiplier circuit and one adder circuit, a recursive filter for filtering in the time domain, image information relating to each pixel of images which succeed one another in time, characterized in that the device comprises a second recursive filter which comprises a memory, at least one multiplier and one adder circuit, the differential image being formed from the difference between first and second weighted sums of successive images, said first and second sums being stored in the memory of the first and the second recursive filter, respectively. 2. A device as claimed in Claim 1, characterized in that the output of a first recursive filter is connected to the input of the second recursive filter whose output is connected to the display device. 3. A device as claimed in Claim 1, characterized in that the inputs of the recursive filters are interconnected, each of their outputs being connected to an input of a subtraction circuit whose output is connected to the display device, the multiplication factors of the multipliers associated with the various recursive filters being different.

## Description
Device for generating differentially enhanced images . The invention relates to a device for the examination of images, comprising an image forming device for providing images which are sub divided into pixels, a memory for storing image information relating to each pixel, a subtraction circuit for subtracting image information relating to each pixel from predetermined image information relating to a corresponding pixel, and a display device for displaying the image information relating to each pixel which is determined via the subtraction circuit, the memory forming, in conjunction with at least one multiplier circuit and one adder circuit, a recursive filter for filtering in the time domain, image information relating to each pixel of images which succeed one another in time. Such a device for generating differentially enhanced images is known from Netherlands Patent Application o. 79 05611. The display device of such a device displays a differential image derived from the last image formed and a weighted sum of the preceding images.When the image information of such images contains noise, as is the case in an X ray television examination device, the differential image derived therefrom will also have a noise content which is determined mainly by the noise content of the last image formed. This is because the noise content of the weighted sum of the preceding images will be the weighted sum of the noise content of these images which may be considered as an integration with respect to time of noise relating to each pixel. Integration of this noise will produce a noise signal having a lower amplitude. It is the object of the invention to provide a device for generating differentially enhanced images those noise content is substantially reduced. To achieve this, the device for generating differentially enhanced images in accordance with the invention is characterized in that it comprises a second recursive filter which comprises a memory, at least one multiplier and one adder circuit, the differential image being formed from the difference between first and second weighted sums of successive images, said first and second sums being stored in the memory of the first and the second recursive filter, respectively. A device of this kind offers the advantage that the noise content of the differential image is not direct 1 dependent on the noise content of the last image generated instead it will be determined by the difference between the noise contents of the two weighted sums of images. As has already been stated, the noise content of each weighted sum will be the time integral of the noise relating to each pixel, which will be less. The difference between the noise contents of the two weighted sums will therefore be small, and this will have a favourable effect on the signal to noise ratio of the image information derived for each pixel of the differential image. The invention will be described in detail hereinafter with reference to the drawing which shows some embodiments therein Figure 1 shows a device for generating differentially enhanced images according to the present state of the art Figure 2 shows a device for generating differentiall enhanced images in accordance with the invention, and Figure 3 shows a preferred embodiment of a device in accordance with the invention. The L ray examination device shown in Figure 1 comprises a high voltage source G for supplying an X ray tube B, an image intensifier II, a pick up tube P.U., an amplifier O.A., an analog to digital converter ADC, and a device for generating differentially enhanced images according to the state of the art which comprises a recursive filter F1, a digital to analog converter DAC7, and a display device MON1. The X rays generated by the tube B irradiate an object 0 in order to form a radiographic shadow image thereof on an entrance screen S of the image intensifier tube II. The reduced and intensified shadow image is converted into an analog video signal via an image pic up tube P.U. which is connected to the output of the image intensifier II.A logarithmic amplifier including a sampling circuit OA amplifies and samples this video signal, after which the sampled signal is digitized b means of an analog to digital converter ADC. The digitized signal is applied to a digital recursive filter F1 which comprises the following components multipliers M1 and M2, an adder A1, a memory wD11 and a subtraction circuit V1. The examination device shown inFigure 1 also includes a digital to analog converter DAC1 and a display device NOUN1 for example, a television monitor . It will be apparent that the examination device shown in Figure 1 may alternatively include a magnetic tape or disc recording device for video or digital signals, or a copier printer for forming a more permanent recordof the processed differential X ray images. The filter F1 shown is to be considered as a highpass filter. The recursive filter F1 shown in Figure 1 operates as follows a digital signal image information relating to a pixel and which originates from the converterADC, is applied to the multiplier M1 which multiplies the digital signal by a factor cc o z s 7 . The product is applied to the adder A1 which also receives the value already stored in the memory MM 1 for the same pixel, after multiplication of this value by a factor l K . The multiplication is performed by the multiplier M2 which connects the output of the memory iN1 to an input of the adder A1.The sum of the two values applied to the adder A1 is stored at the address associated with the relevant pixel. The subtraction circuit V1 receives both the value originating from the converter ADC and the value stored in the memory so , so that the difference between the two values is applied to the digital to analog converter DAC, in order to be displayed on the monitor MON1. Figure 2 shows a device for generating differentially enhanced images in accordance with the invention. The signals originating from the amplifier circuit OA Figure 1 and converted by the analog to digital converter ADC are applied to a first recursive filter F2 which may be identical to the filter F1 of Figure 1. The output signals of the filter F2, however, are not applied to the monitor MON via the converter DAC2, but to the input of a recursive filter F The construction of the filter F2 could be identical to that of the filters F1 and F2 with the exception of the subtraction circuit V1 , but its construction is made simpler in order to perform a lo pass filtering operation.The recursive filter F2 comprises a subtraction circuit RT32 only one multiplier M3, one adder A3 and one memory MM 3The subtraction circuit V3 is connected between the input of the filter F2 and the input of the multiplier M3. The multiplier, multiplies the output signal of the sub 3 traction circuit V3 by a factor alpha 0 alpha 1 and applies the product to an adder A which also receives a value 3 which is recalled via the output of the memory MM3 and which is associated with the same pixel as the value which is applied to the subtraction circuit V3 and subsequently to the multiplier M3. The value present on the output of the memory MM3 is also applied to a second input of the subtraction circuit V The sum formed by the adder A3 is 3 3 stored at the address associated with the relevant pixel. The output of the memory MM3 of the second recursive filter F2, is connected to the digital to analog converterDAC2 which converts the digital values presented into analog form for supply to the monitor MON2. The extremely lownoise differential image is displayed on the monitor MON2. The differential image displayed on the monitor ION has a high signal to noise ratio with respect to the differential image which is formed by means of the device shown in Figure 1 and which is displayed on the monitor ION1. The signal to noise ratio is improved because the difference between the last shadow image formed and the weighted sum of the preceding shadow images is not determined directly. In accordance with the invention, the difference is determined between two weighted sums of successive images. The device for generating differentially enhanced images which is shown in Figure 2 forms two weighted sums of images, the second sum being delayed with respect to the first weighted sum the device utilizes the first weighted sum as an image for the second recursive filter in order to determine the second weighted sum. Figure 3 shows a preferred embodiment of the device for generating differentially enhanced images in accordance with the invention. The signal which originates from the amplifier OA see Figure 1 and which is digitized b the analog to digital converter ADC is applied to inputs of two parallel connected recursive filtersF3, F . Each low pass filter F3, F3 may be constructed in a similar manner to the filter F1 Figure 1 , with the exception of the circuit V1 or in a similar manner to filter F Figure 2 .The outputs of the filters F3 andF are connected to a further subtraction circuit V3 3 which applies the difference between the two output sig nals of the filters F3 and F to the digital to analog 3 converter DAC3 whose output is connected to a monitor MON 3 for the display of the differential images. It will be apparent that signals with image information relating to the weighted sum of successive images, will be generated at the outputs of the two filters F3. Mle signal to noise ratio of these signals will be substantially improved as a result of the determination of the weighted sums. The corresponding multiplication factors W, 1 S respectivel relating to the two filters F3 and F3 must be different. When this is the case, a differential signal will be generated for those parts of the successive images which change. A very flexible differential image enhancement n time is thus achieved which enables movement in an object for example, the human heart to be displayed even when little or no contrast medium is used. It has been found that the ratio of the multiplication factors a of the filters F2, F2 and F3, F3 pre ferably equals 2 or 4, the multiplier factors themselves having the values E or , because the multiplication division of binary digital signals can be performed more easily b a factor E or v by shifting the binary number 1 and 2 positions further, respectively.