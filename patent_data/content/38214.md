# Pulse control circuit for permanent magnet D.C. motor.

## Abstract
A pulse control circuit for a reversible permanent magnet d.c. motor comprises first and second thyristors 14F, 14R and first and second transistor switches 15F, 15R arranged in a bridge circuit so that on conduction of the first thyristor 14F and first transistor switch 15F current flows in one direction from a d.c. source 12 through the motor armature 10 whereas on conduction of the second thyristor 14R and second transistor switch 15R the current flow is reversed. To drive the motor in a selected direction a continuous gating pulse is applied to the appropriate thyristor 14F or 14R and the corresponding transistor switch 15F, or 15R is switched on and off at a variable mark to space ratio. A freewheel diode 16F, 16R is connected across each thyristor. Regenerative braking can be effected by holding both thyristors 14F, 14R nonconducting and by switching on and off the transistor switch 15F, 15R associated with drive of the motor in the direction opposite to that in which the armature 10 is rotating a runther diode 17F, 17R being connected across each transistor switch to provide a freewheel path for the armature current during non conducting periods of the transistor switch.

## Claims
CLAIMS 1. A pulse control circuit for a permanent magnet d.c. motor, comprising first and second thyristors and first and second transistor switches arranged in a bridge circuit with the thyristors in adjacent arms of the bridge and the first and second transistor switches in arms of the bridge opposite the first and second thyristors respectively, the d.c. supply being connected in use between the common junction of the two thyristors and the common junction of the two transistor switches, and the motor armature being connected in use between the junction of the first thyristor with the second transistor switch and the junction of the second thyristor with the first transistor switch, the arrangement being such that on conduction of the first thyristor and first transistor switch the voltage of the d.c. supply is applied in one direction to the armature whereas on conduction of the second thyristor and second transistor switch the voltage of the d.c. supply is applied in the opposite direction to the armature, and control means for applying a gating signal to a selected one of the first and second thyristors and for repetitively switching on and off the associated transistor switch thereby to drive the armature in the direction corresponding to the selected thyristor, a respective diode being connected in parallel with the series connection of the armature an3 each thyristor to provide a freewheel path for armature current during non conducting periods of the associated transistor switch. 2. A pulse control circuit as claimed in claim 1, in which the control means is adapted to effect regenerative braking of the motor by repetitively switching on and off the transistor switch associated with drive of the motor in one direction whilst the armature is rotating in the opposite direction, the other transistor switch and both thyristors remaining non conducting, a further respective diode being connected in parallel with the non conducting transistor switch to provide with the operating transistor switch a closed loop for circulation of the armature current when the transistor switch is conducting and to provide, with the diode connected across the associated thyristor and the armature, a path through which the armature generated voltage can drive current to the d.c. supply when the transistor switch is non conducting. 3. A pulse control circuit as claimed in claim 2, in which current limit means are provided to limit the current flowing through the motor armature during regenerative braking, the current limit means being operative to limit the mark to opace ratio of switching of the operating transistor when the armature current rises to a predetermined value. 4. A pulse control circuit as claimed in claim 3, in which the said control means is adapted, when regeneration braking commences, to switch the operating transistor on and off at a relatively hign mark to space ratio until the armature current reaches the said predetermined value. 5. A pulse control circuit as claimed in claim 3 or claim 4, in which the current limit means is operable also during normal motoring.

## Description
This invention relates to pulse control circuits for permanent magnet d.c. motors, i.e. for d.c. motors in which the field is generated by a permanent magnet. Since the inductance of such a motor is relatively low compared with the inductance of a wound field motor , so that motor current falls rapidly in the interpulse periods, it is desirable for the pulse control circuit to operate at a relatively high frequency. It is therefore desirable to use transistors rather than thyristors as switching elements. In order to reverse such a motor, the voltage applied to the armature must be reversed, and, to avoid the use of contactors, it has been proposed to control the motor using a bridge circuit of transistors.This has the disadvantage that it requires power transistors, which are relatively expensive, in each arm of the bridge. When d.c. motors, particularly vehicle traction motors, are supplied from a rechargeable battery, it is desirable to provide the facility for regenerative braking, in which a braking torque is developed whilst the motor acts as a generator driving charging current to the battery.Pulse control circuits are known for wound field d.c. motors in which regenerative braking is available. However, these circuits involve reversing the connections of the field winding to the supply, to reverse the direction of the voltage generated by the armature, and therefore cannot be employed with a permanent magnet motor. This invention consists in a pulse control circuit for a permanent magnet d.c. motor, comprising first and second thyristors and first and second transistor switches arranged in a bridge circuit with the thyristors in adjacent arms of the bridge and the first and second transistor switches in arms of the bridge opposite the first and second thyristors respectively, the d.c. supply being connected in use between the common junction of the two thyristors and the common junction of the two transistor switches, and the motor armature being connected in use between the junction of the first thyristor with the second transistor switch and the junction of the second thyristor with the first transistor switch, the arrangement being such that on conduction of the first thyristor and first transistor switch the voltage of the d.c. supply is applied in one direction to the armature whereas on conduction of the second thyristor and second transistor switch the voltage of the d.c. supply is applied in the opposite direction to the armature, and control means for applying a gating signal to a selected one of the first and second thyristors and for repetitively switching on and off the associated transistor switch thereby to drive the armature in the direction corresponding to the selected thyristor, a respective diode being connected in parallel with the series connection of the armature and each thyristor to provide a freewheel path for armature current during non conducting periods of the associated transistor switch. Preferably, the control means is adapted to effect regenerative braking of the motor by repetitively switching on and off the transistor switch associated with drive of the motor in one direction whilst the armature is rotating in the opposite direction, the other transistor switch and both thyristors remaining non conducting, a further respective diode being connected in parallel with the non conducting transistor switch to provide with the operating transistor switch a closed loop for. circu ation of the armature current when the transistor switch is conducting and to provide, with the diode connected across the associated thyristor and the armature, a path through which the armature generated voltage can drive current to the d.c. supply when the transistor switch is non conducting. The invention will now be described, by way of example, with reference to the accompanying drawings, in which Figure 1 is a circuit diagram of a permanent magnet motor fitted with a pulse control circuit in accordance with the invention, Figure 2 is a schematic block diagram of control circuitry part of the circuit of Figure 1, Figure 3 shows the variation with time of the voltage at the collector of a transistor of the circuit of Fogure 1 during normal motoring, and Figure 4 shows the variation with time of the voltage at the transistor collector and of the motor current during regenerative braking. Referring to the drawings, the armature 10 of a d. c. motor having a field provided by a permanent magnet is supplied from a d.c. source such as a battery 12, through a pulse control circuit. The pulse control circuit comprises two thyristors 14F and 15R arranged in a bridge in such a manner that when thyristor 14F and transistor 15F are conducting with thyristor 1 and transistor 15R non conducting current can flow from the battery 12 to the armature 10 in a direction to drive the motor in the forward direction, whereas on conduction of thyristor 14R and transistor 15R with thyristor 14F and transistor 15F non conducting current can flow to the armature in a direction to drive the armature in the opposite, reverse , direction.Thus, thyristor 14F and transistor 15R are connected in series across the battery 12, and thyristor 14R and transistor 15F are similarly connected across the battery 12, with the armature 10 connected between thejmction of the cathode of thyristor 14F with the collector of transistor 1 and the junction of the cathode of thyristor 14 with the R collector of transistor 1F A diode 16 is connected in F parallel with thyristor 14R, the anode of the diode being connected to the cathode of thyristor 14R The diode 16F, together with the thyristor 14F, provides a freewheel path across the armature when the motor is driven forerards , as described below. A diode 16R is similarly connected in parallel with thyristor 14F, to provide a freewheel path when the motor is in the reverse driving mode. A diode 7R is connected across the collector emitter path of transistor 15F, and a diode 17F is similarly connected across the collector emitter path of transistor 15R Conduction of thyristors 14F and 14R and of the transistors 15F and 15R is governed by control logic circuitry 18. As shown in Figure 2 the control circuit 18 includes a pulse width modulated clock 30 which receives an input signal dependent on the desired mark to space ratio of switching of the transistor 15F or 15R The input signal may be for example from an accelerator position sensor such as a potentiometer coupled to the accelerator pedal of a vehicle driyen by the motor 10.The output of clock 30 is supplied through a direction selection and interlock circuit 34 and suitable driving circuits to the base of transistor 15F or 15R to switch on the transistor at uniformly spaced intervals t Figure 3 and to switchoffthe transistor at times toff on which vary in dependence on the input signal to vary the periods of conduction of the transistor. The circuit 34 also receives an input from a direction selector 36, which may be a manually operated switch, the circuit 34 controlling the conduction of the thyristors 14F, 14R and transistors 15F, 15R of the bridge circuit 20 in dependence on the drive direction selected by the direction selector 36 and on the direction of the voltage across the motor 10, as described below.The circuitry also includes a current limit circuit 38 which acts to limit the motor current during motoring and regenerative braking, as described below. The current limit circuit measures the motor current by monitoring the collector voltage of the transistor 15F and 15R In operation, to drive the motor forwards , a continuous gating voltage is applied to the gate electrode of thyristor 14F whilst transistor 15F is rendered repetitively conducting and non conducting. Thyristor 14R and transistor 15R remain non conducting. When transistor 15F is conducting, current flows from the battery through thyristor 14F armature 10 and transistor 1F During non conducting periods of transistor 15F, the inductance of the armature maintains current flow through the closed loop consisting of diode 16fez and thyristor 14F. By varying the ratio of time of conduction to time of non conduction of transistor 15F the net voltage applied to the aramture can be varied. Since the inductance of the armature is relatively low it is advantageous to operate the transistor 15F at a relatively high switching frequency. To effect regenerative braking of the motor when the armature is rotating in the forward direction, transistor 15F is held non conducting and the gating signal to thyristor 14F is removed. After a time sufficient to allow the freewheel current through diode 162 and thyristor 14F to fall below the holding value of thyristor 14y, so that the thyristor is commutated, the control circuitry 18 begins to switch transistor 15R repetitively on and off.As long as the motor armature 10 continues to rotate in the forward direction it will generate a voltage with the side of the armature connected to transistor 15R positive with respect to the side connected to transistor 1F Therefore, when transistor 15R is conducting, the armature generated voltage drives current in the loop consisting of the armature 10, transistor 15R and diode 17R, producing a braking torque on the armature.Owing to the low inductance of the armature the current in this loop rises rapidly. When transistor 15R is turned off, the resulting fall in armature current produces an inductive voltage, in the same direction as the armature generated voltage, which drives current through the circuit consisting of the armature 10, diode 1 battery 12 and diode 17R, the inductive energy being thus transferred from the armature to the battery.When transistor 15R is switched on again, the armature current again builds up in the loop including the transistor 15F and diode 17R Thus charging current flows through the battery 12 during non conducting periods of transistor 15F as long as the net voltage across the armature 10 exceeds the battery voltage. The mean armature current, and therefore the braking torque, can be controlled by varying the mark to space ratio of switching of the transistor 15R. When the speed of rotation of the armature has been reduced to zero, or to a value below which the armature voltage during non conducting periods of transistor 15F is less than battery voltage, a gating signal is applied to thyristor 14R, to bring the circuit into the reverse driving mode. The armature will then come to a standstill and accelerate in the reverse direction, the speed of the motor being controlled by controlling the mark to space ratio of transistor 15R. It will be apparent that regenerative braking of the motor can similarly be effected when the armature is rotating in reverse, by repetitive switching of transistor 15F whilst transistor 15R and the two thyristors remain non conducting. Regenerative braking can be initiated by changing over the direction selector 36 when the motor is rotating, the logic circuitry sensing the direction of the armature generated voltage and switching the circuit to the regenerative braking mode until the armature voltage has fallen below a predetermined low level. The logic circuitry also acts to switch the circuit to the regenerative braking mode if the motor speed demanded by the input to the circuit falls to zero, for example if the driver of the vehicle lifts his foot from the accelerator pedal or moves the direction selector switch to a neutral position, so that the motor speed is brought gradually to zero. Figure 3 shows the voltage V across the collectoremitter circuit of transistor 15F during forward motoring. The waveforms 3a, 3b and 3c show the voltage at zero demand, 5 o demand and 10 o demand respectively. At 10 o demand, the transistor is switched at the maximmlm mark to space ratio, i.e. with the length of the non conducting periods reduced to a minimum. If, during a period of conduction of the transistor 15F, the motor current exceeds a predetermined value, the transistor 15F is immediately turned off and is not turned on again until the end of the next succeeding clock cycle. In these off periods the demand signal supplied to the clock circuit 30 is attenuated within the circuit 30, so that when the current limit conditions end, i.e. when the motor currc nt fails to reach the predetermined level during an on period of the transistor, the mark to space ratio of switching has been reduced and gradually rises again to the level set by the signal from the accelerator position sensor 32. As c.hown in Figure 4, at the start of regnerative braking, at time t , the circuit 18 switches transistor 15R on and off at a relatively high mark to space ratio, so that the motor current I rises to the current limit level IL. The current limit circuit then comes into operation, so that the motor current, and therefore the braking torque, is controlled. At the end of the current limit period, the mark to space ratio gradually rises again. Since the motor speed and therefore the motor generated voltage is decreasing, the motor current falls, but the rate of decrease of motor current is reduced by the increase in mark to space ratio.The braking torque on the motor is therefore maintained until the motor speed falls to a low value. It will be appreciated that modifications could be made in the described embodiment. For example, the inputs to the control circuit 18 could take forms other than the manually controlled inputs described.