# Carrier wave recovery circuit.

## Abstract
A carrier wave recovery circuit to be used in the receiv ing side of an image information transmitting apparatus, such as facsimile, includes an N bit counter for counting reference clock pulses for a period corresponding to 2

## Claims
CLAIMS 1. A carrier wave recovery circuit comprising an N bit first counter 18 for counting reference clock pulses for a period corresponding to 2L L is an integer cycle periods of a carrier wave a first latch circuit 24 operatively connected to said N bit counter for holding the most significant bits of the count of the N bit counter a second latch circuit 22 operatively connected to said N bit counter for holding the least significant bits of the count of the N bit counter a frequency divider 32 operatively connected to said first latch circuit and having an adjustable frequency dividing ratio corresponding to a one cycle period of the carrier wave, said frequency dividing ratio being initially set by the output of said first latch circuit and a second counter 30 operatively connected between said second latch and said frequency divider, said second counter providing an output to said frequency divider for correcting said frequency dividing ratio, whereby the recovered carrier wave is output from said frequency divider. 2. The carrier wave recovery circuit as recited in claim 1, wherein the outputs of said first and second latch circuits are operatively connected 26 to said N bit counter to set in said N bit counter a complement of the count of the N bit counter, for providing a discriminating function in said N bit counter. 3. The carrier wave recovery circuit as recited in claim 1 or 2, including an error detection circuit 38 operatively connected to said frequency divider to adjust the phase of the recovered carrier wave. 4. The carrier wave recovery circuit as recited in claim 3, further including a zero cross detector 36 operatively connected to said error detection circuit, said zero cross detector having an input signal which includes the image information signal and the received carrier wave. 5. The carrier wave recovery circuit as recited in any preceding claim, including a discrimination circuit 28 operatively connected to the N bit counter, said discrimination circuit providing an error signal as an output when the zero signal from the N bit counter is not received at a predetermined time.

## Description
CARRIER WAVE RECOVERY CIRCUIT The present invention relates in general to a carrier wave recovery circuit and, more particularly, to a circuit wherein a carrier wave is reproduced by means of a digital synthesizer for use in the receiving portion of an image information transmitting apparatus such as facsimile. U ith the increased emphasis on an automated office and the increased use and popularity of electronic apparatus in the office environment, reliable and high quality iniormation transmitting apparatus, such as facsimile, is of greater importance. ln known information transmitting apparatus utilizing vestigial sideband VSB where a part of the carrier frequencies is suppressed, a signal synchronized in its frequency and phase angle with the carrier wave has been recovered and reproduced in a demodulator utilizing the phase locked loop PLL technique.In information transmitting apparatus utilizing the analog PLL technique, various problems are encountered, which include a circuit that is susceptible to noise, a circuit that must be adjusted at too many locations or elements, and a circuit whose circuit constants are susceptible to variations and changes after a long period of usage. The invention as claimed is intended to provide a remedy for the problems set forth above by providing a carrier wave recovery circuit wherein the voltage controlled oscillator VCO of the conventional circuit is replaced for the purpose of digitalizing the entire circuit and providing advantageous features. The advantageous features include being highly stable and reliable, easy to manufacture and adaptable to being used in image information transmitting apparatus such as facsimile. Since the circuit of this invention is of a digital nature, and since a discriminating function is assigned to a counter that determines the frequency dividing ratio, any erroneous operation of the circuit can be avoided, even if an instantaneous interruption occurs in the image information transmission line.The digital construction of the circuit further affords advantageous features, such as reducing the number of adjusting points, enhancing the resistance to noise and power source variation and reducing the variation in value of the various circuit components after a long period of usage. Furthermore, since the inventive circuit is free from frequency drift, the circuit can be used for carrier waves of different frequencies and therefore economy of the circuit can be achieved. One means for carrying out the invention is described in detail below with reference to the accmying drawings, which i√ºastrste mIy one specific embodiment, in which drawings Figure 1 is a simplified functional block diagram of a known phase locked loop circuit utilized in a conventional carrier wave recovery circuit Figure 2 is a simplified functional block diagram showing an embodiment of a carrier wave recovery circuit according to the present invention Figures 3A and 3B are simplified explanatory diagrams of the operation of an Nibit counter in the circuit shown in Figure 2 and Figure 4 is a simplified schematic showing a practical embodiment of one portion of the inventive circuit shown in Figure 2. Referring now to Figure 1, there is illustrated a typical example of a known phase locked loop PLL circuit. In this circuit, a comparator 10 aCts as a multiplier for two AC input signals having frequencies fs and fc and respective phases 4s and c, and delivers,through a low pass filter 5 12 and an amplifier 14,a voltage Vd on conductor 15 , which is proportional to the variation in time of the detected phase difference 8 Gc. A voltage controlled oscillator VCO 16 is controlled by the voltage Vd on conductor 15 so that the VCO 16 produces an output on conductor 18 of the frequency fc, which is ultimately made equal to the frequency f in the stabilized state of S the circuit.In another example of this known circuit, where a phase comparator of the digital type is used, difficulties with the circuitry are still encountered. Since the output frequency of the voltage controlled oscillator is still controlled by an analog voltage, the output frequency of the VCO is still susceptible to changes caused by noise and power source variations. With reference to Figure 2, there is illustrated one embodiment of the present invention wherein a synthesizer is used instead of the phase locked loop. In the operation of an image information transmitting apparatus, such as facsimile, there is a protocol period or synchronizing period prior to the actual transmission of image information during which signals relating only to the carrier component are transmitted. According to the present invention,reference clock pulses CLK arriving in a one cycle period of the carrier wave are firstly counted during the synchronizing period for initial setting of the circuit, and fine correction of the set value is then carried out utilizing a received line synchronizing signal or a signal component obtained after the initiation of the image information transmission. During the synchronizing period of the protocol time, an N bit counter 18 counts reference clock pulses CLK arriving on conductor 20 from the local facsimile receiver in a period corresponding to 2L L is an integer cycle periods of the carrier wave first count , and the count of the N bit counter 18 is held in latches 22 and 24. A complement of the number count held in the latches 22 and 24 is then preset in the N bit counter 18 via cable 26. Then the clock pulses CLK on conductor 20 are again counted, as described above, by the N bit counter 18, and when the result now counted is equal to the count of the first counting operation, a zero output signal is delivered from the counter 18 to a discrimination circuit 28. The discrimination circuit 28 investigates at a predetermined time whether the zero signal exists or not at its inlet.When a zero signal is not found, the discrimination circuit 28 delivers an instruction to circuitry in the local receiver not shown to resume the counting operation once again. On the other hand, when a zero signal is found in the inlet to the discrimination circuit 28, M bitsssexcepting lower L bits within the count of theN bit counter 18, are stored in the latch 24. Assuming that T1 represents a onecycle period of the received carrier wave, and T2 represents a one cycle period of the clock pulse on conductor 20, and L and M satisfy following relation, L M N L least significant bits T2 x 2M T1 M most significant bits one cycle period T1 is expressed under accompaniment of a quantizing error less than 1 of a one cycle period of the clock pulse CLK. Thus, if the o frequency of the clock pulses CLK is divided by M, a recovered and reproduced carrier wave can be obtained with a quantized error less than one cycle period of the clock pulse CLK. However, such an approximation tends to result in an excessive amount of error due to the accumulation of the quantizing errors. For overcoming the difficulty, an auxiliary counter 30 is further provided in the circuit shown in Figure 2 to prohibit the counting operation in the frequency divider 32 a number of times corresponding to the L bits stored in the latch 22, for every 2L L is an integer cycle period of the received carrier wave, each time for a one cycle period of the clock pulse CLK. As a result, the error in the newly produced carrier wave on conductor 34 can be corrected or reduced to less than one cycle period of the clock pulse CLK for every 2L cycle period of the received carrier wave. The above described operation will now be described in more detail. Although the N bit counter 18 in this embodiment is of a binary type, the operational principle is the same for a binary counter and a decimal counter, and for the purpose of simplifying the description, the operation is described for the case of a decimal counter. Now it is assumed that a number equal to 1250.35 of the reference clock pulses CLK is counted for each cycle period of the received carrier wave. In a case of L 0 and M 4,as shown in Figure 3A, the N bit counter 18 counts 1250 , while the N bit counter 18 counts 125035 in the other case shown in Figure 3where L 2 and M 4. In the latter case, the first latch 24 in the circuit shown in Figure 2 holds 1250 while the second latch 22 holds 35 . That is, the first latch 24 holds a value 1250 obtained by discarding the lower two bits from the count of the N bit counter 18, which value is accompanied with a quantized error of 0.35 less than one cycle period of the reference clock pulse CLK, for every one cycle period of the received carrier wave. Accordingly, if the frequency dividing ratio of the frequency divider 32 is set at the value 1250 held in the latch 24, a quantized error less than one cycle periods of the clock pulse OLK will be added in every three cycle period of the carrier wave. Thus, by simply delivering an inhibit signal from the auxiliary counter 30 in every three cycle periodsof the carrier wave to the frequency divider 32, the quantized error can be reduced to less then one cycle period of the clock pulse for every 60 cycle period of the carrier wave.In other words, by inhibiting the operation of the frequency divider 32 35 times for each 100 cycle period of the carrier wave, the quantized error can be reduced to a value less than one cycle period of the clock pulse for every 100 cycle period of the carrier wave. For the purpose of enabling the frequency of the recovered and reproduced carrier wave on conductor 34 to follow the slow variation of the frequency of the carrier wave in the transmitting side during the transmitting time, zero cross points of the received carrier wave included in the image information signal obtained from the transmission line are detected by a zero cross detector 36 or the like, and the deviation of the zero cross points and those of the reproduced carrier wave may be compared and discriminated by an error detection circuit 3E for correcting the operation of the frequency divider 32 to correct the phase of the recovered carrier. More practical examples of the N bit counter 18, latches 22 and 24 and the discrimination circuit 28 and their operation will now be described in detail. In Figure 4, the N bit counter 18 is made of five 4 bit binary counters 40, the latches 22 and 24 are made of five 4 bit latches 42 each consisting of a D type flip flop, and the discrimination circuit 28 is made of a JK flip flop 44 and an AND gate 46. In each of the binary counters 40, E designates an enabling terminal, and C designates a carrying terminal. At first, a reset signal is applied to the counters 40 and the 3K flip flop 44 to reset these circuits. Then a gate signal is applied to the counters 40 for enabling the counters to count a reference clock CLK for a period corresponding to 256 cycle periods of the received carrier wave. When the gate signal is turned off, a latch signal is applied from outside to latch the latch circuits 42 so as to hold the counts of the counters 40 in the latches 42. The outputs of the latches 42 are the outputs of the counters 40 at the latched time, and the complement of the outputs of the latches is set by an external set signal into the counters 40. When the setting operation terminates, a gate signal is again applied to the counters 12 for operating the counters 40 to count the clock pulses CLK for a time corresponding to 256 cycle periods of the received carrier wave. In the case v len the first count is equal to the second count of the counter, each of the counters 40 is reset to zero, and a carry signal is delivered from the end terminal of the last stage counter 40 to the J terminal of the JK flip flop 44. After the termination of the second counting operation, a discrimination timing signal is applied to the gate 46 to open the same gate for delivering an output from the Q terminal of the JK flip flop 44.When the output from the terminal Q indicative of the result of the discrimination, is found to be allowable, a value corresponding to the required frequency dividing ratio is set in the frequency divider 32, and a correction value, required for reducing the quantized error for the 256 cycle periods of the carrier wave to less than one cycle period of the clock pulse, is set in the auxiliary counter 30.