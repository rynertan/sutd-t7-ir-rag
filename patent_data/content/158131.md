# Digital line termination unit command interface.

## Abstract
The digital line termination unit command interface is for telecommunications exchanges wherein control informa tion is sent to the digital line termination unit, using PCM signalling techniques, characterised in that during each idle time slot of the PCM signal a synchronisation pattern is sent to the digital line termination unit, and a command code is preceded and followed by the synchronisation pattern and verified as a correct code when the preceding and following synchronisation patterns are determined valid by the digital line termination unit.

## Claims
Claims 1. A digital line termination unit command interface for telecommunications exchanges wherein control information is sent to the digital line termination unit, using PCM signalling techniques, characterised in that during each idle time slot of the PCM signal a synchronisation pattern is sent to the digital line termination unit, and a command code is preceded ani followed by the synchronisation pattern and verified as a correct code when the preceding and following synchronisation patterns are determined valid by the digital line termination unit. 2. A digital line termination unit command interface as claimed in Claim 1 wherein the command code is sent in a first time slot and is sent in a subsequent time slot in inverted form, the subsequent time slot occurring in the same france or the immediately following frame in which the first time slot occurred, 3. A digital line termination unit command interface as claimed in claim 1 or 2 wherein the command code is verified by the following sequence Time slot n synchronisation pattern Time slot n l P C code 00 Time slot nl svnchronisation pattern Time slot n 2 m. P C code 00 Time slot n 3 m synchronisation pattern whereP Parity bitC code Command codeC code all bits of command code inverted 32 m 0.

## Description
TITLE Digital Line Termination Unit Command Interface The present invention relates to a digital line termination unit command interface for telecommunications exchanges. Modern telecommunication exchanges use a time space time switching network which is interfaced to the PCM line communication paths by way of a digital line termination unit. The digital line termination unit terminates the communication paths and performs line associated functions such as alarm detection and insertion, error rate monitoring, alignment and conversion of bipolar line 2 code to binary logic compatible form and performs a number of switch related operations. Some operations are related to the security duplication of the trunking, and the avoidance, detection and location of sow tich faults. Other operations are related to the use of spare bits in the synchronisation channel, that is those bits which are undefined for frame recognition purposes and available as data bearers for network administration or control purposes.A more detailed description of the function of a digital line terminAtion unit can be found in British Patent numbered 206362go. Because control information is sent to the digital line termination unit, which impacts on the security of the speech circuits, it becomes necessary for the digital line termination unit to ensure that it implements only valid sequences on its command interface. Two levels of protection are provided. The first level protects the command transport mechanism on each plane of the switch block individually, and the second level provides security of the command contents. Accordingly, an aim of the present invention is to provide a command interface for a digital line termination unit which providers the necessary levels of protection. According to the present invention there is provided a digital line termination unit command interface for telecommunications exchanges wherein control information is sent to the digital line termination unit, using PCM signalling techniques, characterised in that during each idle time slot of the PCM signal a synchronisation pattern is sent to the digital line termination unit, and a command code is preceded and followed by the synchronisation pattern and verified as a correct code when the preceding and following synchronisation patterns are determined valid by the digital line term.ination unit. One method of performing the invention will flow be described. The digital line termination unit receives an E bit command on time slots 0 31. Bits 0 and 1 represent an identifier, bits 2 6 represent conand data and bit 7 represents parity for the transmitted .speech data TX. 10 not used.Identifier bit 00 represents a command code. 01 represents a transmit, Tx channel address. 10 represents a receive, Rx channel address. 11 represents data.The command code represented by bits 2 6 are as follows B6 B5 B4 B3 B2 0 0 0 0 0 not used. 0 0 0 0 1 Master Reset. 0 0 0 1 0 not used. 0 0 0 1 1 not used. 0 0 1 0 0 Lock data to plane 1. 0 0 1 0 1 Lock data to plane 2. 0 0 1 1 0 not used. 0 0 1 1 1 Path check data insertion plane 1. 0 1 0 0 0 Path check data insertion plane 2. 0 1 0 0 1 Set alarm bit 6. O 1 0 1 0 not used. 0 1 0 1 1 Loop back data plane 1. 0 1 1 0 0 Loop back data plane 2. 0 1 1 0 1 not used. 0 1 1 1 0 Set bit 0 status stream to selection 1. 0 1 1 1 1 Set bit 0 status stream to selection 2. B6 B5 B4 B3 B2 1 0 0 0 0 Set bit 0 status stream to selection 3. 1 0 0 0 1 not used. 1 0 0 1 0 not used. 1 0 0 1 1 Reset loop back data. 1 0 1 0 0 not used. 1 0 1 0 1 not used. 1 0 1 1 0 Reset alarm bit 6. 1 0 1 1 1 Reset path check data insertion plane 2. 1 1 0 0 O Reset path check data insertion plane 1. 1 1 0 0 1 not used. 1 1 0 1 0 Reset data lock. 1 1 0 1 1 not used. 1 1 1 0 0 not used. 1 1 1 0 1 Synchronisation pattern. 1 1 1 1 0 not used. 1 1 1 1 1 not used. aster Reset This command resets the digital line termination unit into the nornal operational state. it combine the actions of the following con.ands Reset path check data insertion plane 1. Reset path check data insertion plane 2. Reset loop back data. Reset data lock. Set bit 0 status strean to selection 1. Reset bit 6.Lock Data to Plane 1 2 This command locks the transmitted speech data Tx to plane 1 2 and overrides a bias mechanism which selects one of the planes to the exclusion of the other to supply speech samples for transmission.Path Check Data Insertion Plane 1 2 This command inserts path check data into the receive data stream on plane 1 or 2 , for the channel addressed Qv the receive channel address register. The data is supplied from a path check data register.Set Alarm Bit 6 This command causes the alarm bit 6 to be set by setting a status bit known as t line alarm change status bit. Loop Back Data Plane 1 2 This command loops the transmitted data back as received data for all channels on plane 1 or 2 .Transmitted data for channel n will be returned to channel n 1 as received data. If data was being looped back on plane 2 1 , this action will be reset.Set Bit 0 Status Stream to Selection 1 2 , 3 This command causes selection 1 2 , 3 status to be sent back in the bit 0 status stream until a further select command is sent.Reset Loop Back Data This command switches the supply of the receive data of both planes to the receive data output from an aligner used for synchronisation of incoming speech from thePCM line. The command resets a loop back data command. Reset Alarm bit 6 This command unsets the alarm bit 6 unless an error stators condition is present. It operates by unsettling the line alarm change status bit, and also resets a warning status bit if it is set. Reset Path Check data insertion Plane 1 2 This command switches off path check data insertion for plane 1 or 2 .Reset Data Lock This command causes the selection of transmit data to be governed by the data bias and resets any lock data command.Synchronisation Pattern This command causes no action to be taken by the digital line termination unit. It is used for verifying the commas highway from each plane, and is transmitted when no information is to be sent to the digital line termination unit. Transmit Channel Address Bits 2 6 contain the channel address from which data will be . The is extracted from both planes and also after plane selection by the bias mechanism and time slot 0 synchronisation pattern insertion. The data may be read by selecting monitor data for bit 0 of the digital line termination unit status. The transmit channel address sent may be read by selecting the check read data for bit 0 of the digital line termination unit status.Receive Channel Address Bits 2 6 will contain the channel address for which data is to be inserted when a path check command is operative. The receive channel address sent may be reac by selecting the check read data for bit 0 of the digital line termination unit status.Data Bits 2 6 will contain data to be loaded into a path check data register as follows Bit 2 Register bit 0 3 1 4 2 5 3 6 parity At the same time that new data is being loaded into bits 0 3 of the data register, the original contents are shifted into bits 4 7 of the path check data register. This allows the path check data register to be loaded by two data transfers. Since the parity bit is loaded by every data transfer it is possible to control overall parity of the path check register for everv data transfer.The Command Interface Sequences Commands can be sent to the digital line termination unit which will interrupt the normal speech data fiow. To maintain security of the data the digital line termination unit will only implement valid sequences of the command interface. Transmit and receive channel address and data do not require protection since they will only be active when the digital line termination unit has received a diagnostic command which makes use of these functions. To maintain security two levels of protection are provided. The first level protects the command transport mechanism on each plane individually. The second level provides security of the command contents and the resultant actions. The second level is only applied to actual command codes sent to the digital line termination unit and no security is provided for transmit addresses, receive addresses and data, other than the ability to check reaa. Command Transport Mechanism The digital line termination unit has the ability to ignore a plane sending incorrect data. Protection is provided against misaligmnent of data and continuous output of a non idle code. In the idle state the synchronisation pattern is sent in every time slot along with the speech1 data parity bit. This pattern gives at least three errors if it is misaligned. A command must be preceded and followed by a valid synchronisation pattern. Once an illegal sequence is detected the digital line termination unit will ignore the command highway on that plane for the duration of the current frame and the immediately following frame.At the beginning of the next enabled frame, the digital line termination unit will expect a legal sequence starting with a synchronisation pattern, and if this does not occur the digital line termination unit will treat the information as a new illegal sequence and inhibit that place for the current and following frame. A legal sequence is defined as follows Time slot n Sync. Time slot n l Command Time slot n 2 Sync. where Sync. P1110100 Command Pxxxxxxx P Speech Data parity Data parity 0 X 0 Command Analysis This validated command output from each plane isOR ed to produce a single input into a command analyser.The first stage of command analysis will perform the same sequence validity checks that are performed on a per plane basis as described above under Command Transport M.echsnism. The Command contents are validated by further analysis, and the identifier field is used to steer further action as follows Command Code Command codes are protected by a two element sequence. Firstly, the command code is sent normally, and secondly the command code bits are inverted. A timeout is also imposed on the sequence. The inverted bits nust be sent within the same frame or the frame immediately following that in which the bits were sent normally. The legal sequence is as follows Time slot n Sync. Time slot n l P C code 00 Time slot n 2 Sync. Time slot n 2 m P Ccode 00 Time slot nB3 m Sync. where C code A Command Code P Parity C code All bits of C code are inverted. 32 X1 Q Transmit Channel Address The five bits of the transmit channel address will be loaded without further checking. The legal sequence is as follows Time slot n Sync. Time slot n l P Tx add 01 Time slot n 2 Sync. where Tx add Transmit channel address Receive Channel Address The five bits Or the receive channel will be loaded without further checking. The legal sequence is as follows Time slot n Sync. Time slot n l P Rx add 10 Time slot n 2 Syn. where Rx add Receive channel addressData The five bits of data will be loaded without further checking. The legal sequence is as follows Time slot n Sync. Time slot n l P Data 11 Time slot n 2 Sync. where Data Data bits