# Motion sensing system.

## Abstract
The invention concerns a gear motion measuring system which is capable of sensing motion down to zero, which is capable of use in a rugged environment. and which is relatively insensitive to gear sensor spacing. The system comprises an electromagnetic sensor 20 con nected into the tank circuit of an oscillator 58 to pro duce an FM signal in which the frequency shifts occur in synchronism with the rotation of a gear 12 or the like. A detector 66 having a reference frequency input 68 converts the FM signal to a digital signal. A microproces sor 48 adjusts the reference frequency 68 as necessary to keep it between the high and low limits of the sensor output. The speed sensing system can be applied to the control of the drive unit for a heavy off road vehicle 10 such as a tractor or earth mover.

## Claims
CLAIMS. 1. A motion measuring system for sensing the motion of parts 12 which have relatively well defined areas of alternately opposite physical characteristics, the system comprising a signal generator 24 for producing an alternating output signal and a sensor 20 adjacent the part the motion of which is to be sen sed and connected to the signal generator 24 for alternately varying the output signal between higher and lower frequencies as the alternate opposite areas 16,18 of the part pass the sensor 20 . 2. A system according to claim 1, further including detector means 30 connected to the signal generator 24 to receive the variable frequency signal and produce a digital output signal having first and second levels representing respectively the alternately higher and lower frequencies of the output signal of the signal generator 24 . 3. A system according to claim 1 or claim 2, wherein the detector means 30 comprises a reference frequency generator 68 comparator means 66 for receiving the variable and reference frequency signals and output means 70 , for producing a first level digital signal in response to the variable frequency signal being higher than the reference frequency signal and a second level digital signal in response to the variable frequency signal being lower than the reference frequency signal. 4. A system according to claim 3, further including a digital processor 48 connected to the reference frequency generator 68 to reset the reference to compensate for shifts in the variable frequency signal. 5. A system according to claim 4, further including latch means 72 having an input and an output, the input being connected to receive the digital signal, the latch means 72 being responsive to a control signal from the digital processor 48 to maintain on the output a signal equal to one of the digital levels irrespective of variations in the signal levels at the input. 6. A system according to claim 1, wherein the signal generator 24 comprises an electronic oscillator 58 having an output 64 and a tank circuit 56 for controlling the frequency of signals at the output 64 and wherein the sensor 20 is a magnetic sensor 20 disposed adjacent the part 12 and defining a flux path which links the part and in which the magnetic flux intensity varies according to the physical characteristic of the part immediately adjacent the sensor 20 , the tank circuit 56 linking the flux path to vary the frequency of the oscillator output signal alternately between a high and a low frequency as the part 12 moves relative to the sensor 20 . 7. A system according to claim 6, which includes means 68 for producing a reference signal having a frequency between the high and low frequencies of the oscillator output signal and detector means 66 connected to receive the electronic oscillator output and the reference frequency signal, for producing a digital output signal of first level when the oscillator output frequency exceeds the reference frequency and a second level when the oscillator output frequency is less than the reference frequency. 8. A system according to claim 7, further including means 48 for varying the reference frequency and compensating for variations in the high and low oscillator output signal frequencies. 9. A system according to claim 6, wherein the magnetic sensor 20 comprises a core 50 of ferromagnetic material, a source 54 of magnetic flux, and a support body supporting the core and the flux source in magnetic juxtaposition, the tank circuit 56 comprising a coil linking the core to sense the varying inductance thereof with changes in the flux passing through the core. 10. A system according to claim 7, further including a second oscillator 62 , sensor 52 , and detector 76 operatively connected for producing a second detector output signal which is identical to but phaseshifted from the first detector output signal. 11. A sensor 20 for use in a motion sensing system for gears 12 and the like, the sensor 20 comprising a substantially solid body 21 of nonferromagnetic material, a pair of ferromagnetic cores 50,52 supported substantially by and within the body 21 and spaced from a terminal end thereof means 54 for creating a magnetic field in the body passing through the cores and emanating from the terminal end thereof, and first and second conductors 56, 60 linking the first and second cores to respective oscillator means 58, 62 for varying the frequency of oscillation thereof in response to changes in the flux linking the part 12 with the respective cores 50,52 .

## Description
MOTION SENSING SYSTEM This invention relates to apparatus for sensing the motion of parts such as gears and particularly to a velocity sensing system in which a frequency modulated FM signal is generated as a result of relative motion between the monitored parts and a sensor.Velocities are detectable over a wide range extending at the low end to zero. A determination of the speed and direction of motion of a rotating or linearly translating body such as a drive gear or gear rack is obtainable through the use of a number of prior art devices and techniques for example, electro optical devices, Hall effect devices and electromagnetic sensors can be used to generate pulses as the part moves past the sensor and the pulses can then be processed to yeild the desired data. Optical devices require a relatively clean environment Hall effect devices are expensive and often technically complex. These factors would seem to favour the electromagnetic sensors however, a practical disadvantage of the electromagnetic sensor is its sensitivity to spacing variations between itself and the translating part, and the dependence of signal strength on the speed of the translating part i.e.since the signal generator in the sensor is responsive to the change in magnetic flux part unit time, very low speeds of translation render the sensor signal substantially useless in the subsequent data processor.Accordingly, electromagnetic sensors are not generally used where speeds at or near zero are to be detected.One approach to wheel or gear speed measurement in which electromagnetic sensor disadvantages are reduced is disclosed in U.S. Application No. 4,050,747. That device utilizes counters and data registers responsive to positive and negative transitions of a sensor signal to provide a digital speed indication. According to the present invention a motion sensing system for sensing the motion of parts which have relatively well defined areas of alternately opposite physical characteristics comprises a signal generator for producing an alternating output signal and a sensor adjacent the part the motion of which is to be sensed and connected to the signal generator for alternately varying the output signal between higher and lower frequencies as the alternate opposite areas of the part pass the sensor. Such a system may comprise an oscillator having a tank circuit which controls the frequency of the oscillator output and a magnetic flux sensitive sensor adjacent the part to define a portion of a flux path which links the part and in which the magnetic flux varies in intensity according to the physical presence of the part. The tank circuit of the oscillator is linked with the flux path so that the electrical tuning of the tank circuit varies as the part passes by the sensor, thus producing an alternating shift in the frequency of the output signal between relatively high and low frequency levels. Parts speed is determined as a function of the rate at which the oscillator varies between the high and low frequencies. The invention also includes a sensor for use in a motion sensing system for gears and the like, the sensor comprising a substantially solid body of nonferromagnetic material, a pair of ferromagnetic cores supported substantially by and within the body and spaced from a terminal end thereof means for creating a magnetic field in the body passing through the cores and emanating from the terminal end thereof, and first and second conductors linking the first and second cores to respective oscillator means for varying the frequency of oscillation thereof in response to changes in the flux linking the part with the respective cores. One example of a system according to the invention will now be described with reference to the accompanying drawings, in which Figure 1 illustrates a system applied to the measurement of gear tooth velocity Figure 2 is a graphical representation of certain signal frequencies under va ious operating conditions of the system of Figure 1 Figure 3 is a plan view of a preferred electromagnetic pickup design for use in the motion sensor portion of the system of Figure 1 Figure 4 is a block diagram of the system incorporated in a speed control system for off road vehicles. Figure 1 illustrates an embodiment of the invention utilized to measure the peripheral velocity of teeth 16 in a rotating gear 12. The embodiment comprises a pickup 2 placed closely adjacent the gear 12 such that when the gear 12 moves in the direction of the arrow the end of the sensor body is alternately adjacent the gear teeth 16 and troughs 18. The sensor 20 comprises a body 21 of non magnetic material such as epoxy or a suitable mouldable polymer holding in place a pair of ferromagnetic cores 50 and 52 which are spaced apart in the direction of gear tooth motion by a distance which is substantially less than the circumferential distance between adjacent teeth 16.The body 21 of the sensor 20 also carries therein a unidirectional flux source in the form of a permanent magnet 54 which is oriented such that the flux pattern passes through the cores 50 and 52 and emerges from the end of the body adjacent the gear tooth profile being monitored. It will be apparent to those familiar with electromagnetic phenomena that the amount of flux actually linking the cores 50 and 52 at any given time is closely dependent upon the reluctance of the flux path which, in this case, is a function of the proximity of the gear 12 which is presumed to be constructed of a ferromagnetic material i.e., a greater flux intensity links the cores 50 and 52 when a tooth 16 is adjacent the sensor body 20 and a lesser flux intensity links the cores when a trough 18 is immediately adjacent the sensor end. Core 50 is linked by a conductor 56 to form a tank circuit for a conventional oscillator 58. Similarly, core 52 is linked by a conductor 60 to form a tank circuit for conventional oscillator 62. Accord .ingly, the output signal frequencies of the oscillators 58 and 62 vary between relatively higher and lower values as the gear 12 translates past the sensor 20, the relatively high frequency components representing the proximity of a gear tooth 16 and the relatively low frequency components representing the proximity of a trough 18. Again the signals which are produced by the oscillators 58 and 62 can be made substantially identical but phase shifted by an angle dependent upon the physical spacing between the cores 50 and 52. For signal processing purposes the physical spacing between the cores is preferably less than half of the distance between adjacent teeth 16. The variable frequency output of oscillator 58 is connected via line 64 to the first input of a phase detector 66 which forms part of the FM to digital converter circuit 30. A second input to phase detector 66 is derived from a voltage controlled oscillator VCO 68 which produces a reference frequency signal which, for normal operating conditions, is set to the mean or average of the high and low frequency outputs of oscil lator 58 i.e., the reference frequency signal is preferably half way between the high and low frequency components. The output of the detector 66 is a signal comprising a series of very closely spaced pulses during that portion of the input cycle when the frequency on line 64 is less or more than the output frequency of the voltage controlled oscillator 68.The output signal is applied to an integrator 70 to produce a digital signal which alternates between relatively higher and lower amplitude levels representing the frequency changes in the signal from oscillator 58. This digitized signal is connected back to the microprocessor 48 which controls the reference frequency of the voltage controlled oscillator 68 through a digital to analog converter 74 for initialization and recalibration purposes as hereinafter described. The digital signal is also connected through a latch circuit 72 to the output fl for processing by subsequent circuitry in accordance with the disclosure of Fig. 4. The phase shifted signal from oscillator 62 is connected to the FM to digital converter 34 which, like converter 30 comprises a phase detector 76, a voltage controlled oscillator 78, and an integrator 80 to produce a digital output signal f2. A latch circuit 84 is disposed in the signal line for initialization and recalibration purposes to be described. Again, the digital signal is also connected back to the microprocessor 48 for purposes of controlling the reference frequency of voltage controlled oscillator 78 through a control channel which comprises a digital to analog converter 82. Although the operation of the circuit ofFig. 1 is believed to be apparent from the foregoing, a brief review will now be made. As the gear 12 rotates, the presence of a tooth 16 immediately adjacent the sensor 20 results in a tuning of oscillator 58 to the high frequency level and, in delayed phase relation, a similar tuning of oscillator 62 to the high frequency level. The high frequency level is detected by frequency detector 66 to be greater than the reference frequency from voltage controlled oscillator 68 and accordingly a high digital level is generated at the output of converter 30.As the gear continues to move, sensor 20 senses a trough 18, the tank circuit 56 retunes oscillator 58 to the low frequency component, the low frequency level is detected by frequency detector 66 to be less than the reference frequency from oscillator 68 and, accordingly, a low digital level appears at the output of converter 30. As the gear 12 continues to rotate detector 66 in converter 30 continues to switch back and forth between the high and low conditions producing a digital signal, the levels of which occur at a rate which is synchronous with the rate of appearance of the gear teeth 16 adjacent the sensor 20. The signal level is in no sense dependent upon the rate at which the gear 12 translates past the sensor 20, hence there is no speed limitation imposed on the subject device by the manner in which the electromagnetic sensor 20 operates.Converter 34 functions similarly to produce a second digital signal identical to the first but shifted in phase by a small amount relative thereto. If all of the physical and electrical parameters of the circuit of Fig. 1 are well known it is theoretically possible to predetermine the high and low output frequency components of the oscillators 58 and 62 and, from this data, preset the reference frequencies which are produced by the voltage controlled oscillators 68 and 78. However, as a practical matter, variations in installation procedure, temperature, gear teeth profile, sensor spacing, and other contributing factors suggest that the reference frequencies be set on an empirical basis by means of a process which is readily carried out by the microprocessor 48 in the embodiment of Figure 1.The primary steps in the process are now described with reference to the diagram of Figure 2, the right hand side of which indicates the voltage output from the integrator 70 and the left hand side of which indicates the frequencies of the signals applied to the detector 66. The overall objective of the process is it identify the high and low frequency components which are generated by oscillator 58 as the gear 12 passes by the end of the sensor body 20 and to set the frequency of the voltage controlled oscillator 68 between them. It is presumed that neither the high frequency value nor the low frequency value is initially known. The first step involves setting the voltage controlled oscillator to a very low frequency, as shown on line A of Figure 2 such that it is substantially below the frequency of the lowest expected value of either the low or the high frequency component from oscillator 58. Under hese circumstances, a high digital signal level is generated and presented to the microprocessor 48 on signal line 86. The frequency of the voltage con trolled oscillator 68 fvco is repeatedly increased by vco increments of about 1kHz by an appropriate signal from microprocessor 48. The microprocessor 48 re examines the output signal of converter 30 after each increment to determine if the frequency from oscillator 58 Figure 2 A1 has exceeded the frequency from vco 68.As shown on line B of Figure 2, when the incremental increase occuring at tl raises fvco above the unknown output of of oscillator 58, a transition occurs at the output of the integrator 70. This transition identifies the location of fLO within the resolution permitted by the increment size but does not provide enough information to determine whether the identified frequency of fhi or f . Therefore, the identified frequency value is i o temporarily stored in memory locations corresponding to both hi and Lo The output of the voltage controlled oscillator 68 is stepped back and forth across the identified frequency fro for as long as it remains unchanged.Each such step produces a transition at the output of integrator 70. When the signal frequency from oscillator 58 changes either increasingly or decreasingly, the incremental reciprocations of fvco produce no further transitions. The output of integrator 70 thus remains either high or low, depending on the direction of change in the signal being identified. The level at which the signal from integrator 70 remains determines whether the signal frequency just found is either fhi or fLO e.g. if it remains high, the signal is fLO. The output of oscillator 68 is now incremented or decremented toward the remaining unknown frequency from oscillator 58. In the illustrated case, the remaining unknown is fhi and the persistent high signal state after t2 positively declares this to be the case.Accordingly, the output from VCO 68 is incremented until at t4 another transition in the output of integrator 70 occurs. This final transition identifies fhi and the hi value thereof is caused by microprocessor 48 to be stored in the fhi memory location, replacing the fLo signal previously in that location. Finally, fhi and fLO are averaged and fveo is set exactly half way between the two frequencies, as shown on line F of Fig. 2. Under these conditions the output of oscillator 58 alternates back and forth between fLO and fHi to produce an alternating digital signal at fl of Fig. 1. Substantially the same method is programmed for periodic utilization in the system of Fig. 1 for recalibration purposes except that the starting point is the last stored value in the microprocessor 48 instead of the very low frequency generated at initial calibration. This method is preferably carried out on a recurring basis and between transitions of the digital output signal fl to account for gear eccentricities, wobble, temperature shifts and other changes in operating conditions which might otherwise disturb the output frequencies enough to generate false transitions.To prevent the artificial shifts in fvco from generating transitions during the recalibration process the microprocessor 48 latches the circuits 72 and 84 to hold the last generated digital signal level until the recalibration method is complete. Referring now to Fig. 3, the preferred form of a sensor 20 is illustrated adjacent the teeth 16 of a gear 12 which is adapted for rotation about a central axis 88. The sensor 20 comprises a body in the form of an epoxy bar which has been molded around a small permanent magnet 54 and a pair of ferrite cores, only core 50 being apparent in Fig. 3. Core 50 is preferably of elongated configuration with the aperture receiving winding 56 being offset away from the terminal end of the sensor body.With this construction the sensor 20 may be set very close to the periphery of the gear teeth 16, much closer than is indicated by the relative spacing in Fig. 3, with the confidence that accidental contact due to eccentricity or shifting under load will merely wear away the elongated end of the core 50 with little or no appreciable change in magnetic characteristic and without breaking or altering the close loop nature of the core 50. Fig. 4 illustrates a system embodying the invention as applied to the control of the drive unit for a heavy off road vehicle 10 such as a tractor or earth mover. The drive unit of the vehicle 10 includes a differential 14 with a bevel gear 12 whose speed and direction of rotation is to be determined through the embodiment of the invention. Gear 12 exhibits peripheral gear teeth 16 separated by troughs 18 to mesh with mating gears, the teeth 16 and troughs 18 representing relatively well defined areas of alternately opposite physical characteristics. Disposed adjacent the periphery of gear 12 and suitably mounted on the vehicle 10 is an electromagnetic sensor 20 having individual pickups of which the first is connected by circuit 22 to an FM signal generator 24. The output of generator 24 is a,frequency modulated signal which varies discretely and abruptly between relatively higher and lower frequency levels as the gear 12 rotates about its axis so as to cause a translation of the gear profile past the sensor 20. In the illustrated embodiment, the presence of a gear tooth 16 immediately adjacent the sensor 20 results in a relatively high frequency output signal from FM signal generator 24 and the presence of a trough 18 immediately adjacent the sensor 20 results in a relatively low frequency signal.The generator 24 is designed such that the shift between frequency levels is relatively abrupt and generally synchronous with the linear translation of the gear 12. The second pickup in sensor 20 is connected by line 26 to a second FM signal generator 28, the output of which is identical to the output of signal generator 24 but shifted in phase by a phase angle which is related to the physical distance between the pickups measured along a line tangent to the periphery of gear 12 immediately in the area of the sensor 20. The frequency modulated output signal from generator 24 is connected to an FM to digital signal converter 30 which functions in the manner of a frequency detector to produce a digital output signal at 32, the amplitude levels of which are representative of the relatively high and low frequency components of the F signal from generator 24. In brief, the converter 30 digitizes the signal from generator 24 so that it may be processed in later circuitry to yield speed and direction data. FM signal generator 28 is similarly connected to a converter unit 34 which is identical to unit 30 to produce a second digitized signal at 36. This signal is identical to but phase shifted from the signal at 32. Both of the signals at 32 and 36 are connected as inputs to a speed and direction calculator 38 which is a prior art device. As will be apparent to those skilled in the art, speed may be readily determined by a simple process of counting clock pulses between transitions of the digital signal and direction may be determined by comparing the phase shift between the signals at 32 and 36. The speed and direction calculator unit 38 may be interconnected with a microprocessor 48 which is a small limited capacity digital computer carried on board the vehicle 10 for speed and direction control purposes.The microprocessor 48 is also interconnected with the first and second phase converter units 30 and 34 for initialization and recalibration purposes to be described hereinbefore in greater detail. The data from the drive calculator 38 is connected by a suitable multi conductor bus to a drive control unit 44 to provide control signals to the transmission unit which ultimately supplies power to gear 12.The drive control unit 44 is a feedback system in which the control signal on channel 46 drives to zero any differences between operator input commands and actual speed and or direction signals from the unit 38. The velocity sensor of the invention may be applied as described above to control the speed of vehicle drive coflt oncnts. In addition it may be used to monitor gear speed in many other industrial applica tions such as position control systems, automatic milling machines, die set accelerators, length control systems for tube mills , conveyors and tachometers.In addition, the invention may be applied to the counting and or monitoring of gear rack teeth and discrete parts such as castings and stampings which move linearly rather than angularly.