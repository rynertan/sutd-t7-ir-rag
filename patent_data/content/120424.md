# PARALLEL COMPARISON TYPE ANALOG TO DIGITAL CONVERTER

## Claims
Parallelvergleichstyp Analog Digital Konverter mit einer Spannungsteilerschaltung Fig. 4, 10 zur Erzeugung einer Anzahl von geordneten Vergleichsspannungen 1 8 VR VR , einer gleichen Anzahl von geordneten Vergleichsschaltungen 30 37 zum Vergleichen der Anzahl von Spannungen jeweils mit einer gemeinsamen analogen Eingangsspannung VS , die digital gewandelt werden soll, einer Positionsdetektorschaltung 50 , die abhängig von den Ausgangssignalen der Anzahl von Vergleichsschaltungen ist, zur Entwicklung einer digitalen Ausgabe 252 254 abhängig von der Anordnung des Übergangs zwischen den Vergleichsschaltungen, die eine niedrigere Vergleichsspannung als die gemeinsame analoge Eingangsspannung erhalten, und den Vergleichsschaltungen, die eine höhere Vergleichsspannung als die gemeinsame analoge Eingangsspannung erhalten, wobei die Vergleichsschaltungen von der Bauart sind, die einen Ausgang mit einem ersten binären Pegel H erzeugen, wenn die analoge Eingangsspannung deutlich oberhalb der Vergleichsspannung ist, einen Ausgang mit einem zweiten binären Pegel L erzeugen, wenn die analoge Eingangsspannung deutlich unterhalb der Vergleichsspannung ist, und einen Ausgang mit einem Zwischenpegel X erzeugen, wenn der analoge Eingang weder deutlich oberhalb noch deutlich unterhalb der Vergleichsspannung liegt, wobei die Positionsdetektorschaltung eine gleiche Anzahl von geordneten UND Gates 401 471 aufweist und jedes der UND Gates einen ersten Eingang, der den Ausgang der Vergleichsschaltung der gleichen Ordnung erhält, und einen zweiten Eingang aufweist, dadurch

## Description
The present invention relates to an analog to digital converter hereinafter abbreviated as A D converter for converting an analog signal to a digital signal, and particularly to a parallel comparison type A D converter. Parallel comparison type A D converters have been widely utilized in various fields such as video systems and audio systems. The principle of operation of parallel comparison type A D converters is as follows. An analog signal to be converted into a digital signal is simultaneously compared in a plurality of comparison circuits with a plurality of comparison voltages, respectively, each having a different value. The comparison circuits which receive comparison voltages of higher values than the analog signal generate output signals of a first logic level, e.g., 1 , while the comparison circuits which receive comparison voltages of lower values than the analog signal generate output signals of a second logic level e.g., 0 . The output signals are applied to a corresponding plurality of logic gates in such a manner that the logic gates determine which comparison voltage is closest to the analog signal. An output of only one of the logic gates is activated, e.g., binary 1 , while outputs of the remaining logic gates are not activated. The particular logic gate having the activated output corresponds to the value of the analog signal. The outputs of the logic gates are applied to a decoder and a binary code representing the value of the analog signal. One problem with such parallel comparison A D converters is caused by the fact that a typical comparison circuit is not sufficiently sensitive to clearly distinguish which of its two inputs is greater when the two inputs are very close in value. In such case the comparison circuit provides an intermediate level output voltage, X , which is intermediate the binary levels 0 and 1 . This in turn causes a malfunction of the logic gates resulting in all of the logic gates having the same output, e.g., 0 . The decoder provides an output code incorrectly representing the value of the analog signal. Thus, as the analog input varies in one direction, e.g., increases, the binary code output may jump up or down from its correct value each time the analog signal nears a comparison voltage. Thus, it has been difficult to obtain ideal monotonic operation in the A D conversion characteristics of such converters. Namely, the digital output cannot change in proportion to the value of the analog signal throughout the whole conversion range of the analog signal. The disadvantage described above is fatal to the A D converters. Namely, when the A D converter is used to convert an analog signal such as an audio or video signal, which changes continuously in value, an output digital signal becomes noisy. One possible way to overcome the above disadvantage is to increase the sensitivity of the comparison circuits so that the outputs will never have an intermediate value. However, the number of the comparators used in parallel comparison type A D converters is very large for example, 2 A parallel comparison analog to digital converter as described above and having the features according to the preamble parts of claims 1 and 3, respectively, is disclosed in ISSCC 79 IEEE INTERNATIONAL SOLID STATE CIRCUITS CONFERENCE, DIGEST OF TECHNICAL PAPERS, Peale Ballroom Holiday Inn, 15th February 1979, pp. 128 129, IEEE New York, US J.G. PETERSON A monolithic, fully parallel 8b A D converter . As no means are provided for avoiding outputting of an intermediate level of the comparison stages or a processing of such intermediate levels, the drawbacks as mentioned above are also inherent in this device. It is, therefore, an object of the present invention to provide a parallel comparison type A D converter having improved monotonic operation in A D conversion characteristics. It is another object of the present invention to provide a parallel comparison type A D converter which can be fabricated as a high density structure in a semiconductor integrated circuit. These objects are achieved by a parallel comparison analog to a digital converter having the features as given in claims 1 and 3, respectively the dependent claims are related to further developments of the invention. According to the present invention, if the comparator generates an output signal of an intermediate value which is not classified into either of two binary logic levels, such an output signal of the intermediate level is necessarily recognized as one of the binary logic signals by at least one of the first and second input terminals. Accordingly, any problem caused by the output of the intermediate value from the comparator can be effectively avoided. With reference to Figure 1, a parallel comparison type A D converter according to the prior art will be explained. In this example, an analog signal is converted into a 3 bit digital or binary signal. A voltage dividing circuit 10 is connected between a reference voltage V As will be appreciated, the voltage divider provides a plurality of comparison voltages, with the lowest voltage being at node 20, the next highest at node 21, etc., through the highest at node 27. The comparison voltages will be referred to herein as an ordered plurality of comparison voltages for the purpose of describing the relationships between the comparison voltages, a like ordered plurality of comparison circuits 30 37, and a like ordered plurality of logic circuits. For example the order of the comparison voltages is, node 20 is the first, node 21 the second, node 22 the third. Each comparison circuit, e.g., 33, receives the comparison voltage, e.g., at node 23, of the same order. Each logic gate, e.g., 43, receives one input at a positive logic terminal from the comparison circuit of the same order, e.g., 33, receives a second input at a negative logic input terminal from the comparison circuit which precedes it by one in the order, e.g., 32, and receives a third input at a positive logic input terminal from the comparison circuit which succeeds it by one in the order, e.g., 34. Alternatively the elements may be described as having weights, even though all the comparison circuits and all the logic circuits may be identical. Thus, it may be said the gate 43 has a weight which is one above that of gate 42 and corresponds to the weight of comparison circuit 33 and the comparison voltage at node 33. The comparison voltages and the analog input voltage V The Gray code converter 151 has the disadvantage that when the outputs of the gates 40 to 47 are all 0 level, a certain special code is output therefrom. As illustrated that code is 111, the same as would occur if logic gate 145 provided a binary 1 at its output. As long as there is a clearly defined crossover in the output pattern of the comparison circuits no problem occurs. However, when there is no clearly defined crossover, i.e., when one of the comparison circuits outputs an intermediate level voltage, X, it is possible that none of the gates will output a 1 and the Gray code converter will output 111 irrespective of the true value of the analog signal. Why this occurs will now be explained. Assume, for example, the analog input is too close to the voltage at node 23 for comparison circuit 33 to distinguish between them. Its output will be at the intermediate level X. That level X will be applied to gates 44, 43 and 42. Gates 40, 41 and 42 will all have 0 outputs because comparison circuits 30, 31 and 32 will provide 0 inputs thereto. Gates 45, 46 and 47 will all have 0 outputs because of the inverted 1 inputs applied thereto by circuits 34, 35 and 36, respectively. Which of gates 43 and 44 will provide the needed 1 output to the Gray code converter depends upon the binary threshold level of the input terminals of the gates 43 and 44. If the binary threshold levels are identical at all input terminals, as they are intended to be, both gates 43 and 44 will have the same recognition of the X level signal. That is, both will recognize the X level signal as a 0 if below the binary threshold level both will recognize the X level signal as a 1 if above the binary threshold level. In either case, one and only one of gates 43 and 44 will output a binary 1 to the Gray code converter. However due to a deviation in manufacturing accuracy the binary threshold levels of all inputs are not always equal to one another. If the input threshold value V The occurrence of this phenomenon is fatal to an A D converter. Namely, the variation of the output binary code 011T101T100, which normally should vary 011T100, spoils the monotonic operation of the A D converter. In order to prevent the latter problem from occurring, one solution would be to construct the comparison circuits so that their outputs would never be at the intermediate level. This makes it necessary to increase the accuracy and gain of the comparators. However, as desribed previously, a parallel comparison type A D converter requires 2 With reference to Figure 4, a parallel comparison type A D converter according to one embodiment of the present invention will be described. In Figure 4, the portions corresponding to those in Figure 1 are indicated by the same reference numerals as used in Figure 1. A voltage dividing circuit 10 composed of 2N resistors 12 to 19 is connected between a reference voltage V As will be appreciated, the logic of the converter of Figure 4 is the same as that of Figure 1. However, by separating each logic gate of Figure 1 into an AND gate and an inverter gate, the problem described above can be easily avoided. Specifically the AND gates 401 471 are fabricated to have a first binary threshold level at a relatively low value, and the inverter gates are fabricated to have a second binary threshold level at a relatively high value. The input output levels of the AND gates and invert gates are illustrated in Figure 5 the dashed line A representing the input output curve for the AND gates and the solid line representing the input output curve for the invert gates. The operation will be explained for the same case as described in connection with Figure 1, namely, that the analog signal is so close to the comparison voltage that the comparison circuit 33 does not output a definite 0 or 1 , but outputs some intermediate value, X. If the X level is below the threshold V The third possibility is that the level X will be intermediate the threshold VT431 of AND gate 431 and threshold V The fact that a condition can occur where two adjacent AND gates output binary 1 values is no problem. In the specific case described, both of the levels of the outputs from the logic gates 431 and 441 become 1 . Therefore, as shown in Figure 2b the Gray code 010 converted by the selective input terminal 143 and the Gray code 110 converted by the selective input terminal 144 are superposed on each other. However, the Gray code is so formed that it is varied by only one bit for each step. Accordingly, when two adjacent codes are superposed on each other, one of the two codes is always output, and they are not converted into any erroneous codes. Namely, even when the Gray codes 010 , 110 are superposed on each other as in the above mentioned case, the Gray code 010 is output. This is obvious from the structure of the circuit 251 shown in Figure 2a. When the input terminal 143 is at the selective level 1 , transistors QPA and QPC are made conducting so that the outputs 154 and 152 are connected to the ground potential GND to be set at 0 level. In this instance, any transistors connected to the output 153 are not made conducting. Thus, the outputs 154 0 , 153 1 , 152 0 are obtained. When the input terminal 144 is at the selective level 1 , the transistor QPB is made conducting and hence the output 152 is set at ground potential while the outputs 154 and 152 are of 1 level through load transistors QL1 and QL2. Thus, the outputs 154 1 , 153 1 , 152 0 are generated. Therefore, if the input terminals 143 and 144 are simultaneously set at the selection level 1 , then the transistors QPA, QPB and QPC become conducting, and therefore the outputs 154 0 , 153 1 , 152 0 are obtained, which output state is the same for the case where only the input terminal 143 is selected. One example of suitable voltages for the circuit described is as follows. The output of each of the comparators 30 to 37 swings between 0V as a logic 0 level and 5V as a logic 1 level. Therefore, the intermediate value X of the output of the comparator is about 2.5V. The threshold value V According to the present invention described above, a certain output code is converted normally into a subsequent output code even when an output from a comparator has any degree of intermediate level X no abnormal code is outputted. With reference to Figure 6, a parallel comparison type A D converter according to another embodiment of the present invention will be described. Portions or circuits corresponding to those in Figure 1 or Figure 4 are indicated by similar reference numerals for those in Figure 1 or 4. In this embodiment, a position detecting circuit 50 comprises a first logic circuit consisting of invert gates 402 472 and a second logic circuit consisting of NOR gates 401 471 . It will be appreciated that the converter of Figure 6 differs from that of Figure 4 only in that the circuitry of position detector 50 is the inverse logic equivalent of the circuitry of position detector 50 . Whereas in detector 50 Figure 4 an AND gate 431 receives direct inputs from the comparison circuit 33 of the same order, and from the comparison circuit 34 which succeeds it by one in the order, and receives an inverted input from the comparison circuit 32 which precedes it by one in the order, in detector 50 Figure 6 a NOR gate 431 receives inverted inputs from the comparison circuit 33 of the same order and from the comparison circuit 34 which succeeds it by one in the order, and receives a direct input from the comparison circuit 32 which precedes it by one in the order. An input threshold value of logic input gates 401 , 411 , 421 , 431 , 441 , 451 , 461 and 471 is set relatively higher than that of the inverters 402 , 412 , 432 , 442 , 452 , 462 and 472 , thereby to intentionally make these two threshold values different, so that, when an output from a comparator has an intermediate level, an output from the position detecting logic circuit 50 can be doubly selected by a first code converter 151. In the present invention, a method of adjusting the threshold value of a logic gate to a desired value is not limited. Many known methods for adjusting the threshold value of logic circuits are applicable to achieve the present invention. A typical method will be explained below. An input threshold value V Accordingly, in order to change an input threshold value for a logic gate, only the topological shape of a MOS transistor constituting the same logic gate need be changed, and no special manufacturing step is required. Unlike a conventional parallel comparison type A D converter, a parallel comparison type A D converter according to the present invention is free from the occurrence of abnormal code outputs, which is due to an insecure output from a comparator, and, therefore, it can maintain its monotonic operation. According to the present invention, comparators of a higher accuracy need not be employed for the purpose of preventing the occurrence of insecure outputs therefrom, and a large scale complicated circuit need not be employed, either, for the purpose of enabling the comparators to have higher gain. Moreover, no other special circuits and no special manufacturing steps are required. Accordingly, the present invention can provide a reliable parallel comparison type A D converter capable of easily forming a monolithic integrated circuit of a comparatively simple construction.