# ARITHMETIC APPARATUS

## Claims
Voll kombinatorische arithmetische Vorrichtung zum Verknüpfen einer ersten R und einer zweiten Zahl S , wobei jede der Zahlen R, S eine Mantisse R

## Description
The present invention relates to arithmetic apparatus in general and preferably relates to a floating point arithmetic apparatus comprising separate fully combinatorial add subtract and multiplying assemblies which share a common normalisation, rounding and exponent processing apparatus in particular. When adding or subtracting two numbers comprising different exponential components it is necessary to first align the numbers. Aligning the numbers comprises modifying the mantissa and exponential component of one of the numbers so that both of the numbers have the same exponential component. For example, when adding or subtracting 12.5 x 10³ and 1.4 x 10², the numbers 12.5 x 10³ and 1.4 x 10² are first aligned by changing 1.4 x 10² to .14 x 10³. After the numbers are aligned, the mantissas are added or subtracted in a conventional manner. After the mantissas are added or subtracted, the result may be normalised. Normalising the result involves changing the result to have a single integer. For example, if the numbers 12.5 x 10³ and .14 x 10³ are added, the result is 12.64 x 10³. Normalising the result involves changing the mantissa and the exponential component of the number from 12.64 x 10³ to 1.264 x 10⁴. After normalizing the result, the mantissa may be rounded. Rounding the mantissa after normalizing the result involves reducing the mantissa of the result to a predetermined number of nonintegers. For example, if it is desired to round the mantissa to two nonintegers, the mantissa in the latter example would be changed from 1.264 x 10⁴ to 1.26 x 10⁴. In general, the second place noninteger, i.e. 6 in the example, would have been increased to 7 if the third place noninteger, i.e. 4 in the example, had been 5 or greater. When multiplying two numbers having an exponential component, the exponential components are added and the mantissas of the numbers are multiplied in a conventional manner. Thereafter, as in the case of addition and subtraction described above, the resulting product may be normalized and then rounded off. Under certain circumstances, the result of an addition, subtraction or multiplication may be exceptional. That is, the result may be zero, infinity or a result which cannot be interpreted as a legitimate number. In such cases, it is conventional practice in digital arithmetic apparatus to substitute a special number in place of the exceptional result which is indicative of the nature of the exceptional result. In general, the above described arithmetic operations of addition, subtraction and multiplication are carried out in either of two types of digital apparatus. The first of the types comprises logic circuits in combination with registers used for storing intermediate and final results. The second of the types comprises strictly logic circuits in a combinatorial arrangement which does not require or use registers. An example of the first type of arithmetic apparatus is disclosed in U.S. Patent No. 4,229,801, issued to D. L. Whipple on October 21, 1980. In Whipple the above described arithmetic operations are carried out in essentially two dedicated circuits. One of the circuits is dedicated to processing the exponential components of the numbers being operated on. The other of the circuits is dedicated to processing the mantissas of the numbers being operated on. The circuits described comprise one or more registers and perform substantially all of the described arithmetic operations using the same circuit components. In prior known circuits which employ strictly combinatorial techniques which do not include the use of registers to perform arithmetic operations, i.e. the second type of apparatus used for that purpose, it has been the practice to provide one assembly of circuits to perform all the operations associated with addition and subtraction and another assembly of circuits to perform all the operations associated with multiplication. When the assembly of circuits used for addition and subtraction is compared with the assembly of circuits used for multiplication, it is found that there is a significant percentage of them which are identical. For example, it is found that the circuits used for normalization, rounding, exponent processing and exceptional result handling are substantially identical in both the combinatorial add subtract assembly and the separate multiply assembly. This substantial identity of circuits in the two assemblies is wasteful of space and a principal disadvantage proscribing the use of prior known fully combinatorial arithmetic apparatus. Reference may also be made to PROCEEDINGS 5TH SYMPOSIUM ON COMPUTER ARITHMETIC, 18th 19th May 1981, Ann Arbor, Michigan, US, pages 190 196, IEEE, New York, US G.S. TAYLOR et al. Vax hardware for the proposed IEEE floating point standard . The present invention provides a fully combinatorial arithmetic apparatus for operating on a first and a second number, each of said numbers having a mantissa and an exponential component, comprising The invention may thus provide a fully combinatorial floating point arithmetic apparatus comprising separate add subtract and multiply assemblies which share common exponent and mantissa processing apparatus. The above and other features and advantages of the present invention will become apparent from the following detailed description of the accompanying drawing, in which Referring to Figure 1 there is provided in a preferred embodiment of the present invention a fully combinatorial arithmetic apparatus designated generally as 1. In the apparatus 1 there is provided an add subtract assembly designated generally as 2, a multiply assembly designated generally as 3 and an assembly of circuits designated generally as 4 which are shared by the assemblies 2 and 3. In the assembly 4 there is provided a multiplexer 5, an exponent processing assembly 6, a normalize rounding assembly 7 and an exceptional result handling assembly 8. The assemblies 2, 3 and 6 are provided with a plurality of input lines 10, 11 and 12 which are coupled to a source of a first number R by means of a line 13 and a plurality of input lines 15, 16 and 17 which are coupled to a source of a second number S by means of a line 18. In the add subtract assembly 2 there is provided a mantissa aligning circuit 20 and a mantissa add subtract circuit 21. The mantissa aligning circuit 20 is provided with a pair of inputs coupled to the lines 11 and 16, a pair of outputs coupled to a pair of output lines 22 and 23 and a control signal input for receiving a control signal from the exponent processing assembly 6 on a control signal line 24. The mantissa add subtract circuit 21 is provided with a pair of inputs coupled to the lines 22 and 23, a control signal input line 27 which is used for selecting between the add subtract functions and an output coupled to an output line 25. In the multiply assembly 3 there is provided a mantissa multiply circuit 30. Circuit 30 is provided with a pair of inputs coupled to the lines 12 and 17 and an output coupled to an output line 31. In the multiplexing circuit 5 there is provided a pair of inputs coupled to the lines 25 and 31 and an output coupled to an output line 32. In the normalizing rounding circuit 7 there is provided an input coupled to the line 32, an output coupled to an output line 33 and a control signal output for providing a control signal to the exponent processing assembly 6 on a control signal line 34. In the exponent processing apparatus 6 there is provided a pair of inputs coupled to the lines 10 and 15, a control signal output coupled to the control signal line 24, a control signal input coupled to the control signal line 34, a control signal input line 37 which is used for selecting between the add subtract and multiply functions and an output coupled to an output line 35. In the exceptional result handling circuit 8 there is provided a pair of inputs coupled to the lines 33 and 35 and an output coupled to an output line 36 for providing a result F. In operation, a pair of numbers R and S, each comprising a mantissa and an exponential component, is applied to the lines 13 and 18, respectively. After the numbers R and S are applied to the lines 13 and 18, the exponential component of the number R is transferred to the exponent processing assembly 6 by means of the line 10 as shown by the designation R After the exponential components R In response to the control signal on the control line 24, the mantissa aligning circuit 20 changes the magnitude of the mantissa, i.e. aligns the mantissa, associated with the lower valued exponential component by shifting the mantissa a predetermined number of places to the right. That is, the mantissa is shifted to the right one place for each factor of 10 difference between the exponential components. For example, when adding or subtracting 12.5 x 10³ and 1.4 x 10², the exponent processing assembly 6 changes the exponential component 10² to 10³ and generates a control signal corresponding to this change. In response to the control signal thus generated, the mantissa aligning circuit 20 changes the number 1.4 to .14 such that a signal corresponding to the mantissa 12.5 appears on the line 22 and a signal corresponding to the mantissa .14 appears on the line 23. Thereafter, the mantissa add subtract circuit 21 in response to a control signal on the control line 27 adds or subtracts the mantissas and provides on the output line 25 a signal corresponding to the sum 12.64 or the remainder 12.36. If, on the other hand, the control signal on the control line 37 indicates that a multiplication is to be performed, the exponent processing assembly 6 adds the exponential components of the numbers R, S and the multiply circuit 30 multiplies the mantissas of the numbers R and S to provide a result, i.e. product, on the output line 31. In response to a control signal on the control signal line 26, the multiplexer 5 then selectively transfers either the result from the add subtract unit 21 which appears on the output line 25 or the result from the multiply circuit 30 which appears on the line 31 to its output line 32. In response to the result appearing on the output line 32, the normalizing rounding circuit 7 first normalizes and then rounds the result appearing on the line 32. During the normalizing process, the circuit 7 provides a control signal on the line 34 which is proportional to the number of places the result is shifted right or left to provide a mantissa comprising a predetermined number of integers, e.g. one. For example, if the result appearing on the line 32 is a signal corresponding to the decimal number 12.64, the normalizing rounding circuit 7 reduces the number 12.64 to the number 1.264 and produces a control signal on the line 34 corresponding to an exponential component of 10¹. In response to the control signal on the line 34, the exponent processing assembly 6 increases the value of the exponential component associated with the number 12.64 by a factor of 10. After the result on the output line 32 has been normalized, the normalizing rounding circuit 7 rounds the resulting mantissa 1.264 to a predetermined number of nonintegers, e.g. 2. For example, given the number 1.264, the normalizing rounding circuit 7 rounds the number 1.264 to the number 1.26. On the other hand, if the number had been 1.236, as in the subtraction example described above, the resulting number would have been rounded off to 1.24. After the result on the output line 32 has been normalized and a corresponding change has been made to the exponential component being processed in the exponent processing assembly 6, the resulting mantissa on the output line 33 and the resulting exponential component on the output line 35 are combined in the exceptional handling assembly 8 and transferred to the output line 36 for further processing as a floating point number, e.g. 1.26 x 10⁴. On occasion, the output of the normalizing rounding circuit 7 and the exponent processing assembly 6 comprises an exceptional result such as, for example, zero or infinity. In those cases, the exceptional result handling assembly 8 replaces the outputs of the normalizing rounding circuit 7 and the exponent processing assembly 6 with a special number indicative of the exceptional result. This number then becomes the number F on the output line 36 which is further processed by the apparatus coupled to the output line 36.