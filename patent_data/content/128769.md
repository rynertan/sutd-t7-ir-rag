# ADDRESS PROGRAMMABLE CATV CONVERTER

## Claims
Adreßprogrammierbarer Kabelfernsehumsetzer zur Verwendung in einem Fernsehübertragungssystem, weicher Umsetzer aufweist eine Empfangseinrichtung 28, 44 , die zum Empfangen von Signalen von der Hauptstelle des Systems und zum Gewinnen von Daten aus diesen Signalen ausgebildet ist, eine Speichereinrichtung 48, 50 zum Speichern eines eindeutigen Kodes, der den Umsetzer identifiziert und zum Speichern der gewonnenen Daten, und eine Verarbeitungseinrichtung 38 , die auf die gewonnenen Daten anspricht, um den Betriebsablauf des Umsetzers zu steuern,

## Description
The present invention relates generally to cable television CATV , and more particularly to a CATV converter into which address information can be down loaded from the system headend. In many modern cable television systems the system operator has the capability of communicating with the plurality of subscriber terminals that are connected via the cable to the system headend via a cable distribution system. In a typical cable system, each subscriber terminal is provided with a converter which is assigned a unique address that permits the headend to communicate with the subscriber to, for example, establish in the converter a program authorization code that determines which pay program or programs that subscriber will be able to receive. In many cable systems, the subscriber is also able to communicate with the headend in a two way communication link, so as to permit each subscriber terminal to be interrogated or addressed from the headend to, for example, bill the subscriber for viewing special events or poll the subscriber as part of a survey or opinion poll. Such two way communication also requires that each subscriber terminal be assigned a unique address to permit the headend to be able to identify that terminal either to which it is sending information or from which it is receiving information. Moreover, particularly when a relatively large number of subscriber terminals are connected to a headend in a cable transmission system, it is highly advantageous, in terms of saving time, for the headend to be able to address the subscriber terminals in a numerical sequence. This would enable, for example, successively numbered subscriber terminals to be addressed in sequence simply by modifying one or two of the least significant bits of the address code for each subscriber terminal, rather than as many as 21 bits, which may be required when addressing is performed in a nonsequential manner. The subscriber terminal address is conventionally stored in a programmable read only memory PROM at or prior to the time the converter is installed at the subscriber s home. This is done in the field by the installer by the use of a PROM programmer. The installer programs the PROM with the preassigned logical address for that subscriber and installs the PROM into a socket provided for the PROM in the subscriber s converter. The subscriber terminal address may also be programmed to store the subscriber s address by cutting selected jumper wires or by operating a series of switches to establish the desired address code in the PROM. This procedure is, however, time consuming and costly and inefficient, and must be repeated in the field each time a new converter is installed at a subscriber s home. In addition, it is difficult for the system operator to keep accurate records of the addresses that have been allocated or assigned to the subscribers on the system. An example of a known CATV system can be found in WO A 8102961 TOCOM INC which describes the control of transmission of television program and data signals to a plurality of user stations ie. converters . Each converter includes a memory in which are stored a number of data codes including a code identifying the converter and codes representing certain technical aspects of the converter. These codes uniquely identify the converter and do not require changing in the normal operation of the system. The converter includes a microprocessor which controls the operation of the converter and hence access to transmitted programs and the like. The microprocessor is controlled by control data which is transmitted from the headend of the system together with an identification code. On receipt of data from the headend, the received identification code is compared with the identifying code stored in the converters memory and where a predetermined relationship ie. a match is found between these codes the control data is used to control the microprocessor. While the system described in the abovementioned patent application provides a means by which converters in a CATV system can be programmed remotely from the systems headend, it does not adequately solve the abovementioned and associated problems. According to the invention therefore there is provided an address programmable converter for use in a television transmission system, the converter comprising receiver means adapted for receiving signals transmitted from the headend of the said system and for extracting data from those signals, memory means for storing a unique code identifying the converter and for storing said extracted data, and processing means responsive to said extracted data for controlling operation of the converter, as is known for example from WO A 810296l, the invention being characterised in that said extracted data comprises a first transmitted data set including a converter identification code and an associated first logical address code and a second transmitted data set including a second logical address code and associated converter control data and in that said processing means is arranged to be responsive to a first predetermined relationship between said unique code and said converter identification code for storing said first transmitted logical address code and to be responsive to a second predetermined relationship between the thus stored first logical address code and said second transmitted logical address code for storing said converter control data, thereby to enable said processing means to be programmed from the headend to control the converter to prevent unauthorised reception of television signals transmitted in the television transmission system. In one aspect of an embodiment the present invention, to be described in greater detail hereinafter, there is provided an addressable converter adapted to be connected to a cable, said converter comprising data storage means and processing means for receiving a plurality of different converter address codes from the cable, said processing means including means for recognising one of said address codes uniquely assigned to that converter and for storing the recognised one of said address codes into said data storage means. More specifically, the embodiment to be described provides an addressable converter comprising a first memory for storing a converter identification code and a second memory code receiving means adapted to receive a coded signal containing a converter identification code and a unique logical address code assigned to that converter, and processing means connected to said code receiving means and to said first and second memories and comprising means for operatively comparing the received identification code and the identification code stored in said first memory and effective upon the detection of a predetermined relationship between the received and stored identification codes to store the received logical address code into said second memory. The embodiment also extends to a two way cable television distribution network comprising a headend, a cable, and a plurality of remote subscriber terminals connected via said cable to said headend, each of said subscriber terminals including an addressable converter which is identified by a unique identification code, the headend comprising code transmitting means for transmitting along said cable coded signals including at least one of said converter identification codes and an address code uniquely assigned to that converter, the converter including a memory and processing means for receiving the transmitted code signal from said headend and for permanently storing the received address code in said memory upon recognition of its associated identification code. Hereinafter described is an exemplary addressable CATV converter embodying the invention which includes a programmable read only memory in which a unique identification code for the converter is stored, and a random access memory RAM which can be programmed with the unique assigned converter address after the converter is installed at the subscriber location. The converter includes a data receiver which, when the converter is connected to the cable receives from the headend a unique preassigned address code corresponding to a unique identification code stored in a PROM of the converter. When the identification code stored in the converter PROM is matched at the converter with the received identification code, the unique preassigned address code is stored into the converter RAM, thereby to enable the headend thereafter to communicate efficiently with the converter. As will be appreciated from the following, the present invention provides an addressable converter, which, when a plurality are employed in a single cable transmission system, allows the converter to be given sequential address codes without the converter having to be mechanically handled or mechanically modified after its manufacture. Further features of the invention are set forth with particularity in the appended subordinate claims. The invention, together with features and advantages thereof, will be more clearly understood from consideration of the following description of an exemplary embodiment which is illustrated in the accompanying drawings in which The addressable CATV converter of the invention is programmed or downloaded with a unique preassigned logical address from a headend, which may be of the form illustrated schematically in Fig. 1. As therein shown, the headend includes, as is conventional, a plurality of video signal sources 10₁ 10₂...10 The headend of Fig. 1 also includes an operator input computer terminal 16, into which an operator may manually input or type information concerning CATV converters at subscriber locations that are to be connected to the headend through a two way cable system. Such information includes, for example, the date of installation of the converter the serial number of the converter the name and address of the subscriber the services that are to be allowed to the subscriber, such as HBO or the like privileges that are to be allowed to the subscriber such as credit and payment for special events to be viewed and the like. The information from input terminal 16 is applied to and stored in a central controller or processor 18, which, among its several functions, assigns a digital program tag to each of the digital tag encoders 12. The processor 18 is also programmed to assign for each subscriber converter a unique logical address. The subscriber address may be assigned to the various converters in the system in chronological or sequential order, that is, in the order of their installation. An output of processor 18 is applied to an input of an FSK transmitter 20, and the other output of processor 18 is applied to a frequency control circuit 22, which controls the local oscillator frequency of an FSK receiver 24. FSK transmitter 20 produce a Manchester encoded FSK signal Fig. 5e , which contains data including logical address codes that are to be transmitted to the converters. The output of FSK transmitter 20 is applied to an input of signal combiner 14. The output of signal combiner 14, which includes the video signals from sources 10 modulated on one group of carrier frequencies, and the FSK signal on another carrier is applied to the two way CATV distribution system 26 on which the signals are transmitted to the various subscriber terminals. The input to the FSK receiver 24, which receives return information from the subscriber terminals, is connected to the CATV distribution system 26 and its output is applied to the headend central processor 18. Each of the subscriber terminals connected to the headend via CATV distribution system 26 includes an addressable converter, one of which, embodying features of the present invention, is illustrated in Fig. 2. As therein shown, the converter includes an FSK receiver 28 and an rf module 30 each of which has an input connected via the cable to the two way distribution system 26. Module 30 detects and demodulates the selected video signal to baseband and applies the baseband scrambled video to a descrambler 32. The latter descrambles the scrambled video and applies an unscrambled video signal at baseband to a modulator 34 in which the descrambled video modulates a carrier at the converter output channel frequency. The output of modulator 34 is applied to the subscriber s television receiver. The signal selection at module 30 is effected by a frequency control signal applied to module 30 from a tuning microprocessor 36, which, in turn, is connected to the converter s control microprocessor 38. The latter is also adapted to have stored therein an authorisation code which allows the subscriber to receive certain programs as identified by the program identification tags added at the headend to the transmitted video signals by the encoders 12. The authorization code is loaded in microprocessor 38 following the assignment of a logical address code to the converter, as described in greater detail below. Microprocessor 38 also provides a volume control signal to rf module 30 and a descramble control signal to a descrambler timing and logic circuit 40, which provides descrambling control signals to descrambler 32. Control microprocessor 38 receives a program select signal from a keypad 42 from which it, in conjunction with microprocessor 36, generates the frequency control signal to rf module 30. Microprocessor 38 provides display 42 with information allowing the selected channel to be displayed. The control microprocessor 38 receives signals from and provides signals to a serial parallel timing and logic circuit 44, which, in turn, receives the coded demodulated output from FSK receiver 28. Circuit 44 converts the serial binary data from the FSK receiver to parallel binary data and applies that data to control microprocessor 38. To transmit return data back to the headend from the converter of Fig. 2, control microprocessor 38 provides data through timing and logic circuit 44 to an FSK transmitter 46. The latter modulates the converter binary data onto an rf carrier and transmits the resulting FSK signal along the CATV distribution system 26 back to the FSK receiver 24 at the headend. The converter as thus far described with respect to Fig. 2 is per se conventional and its conventional features accordingly will not be further described herein. However, the converter of Fig. 2, in addition, can be programmed from the remote headend to download or store into the converter a unique logical address as well as other information. To this end, each converter at the time of its fabrication is assigned a serial number which is stored in a programmable read only memory ROM 48 connected to an input of control microprocessor 38. The converter of the invention also includes a low power CMOS static random access memory RAM 50, which receives operating power and a supply voltage from a battery 52. In a manner to be described below, a unique logical address code, as well as, if desired, a site code and other information concerning that subscriber, such as purchase records, authorizations, and cross reference tables, can be downloaded from the headend and stored in memory 50 to allow the headend to engage in two way communication with the subscriber terminal based on an ability to interrogate and recognize the latter s unique logical address. The permanent connection of the battery 52 to memory 50 ensures the non volatile storage of that information in the converter. Whenever a converter is to be installed at a remote subscriber location, the central processor 18 at the headend supplies the preassigned address and associated serial number code for the subscriber to FSK transmitter 20. Transmitter 20 transmits an FSK address set command signal Fig. 5e , which includes, as shown in the lefthand column of Fig. 4, described in greater detail below, the logical address signal for the converter consisting of 8 bit bytes W₀, W₁, W₂ and W₃, and bytes representing the ten digits of the serial number for that converter along with the set address code. That signal is decoded in converter FSK receiver 28, converted into parallel binary form in logic circuit 44, and stored in control microprocessor 38. Control microprocessor 38 compares the received serial number code and the serial number stored therein. When a match between the received and stored serial number codes is detected microprocessor 38 causes the logical address code associated with the received serial number code to be stored in memory 50. Once the logical address code has been stored in memory 50 as at step 54 in the flow chart of Fig. 3, the headend then, as at step 56, may address the subscriber terminal by its address and transmit a signal having set site code signal, which has the format shown in the right hand column of Fig. 4 including the address code and the site code. The site code can also be stored in memory 50 along with the converter s unique logical address and other codes such as a program authorization code, that are either unique to that converter or, as in the case of the site code, common to all converters in the system. The site code stored in the memory 50 of each converter in the system is employed as a security measure. In operation, the headend transmits periodically to each subscriber terminal a signal that contains the system site code, which is compared to the stored site code in each converter. If the transmitted and stored site codes do not match, the control microprocessor 38 in each converter erases the logical address code previously stored in memory 50 so that the subscriber terminal is recognized as containing an unauthorized e.g. stolen converter, and all programming to that subscriber is thereafter disabled since the video signal cannot be descrambled at the subscriber terminal. The commands and data transmitted from the headend to the programmable converter are preferably in the form of a sequence of 8 bit bytes. As shown in Fig. 4, the set logical address signal begins with five 8 bit IRG bytes, shown in octal form as 377 or all ones in binary form, which synchronize all converters which are to receive the set address command signals. This is followed by a byte count signal, indicating the number of bytes in the command signal, and then by the set address instruction code. This, in turn, is followed by the four logical address bytes W₃, W₂, W₁ and W₀, and the serial number bytes. The signal concludes with a check sum byte, which instructs the converter microprocessor to check to determine if the previous address data has been accurately received. Similarly, the set site code command signal includes the five IRG bytes and a byte count signal followed by the set site code byte, and the logical address and site code bytes. A check sum byte is also included to serve as an accuracy check. Fig. 5 illustrates the manner in which an 8 bit byte signal may be transmitted from the headend to the subscriber terminals in the present system. The specific example illustrated is a command set address issued from the headend to all subscriber converters to store the logical address code in the converter memory in the manner described above. Fig. 5a is the system clock at approximately 13.895KHZ, which may be conveniently generated by binary division of a 3.58 mHz color subcarrier signal, which is generated using an available, mass produced color TV crystal. Fig. 5b represents the command code 137 or 01 011 111 in binary code. The 8 bits of the command code occur in 8 time intervals, T2 through T9 with the least significant bit occurring first in time interval T2. Fig. 5c shows the data frame format containing the command message. The data frame includes a start bit during time interval T1, an odd parity bit during time interval T10, and a stop bit during time interval T11. Fig. 5d is a Manchester encoded signal wherein the clock signal of Fig. 3a is combined with the data frame signal of Fig. 5c. The Manchester encoded signal is generated by an exclusive or logic function between a clock Fig. 5a and the data frame Fig. 5c . The clock and data are integrated in such manner that there is a waveform transition in the middle of each bit interval. An upward transition from logic 0 to logic 1 in the middle of a bit interval indicates a logic 1, whereas a downward transition from logic 1 to logic 0 indicates a logical 0. The Manchester encoded FSK signal Fig. 5e transmitted by FSK transmitter 20 in the headend may be at a frequency of 106.5 mHz in the f.m. band . It will be appreciated that the unique logical address code and common site code of all converters can be programmed from the remote headend without any mechanical handling or modification to the converter as was required in the prior art addressable converters. It will also be appreciated that other information specific to a converter or common to all converters in the system can also be transmitted from the headend to the converter based on the ability of the headend to communicate with and identify the converter in which a unique address has been stored. It will also be appreciated that once configured with a unique logical address in accordance with this invention, the converter may receive information from the headend in the general format of sequential address values instead of widely dispersed values as would be associated with serial numbers, thereby providing greatly increased efficiency of operations between the headend and subscriber terminals. Finally, it will be appreciated that whereas the invention has been hereinabove described with reference to a presently preferred embodiment thereof, modifications may be made thereto without necessarily departing from the scope of the invention as defined by the appended claims.