# POWER ON RESET PULSE GENERATOR

## Claims
Integrierte Schaltung zur Erzeugung eines Impulses auf das Einschalten einer Stromversorgung, enthaltend

## Description
This invention pertains to a circuit for generating a reset pulse after a power supply for an electronic system has been energized, and more particularly to a miniaturized circuit which could be incorporated into a large scale integration LSI type chip. In many electronic circuits, certain components are used which can have two or more stable states. For example, digital circuits often comprise flip flops, latches and counters. These types of components must be set to an initial or reset state prior to their normal operation every time the circuit is energized. Typically one or more circuits are energized from a single power supply. However as a power supply is activated, its output rises in an unpredictable manner with frequent fluctuations prior to reaching a final nominal steady state value. This is especially the case with switched power supplies in which oscillators and SCR s are used to convert a usually high D.C. or A.C. voltage and a usually low D.C. voltage. Because of this initial variation in the power supply output it is very difficult to insure that the above mentioned multistate components are in a particular state after the power supply output has stabilized. Therefore an initializing, or a reset pulse is needed to set said components to the desired states. Normally the circuit used to generate this reset pulse is activated only once, for each power up operation, and is left inactivated at all other times. It has been found that the reset pulse must have a duration, which depending on different power supplies ranges from microseconds to seconds. In order to conserve space, and power and increase the operational speed of the electronic circuits, these circuits have been miniaturized by using well known I.C. techniques such as CMOS. However reset pulse generating circuits traditionally comprised passive elements such as resistors and capacitors which cannot be implemented on CMOS IC and therefore must be mounted externally. In view of the above, an objective of this invention is to provide a reset pulse generating circuit which can be produced by usual techniques as part of a CMOS IC. A further objective is to provide a circuit which can be incorporated in an IC chip together with other elements of an electronic system. A further objective is to provide a circuit which can be modified to produce a pulse ranging from microseconds to seconds in duration. Other objectives and advantages of the invention shall become apparent in the description. From US PS 4 365 174 a circuit is known for counting pulses which may be used to provide a power on reset signal after power is applied to a circuit by employing charge transfer between two capacitors. The first capacitor is charged to a first voltage level between two input pulses by the counter. During each input pulse a portion of the charge stored on the first capacitor is transferred to the second capacitor so that the voltage across the second capacitor increases with each input pulse. After reaching a predetermined threshold level an output signal is provided indicating a certain number of input pulses. The second capacitor is then discharged in order to reset the pulse counter before beginning another counting cycle. US PS 4 385 245 discloses a MOS power on reset circuit comprising a timer circuit, a reference circuit, a comparator circuit and a logic circuit. This circuit deletes the need for resistors and uses a current source transistor and a capacitor to provide a minimum time for the power on reset signal. A load transistor replaces a resistor in a portion of the circuit which provides a reference. DE OS 25 36 869 describes a circuit for producing pulses which are used for setting logic circuits, especially MOS circuits, after the supply voltage is applied. The circuit comprises a voltage divider and an amplifier, the input of which is connected to the tap of the voltage divider. Further, to the amplifier is connected a capacitive delay network, followed by a threshold detector to which an inverter is attached. As previously mentioned, the purpose of the reset pulse is to set certain circuit elements to predetermined states after the output of the power supply has settled. The duration of the pulse depends on the rise time of the power supply output. If this rise is very slow or it fluctuates so that it reaches the activating level of some circuit elements, such as a differential flip flop, after a relatively long rise time, the reset pulse must also be long in order to insure that it has been applied to the circuit elements after their activation. In some cases the reset pulses must have a duration of a second or more. However, traditionally reset pulses have been derived from RC networks having appropriate time constants. In order to achieve the time constants necessary for the present application, the resistance and capacitance of the network must be in the order of megaohms and microfarads respectively. It is very difficult to obtain such elements on an integrated circuit IC chip. Therefore in this invention voltage dependent elements such as FET s are used instead of the resistor. These elements have a high enough resistance so that the capacitor C may be reduced to the picofarad range. For very long time constants another non linear element such as a diode is used to increase the resistance of the RC network. The circuit also includes a latching means which is activated at an early stage of the power supply output rise and reset by the RC network. The latching means is designed so that its output is either at first or at second value, thus eliminating the possibility of indeterminate states. It also provides amplification of the RC network output. Finally the latching means is also used as a memory means to insure that only one reset pulse is produced, every time the power supply is turned on and that fluctuations in the power supply output do not result in further reset pulses. The output of the latching means is fed to delay circuit. This circuit is provided to allow time for the preselected components to be activated and stabilized before the reset pulse is applied. The output of the delay circuit is amplified and buffered or conditioned by an amplifying circuit to produce a reset pulse with sharp, well defined leading and trailing edges. As shown in Figure 1, the reset pulse generating circuit comprises four stages an RC network 10, a latching stage 12 a delay stage 14 and an amplifier stage 16. Advantageously, the circuit comprises only MOSFET s and capacitors so that it can be formed on a single IC chip by using CMOS or other similar techniques. It is well known the MOSFET s can be made either as a P MOS or as an N MOS transistor. For the sake of clarity all the P and N MOS FET s are identified in the figures by the letters P or N followed by a numeral. Furthermore certain FET s are preferably formed on the chip as complementary pairs and coupled to create an inverters. The respective P and N MOS FET s of each complementary pair have been assigned the same numeral. In the embodiment of Figure 1, the RC network 10 comprises a capacitor C₁ and two P MOS transistors P₁ and P₂. The capacitor has a value of 4pF. The equivalent resistance of P₁ and P₂ is dependent on the voltage between the respective drains and sources of the transistors P₁ and P₂. Capacitor C₁ and transistor P₁ and P₂ are in series between positive bus 20, and ground bus 18 as shown. The two buses are connected to the output of a power supply not shown so that when the power supply is activated at time t 0 the voltage across them, V As V The latching stage 12 comprises three inverters, and an input transistor N₃ used to couple this stage to the RC network 10. The inverters consists of two complementary transistors connected in series as shown. The inverters consisting of P₄, N₄ and P₅, N₅ respectively are hooked up back to back to form a latch 22 with an input node B, and output node C. The transistors are formed with the following channel width to length ratios P₄ 6 11, N₄ 12 5, P₅ 6 11, and N₅ 6 20. This unsymmetrical arrangement is provided to insure that when the power supply is activated the latch output is initially low. Therefore, as shown in Figure 2, at t T₂ the power supply output reaches a threshold value V In order to make sure that the latch 22 powers up to the above defined state the input and output nodes B and C are also coupled respectively to the positive and ground buses 18 and 20 through capacitors C₂ and C₃ as shown. Preferably C₂ has a value of 0.5 pF while C₃ 1pF. The latching stage also comprises a third inverter consisting of complementary transistors P₆ and N₆. This third inverter is used to invert the output of the latch. Preferably P₆ and N₆ should have a width to length ratio of 6 5. The delay stage is coupled to output node D of the third inverter, and it comprises a second RC network. The resistance of the network is provided by a transistor N₇ with its source connected in series with a capacitor C₄. The capacitor preferably has a value of 2pF while the transistor has a width to length channel ratio of 6 30. The voltage across the capacitor C₄, i.e. the voltage V The operation of the circuit is obvious from the above description. As shown in Figure 2, the output of a power supply activated at t 0 stabilizes at t T₁. Sometimes before T₁ , at T₂ said output reaches a value V Initially inverter P₈ N₈ has a high output at node F V Meanwhile the capacitor C₁ of RC network 10 has been charging up toward V When node D goes low transistor N₇ is turned off and capacitor C₄ starts discharging through N₈ as shown. When its voltage V As shown in Figure 2, the reset pulse goes on after a period T The circuit shown in Figure 1 is suitable for reset pulses in the range of 1 10 microseconds. In order to increase the period of the pulse to miliseconds, another element with a much higher resistance can be used. One such element, as shown in Figure 3, could be a zener diode Z which is connected in series with C₁ in a reverse biased position. In this embodiment the transistors P₁ and P₂ are used to provide a voltage drop as described above. The capacitor is charged up by the leakage current passing through the zener diode Z. Due to the non linear characteristics of this device its effective resistance is much larger than the resistance of the two transistors. The effective time constant of the capacitor and zener diode Z is in the milisecond range. If a very long pulse of one second or more is required a reverse biased diode DJ may be used to charge the capacitor as shown in Figure 4. The leakage current through this diode DJ is low enought to extend the reset period into minutes. Preferably diode DJ is made by forming a P well and N diffusion junction through readily available CMOS techniques. In certain applications a very precise control over the time constant of the RC network may be necessary. This may be accomplished, as shown in Figure 5 by providing two transistor P₁ and P₂ in series, each transistor having its gate connected to clock signals Cl₁ and Cl₂ respectively, and its source to two switched capacitors C₁ and C₁ . The clock signals are enabled as soon as power reaches the threshold value V As mentioned above, in order to insure that the latch 22 initially has a high output, its component transistors are unsymmetrical, and additional capacitors C₂ and C₃ have been added to corresponding nodes B and C. A further degree of security is provided by the embodiment of Figure 6 in which latch 22 comprises two NAND gates G₁ and G₂. The input of NAND gate G₁ comprises V Obviously numerous additions and modifications could be made to the invention without departing from its scope as defined in the appended claims. For example, the delay stage could be omitted altogether.