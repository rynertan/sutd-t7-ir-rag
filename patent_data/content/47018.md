# Marking machine control system.

## Abstract
An electronic control system for apparatus of the type used for imprinting or marking nameplates and other similar workpieces. The control system of the present invention has particular application for use with electrically operated marking machines 30 of the type which utilize a keyboard and a marking member 40 which may be displaced to imprint or mark characters or symbols carried by the marking member 40 on metal or plastic nameplates or other similar workpieces. The control system may be operated in a number of modes selectable by the operator including a default mode, in which the selection of the character or symbol to be printed is followed immediately by marking or printing of that character on the workpiece. In other operational modes, a number of characters can be selected or inputted without printing, and entire lines of characters can be imprinted without interruption.

## Claims
WHAT IS CLAIMED IS 1. A control system for a marking machine 30 of the type having a marking member 40 carrying a plurality of marking symbols, means 48, 50 for moving said marking member 40 to sequentially locate said marking symbols at a marking location, and means 36,42,44 for momentarily displacing said marking member 40 into engagement with a work piece to effect marking thereof with said selected one of said symbols on said marking member 40 located at said marking location said control system comprising manually actuatable means for alternatively se lecting one of said marking symbols and one of a plurality of control codes and for producing an output 106 representative of said selected sym bol or said selected control code means 76,94 responsive to said output 106 for identifying said output as representative of a symbol or a control code and for determining whether said selected symbol is a symbol on said marking member 40 means 98 134,138,146 normally responsive to the identification of said output 106 as a symbol on said marking member 40 for displaying said symbol in an optical display 72 and for ini tiating energization of said marking member moving means 48,50 to move said marking member 40 to locate said selected symbol at said marking location and for initiating energization of said marking member displacing means 36,42,44 to effect said momentary displacement of said marking member 40 and the resulting marking of said workpiece and means 98 118,122,124,128,134 responsive to the identification of said output 106 as a control code for initiating one of a plurality of control operations corresponding thereto. 2. A control system as claimed in claim 1 including means 52,54,74,80,82 for determining the shortest distance between the present position of said marking means and the position at which said se lected symbol is located and for causing said marking member moving means 48,50 to move said marking member 140 said shortest distance. 3. A control system as claimed in claim 1 including means responsive to the initiation of a control operation when said control code has been identi fied as a control code selecting a multiple entry mode for inhibiting energization of said marking member moving means 48,50 and for permitting said output responsive means to respond to a se quence of said outputs before said marking member moving means 48,50 is energized Fig. 13 . 4. A control system as claimed in claim 3 including means responsive to the initiation of a control operation when said control code has been identi fied as a control code for enabling a print line mode for terminating said multiple entry mode, and for enable said output responsive means 98 to respond to a print line control code Fig. 13,14 5. A control system as claimed in claim 4 including means responsive to the initiation of a control operation when said control code has been identi fied as a control code for said print line mode for initiating sequential actuation of said marking member displacing means 36,42,44 Fig. 13,14 . 6. A control system as claimed in claims 1 or 5 wherein the marking machine 30 includes table means 34 for supporting said workpiece at the marking loca tion, and means 55 for moving the table 34 and the work piece supported thereby past said marking location to position successive portions of said workpiece at said marking location said control system including means 98,102 responsive to the termination of each energization of said marking member displacing means 36,42,44 for energizing said table moving means 55 to increment said table 34 to position a new portion of said workpiece at said marking location. 7. A control system as claimed in claim 6 including manually settable switch means 104 for selecting the distance said table means 34 is to be moved during each of said table increments means 98 responsive to the setting of said ma nually settable switch means 104 for causing said table moving means 55 to increment said table 34 a distance corresponding to the setting of said switch means 104 . 8. A control system as claimed in claim 1 including means 96,100 responsive to signals corresponding to said outputs from a source remote line 112 from said marking machine 30 whereby operation of said control system may be controlled from said remote source line 112

## Description
DESCRIPTION MARKING MACHINE CONTROL SYSTEMTechnical Field This invention relates to electronic control systems and in particular to such control systems for apparatus of the type used for imprinting or marking nameplates and other similar workpieces. The control system of the present invention has particular application for use with electrically operated marking machines of the type which utilize a keyboard and a marking member which may be displaced to imprint or mark characters or symbols carried by the marking member on metal or plastic nameplates or other similar workpieces.Background Of The Invention Marking machines of the type with which the control system of the present invention is particularly useful typically include a surface or table to hold and position a workpiece to be imprinted, and a marking member having a plurality of symbols thereon which can be positioned to mark the workpiece in a sequential pattern of selected symbols. Typically, this marking member may be changed to provide different desired combinations and sizes of characters or symbols. In such marking machines, the marking member has been positioned in response to actuation of a typewriter like keyboard and electromechanical devices associated therewith. In operation, a character or symbol is selected by actuating or depressing one of the keys on the keyboard which corresponds to the character or symbol desired to be marked. The marking member then is indexed to locate the selected character or symbol in a marking position. The marking member is subsequently displaced into engagement with the workpiece to thereby mark or print onto the workpiece the selected character or symbol. Typically, the workpiece is then advanced a selected distance to locate the workpiece in position to be imprinted or marked with the next selected character or symbol. In U.S. Patents Nos. 3,924,720 and 3,945,479, assigned to the assignee of this.applica tion, there is disclosed such an electromechanically controlled marking machine designed for imprinting at relatively high speeds. The machine disclosed in the above referenced patents includes a frame and a marking ram carrying a marking member or wheel which is slidably mounted on the frame and driven by an electric motor. This marking wheel is rotated to position the characters or symbols on the periphery thereof in position for marking a workpiece disposed therebelow and is transversely displaced to effect the desired marking of the workpiece. In Patent No. 4,071,131, also assigned to the assignee of this application, there is disclosed an electronic control system for the type of marking machines disclosed in the first cited patents which improved the reliability, performance and operational control of those machines and replaced electromechanical devices which limit the speed and reliability of operation with an electronic control circuit. All of the above cited patents and the disclosures therein are incorporated herein by reference in order to minimize the necessity of describing in detail what is contained therein. While the marking machines and the operation thereof under control of the electronic control system disclosed in said patent No. 4,071,131, did in fact result in improved reliability and less electromechanical wear, there still were a number of mechanical components necessary in order to operate the machine. In addition, while the control system in the aforementioned patent No. 4,071,131 did improve the operational speed of such marking machines significantly, the need for faster operation remained as well as additional operational flexibility and even better reliability.Summary Of The Invention In accordance with the present invention there is provided an improved control system for use with marking machines such as disclosed in the aforementioned U.S. patents Nos. 3,924,720, 3,945,479 and 4,071,131 which would simplify the mechanical components in marking machines while simultaneously improving the operational speed and providing greater flexibility in operating the machine. Thus, in accordance with the present invention, the marking member which contains the symbols or characters to be marked on a workpiece is selectively incremented to rapidly locate the selected character thereon in position for marking.Simultaneously, a number of the mechanical control mechanisms previously required to position the marking member and to stop it in the selected location are eliminated. Furthermore, a system in accordance with the present invention may be operated in a number of modes selectable by the operator including a default mode, in which the selection of the character or symbol to be printed is followed immediately by marking or printing of that character on the workpiece. In other operational modes, a number of characters can be selected or inputted without printing, and entire lines of characters can be imprinted without interruption. In addition, the control system of the present invention is capable of effecting automatic return of the marking table to its starting position, the automatic selection of the trailing margin position defining the maximun length of a line, the selectable incrementing of the table in the forward or backward direction, the selection of the magnitude of each increment of table movement to accommodate characters of different sizes and marking at different spacing as well as other selectable control functions which may be desirable in the operation of such marking machines. The control system is also capable of utilizing input data representing the characters to be selected from remote sources as well as the keyboard associated with the marking machine. The movement of the marking table on which the workpiece is located is controlled by the control system of the present invention. This simplifies another area where mechanical components and mechanisms have previously been required and improving the reliability and flexibility of the marking machine. More specifically, the control system of the present invention is responsive to signals from a keyboard or a remote source which can be representative either of a character to be marked or alternatively of certain control operations to be performed. The system determines whether the input signals are symbol signals or control signals. If a control signal, the necessary control operation is implemented. If a character signal, the system stores the identity of the character. If in a simultaneous input and print mode of operation, the printing operation is initiated. After a character is marked on the workpiece, the system increments the position of the table by the selected increment. If an input signal is a control signal, the control system immediately implements that control operation. Typical controls or operational modes include multiple entry mode in which the system accepts plural input data representing a plurality of characters without initiating the print or marking cycle. Each of the characters is stored and retained for later use in printing. A number of lines of characters can be so retained for use in multiple line printing mode when that mode is initiated to print lines of characters at a time without data entry. Furthermore, the trailing margin can be preselected. This preselected margin position can be cleared to eliminate any such limitation or to enable a new margin selection. With the control system of the present invent ion, it is possible to control both forward and backward movement of the table from the keyboard thereby eliminating a number of mechanical linkages and facilitating operation of the overall printing system. At the end of a line of characters, when the keyboard return signal or key is actuated, the system automatically returns the table to its starting position and automatically indexes the marking member to a reference position. These and other capabilities of the system for controlling a marking machine result from the highly reliable marking control system of the present invention and permit high speed operation of the marking machine in a variety of operational modes to improve the efficiency, effectiveness and flexibility of the marking operations for which the machine is designed. Furthermore, the control system of the present invention can be utilized with remote sources of information to permit marking of labels under remote control. Numerous other advantages and features of the present invention will become readily apparent from the foregoing detailed description of the invention and one embodiment thereof, from the claims and from the accompanying drawings.Brief Description Of The Drawing Figure 1 is a fragmentary side elevational view, partly in section, of a marking machine with which the control system of the present invention may be used Figure 2 is a fragmentary view, parly in section, taken along lines 2 2 of Figure 1, with the table omitted Figures 3 11 are circuit diagrams showing the control system of the present invention and Figures 12 15 are flow diagrams helpful in understanding the operation of the control system.Detailed Description While this invention is susceptible of embodiment in many forms, there is shown in the drawing and will be described herein in detail a preferred embodiment of the invent ion. It should be understood, however, that the present disclosure is to be considered as an exemplification of the principles of the invention and is not intended to limit the invention to the embodiment illustrated and or described. The precise shapes and sizes of the components described herein are not necessarily essential to the operation of the disclosed apparatus and control system unless otherwise indicated. Much of the apparatus disclosed herein has certain conventional components and support structures the details of which, though not fully illustrated or described, will be apparent to those having skill in the art and understanding of the functions of such mechanisms. A control system incorporating the present invention is utilized for controlling operation of apparatus such as the marking machine disclosed in the above cited U.S. patents Nos. 3,924,720, 3,945,479 and 4,071,131, the disclosures of which are incorporated herein by reference. Briefly, such a marking machine is shown in Figures 1 and 2 of the drawing and will be described briefly hereinbelow, although a detailed understanding of the marking machine can be obtained by reference to the above cited patents In general, the marking machine 30 includes a frame 32 in which an indexing table 34 is slidably mounted for reciprocal movement to the left out of the page of Fig. 1 . A marking ram 36 is provided above the indexing table 34 carries a marking member shown as a marking dial or wheel 40. The actual marking or imprinting of a workpiece which is supported on the table 34 takes place when the marking ram 36 is displaced downwardly, this causes the marking dial 40 to make contact with the surface of the workpiece disposed on the table 34. The marking ram 36 is actuated by a cam 42 driven by an electric motor 44 through an appropriate drive train 46, as described in the above referenced patents. The rotatable marking dial or wheel 40 is carried by the marking ram 36 and is supported therein on a shaft 48 having a flexible portion 48a interconnecting the marking wheel 40 with a stepping motor 50, and a rigid portion 48b connecting stepping motor 50 to a reference disk 52. The disk 52 has an aperture therein which is sensed by an optical sensor 54 located at the reference position. When the reference aperture in the disk 52 is sensed by the sensor 54, the disk 52, and therefore the wheel 40, are at the reference position. A workpiece, e.g., a nameplate, to be marked is positioned on the indexing table 34 and is suitably clamped or otherwise positioned thereon so that the nameplate advances when the indexing table is incremented as described below. The mechanism for moving the indexing table 34 comprises a table stepping motor 55 having a shaft 56 connected to a pinion 58 which engages a rack 60 formed as a part of a support or carriage 62 for the indexing table 34. The carriage 62 supports the indexing table 34 and is slidably mounted on a pair of carriage shafts 64 which in turn are mounted on and traverse the forward end of the marking machine as shown inFigures 1 and 2. Carriage stops 66 may be provided at the opposite ends of the carriage shafts 64 and limit switches 68, 70 can be located at those respective locations to indicate that the carriage 62, and therefore the table, has reached the extreme positions of permissible travel or movement. Furthermore, if desired, the marking machine may be provided with other components such as a manually operable push down lever, a pointer for indicating the depth of the ram stroke to assist in calibration, a workpiece locater gauge, as well as other components all as described in the above referenced patents. The reference position for the table 34 occurs when the carriage actuates limit switch 68, while the reference position of the wheel 40 is defined as the position where the aperture in disk 52 is being sensed by optical sensor 54. When first turned on, the electronic circuitry performs a self check test to insure that it is in operating condition, and a ready message is displayed on an optical display 72 see Fig. 11 associated with a keyboard see the above cited patents used as a manual input device to select the characters to be marked or printed as well as control functions implementing the various operational modes possible with the marking machine controlled by the control system of the present invention. The control system of the present invention is shown in Figures 3 11 and incorporates a microprocessor system. The system is based on a Motorola 6802 microprocessor unit MPU 74, and includes buffers 76, a plurality of program read only memories PROM or ROM 78, random access memory RAM 80, address decoding circuit 82 port selection circuit 84, a clock circuit 86 and a power up initializing circuit 88. The output 90 of the address decoder 82 and the outputs 92 of the port selection decoder 84 are connected to three input output circuits which in theMotorola 6802 based system disclosed are peripheral interface adaptors PIA s 9, 96, 98 shown inFigures 4 and 5. These circuits are used to interface external components to the microprocessor system. PIA 94 is for the keyboard. PIA 96 is for an external source of data such as a communication link, through, as shown, a serial to parallel converter 100. The third PIA 98 is used to control two stepping motors 50, 55 as well as a solenoid 102 in a marking or print drive circuit Fig. 6 . The solenoid is energized to operate the ram 36 as described in the above cited patents. PIA 98 also senses inputs signals from the table limit switches 68, 70, from the marking wheel reference sensor 54 and from manually settable switches 104 which select the desired number of steps per movement, i.e., spacing, of table movement. As shown in Figure 34, coded keyboard outputs 106 are connected to the keyboard PIA 94 through a buffer 76. The keyboard PIA 94 produces an interrupt signal 108 when actuation of a key on the keyboard is sensed and produces data signals on the data lines 110 connected to the processor. The communications PIA 96 is connected to the serial to parallel converter 100 which in turn receives serial pulses over a communications line 112 representative of data similar to the data received from the keyboard. Converter 100 converts serial data to parallel data for input to the PIA 96 which produces an interrupt 108 and data signals 110 connected to the microprocessor in the same way as from the keyboard PIA 94. Data output from the microprocessor can be connected through PIA 96 and through the serial parallel converter 100 to the communications line 112 if desired. The circuit of Figure 5 shows the motor and print control PIA 98 which receives data signals 110, address signals 114 and port selection signals 92 to produce at its output control pulses to energize either the wheel stepping motor 50, the table stepping motor 55, or the solenoid 102. The wheel motor 50 is energized with a sequence of pulses to rotate the printing wheel 40 until a selected character is located in the marking position. The print wheel control outputs 116 of PIA 98 are applied to a motor decode circuit 118 which in turn applies coded signals 120 to a motor control circuit 122. This circuit produces motor control pulses P1 through P4 in a preselected sequence to motor drive circuits 124, one of which is shown inFigure 7, in order to energize the wheel stepping motor 50 and cause it to rotate either clockwise or counter clockwise. Similarly, table wheel control outputs 126 of PIA 98 are applied to table motor decoder circuit 128 which produces outputs 130 applied to another control circuit identical to 122. The second control circuit produces motor control pulses P5 through P6 applied to motor drive ciruits such as 124 to increment table stepping motor 55 and cause it to rotate in either of the two directions and move the table either forward or backward. Depending upon the sequence of motor control pulses P1 P4, the wheel motor 50 will be turned either in a clockwise or in a counterclockwise direction. Similarly, the sequence of motor pulseP5 P8 will cause the identical type of motor drive circuits to rotate the table motor 55 in a clockwise or counter clockwise direction. In addition, PIA 98 also produces an output signal 132 to energize a solenoid drive circuit 134 Fig. 6 when it is desired to energize the solenoid 102 to displace the marking wheel 40 and effect marking or imprinting of the workpiece. The motor control PIA 98 is also responsive to certain input data from the table limit switches 68, 70, from the wheel reference sensor 54 and from the manually set switches 104 which select the distance the table 34 is to be incremented, i.e., the number of steps per each increment and therefore the spacing between characters printed on the label. The control system of the present invention is provided with a display 72 Fig. 11 so that the operator can observe that the correct characters have been selected, i.e., that the proper key in the keyboard has been activated and also displays the line of characters to be printed when entire lines are printed automatically in the automatic print mode. The display control circuitry is shown inFigures 8 10 in which address data 114 and character data 110 are stored in a display memory 134. The outputs 136 of dislay memory 134 are applied to a character generator 138. The outputs of the character generator 138 are a plurality of row drive signals 140 which in conjunction with the outputs 141, 142 of the column select generator 148 Fig. 9 and the outputs 145 of digit select generator 146 Fig. 9 produces the necessary information to selectively energize each of a plurality of matrices of light emitting diodes, the display 72, for displaying each alpha numeric symbol, as shown inFigure 11. Thus, the row data signals 140 and the column signals 141 and the digit address signals 145 are applied to decoders 148 which select the digit to be energized and the series of columns to be energized sequentially. As a result, each of the columns of each digit is energized sequentially in a multiplexed fashion to display the character selected by operation of the keyboard or other message in accordance with the data produced by the microprocessor. In operation, when the system is energized, the power up circuit 88 produces an initializing signal which causes the system to initialize and self check the RAMs and the PIAs Fig. 12 . In summary, the display is cleared, and the RAMs and thePIAs are tested. If faults are detected, a fault message is displayed. If there are no faults, the marking wheel is returned to its reference position and the table is returned to its start position. Finally, a number of other initializing functions are performed, such as, setting up the various PIA ports as inputs or outputs, storing the various initial addresses for data, and setting the trailing margin at its maximum value. The message READY is then displayed to inform the operator that the system is in condition to accept input data, and all interrupt flags are cleared. When a key on the keyboard is actuated, the coded signal 106 is produced and sensed by PIA 94, which produces an interrupt 108. When an interrupt is produced, an interrupt routine is initiated.Figure 13 is a keyboard interrupt flowchart for the disclosed embodiment. As shown, the system checks to determine if the multiple entry mode has been selected. If not, characters are being printed as entered. Therefore, the position of the table is checked to determine whether it is at the trailing margin position, i.e., at the end of a line. It it is, the keyboard character is not immediately accepted. When the table is not at the end of a line, and when the system is in the multiple entry mode no printing , the keyborad data is processed. If that data is a control code, the control function is identified and implemented unless the system is in a print mode, in which case the printing or marking operation is first completed. If the data is not a control code, the system determines if it is a print line control. If so it initiates that function. If not, it checks to determine if it is a possible character. If not a possible character, the data is ignored, and the system returns to perform the functions it was doing before receiving the interrupt. If the keyboard data is a possible character, the system checks to see if the data represents a character or symbol on the marking wheel being used Fig. 14 . Before checking the character, it is necessary to determine if the system is in the print cycle, if the availabe memory is full, and if the line is full. If any of those conditions exist, nothing further is done. Otherwise, the system compares the input data with a table of symbols representing those on the wheel being used. If a symbol corresponding to the input data is not located, the data is ignored.If a symbol corresponding to the input data is identified, it is stored and displayed. Once again a determination is made if the memory and the line are full, and if so, a corresponding flag is set for use during later cycles of the system. When the data is accepted, a print flag is set unless the system is in the multiple entry mode. As shown in Figure 15, when the interrupt routine is completed, when there is no keyboard data, the system is in its print check operation. In this condition, the increment switches 104 are sensed and the number of steps per table increment are determined. If a character is to be printed, it is identifed, and its position on the marking wheel is determined. If it is on the wheel, its position is compared to the present wheel position to determine whether the whell must me moved to another position. If the wheel is to be moved, the shortest direction of rotation is identifed, and the wheel is rotated until it is in proper position. This determination is made internally of the system which continuously stores data representing the present position of the wheel, and compares that data with the desired position of the wheel. The only time the sensing aperture on disk 52 is used is when the wheel is returned to its reference position, e.g., at the end of each line. The use of the output from optical sensor 54 at this time is to minimize the possibility of accumulated error in the wheel position data, since it is reset every time the wheel is returned to its reference position. When the wheel is in proper position, the solenoid is energized, after an initial delay to insure the wheel has stopped. After marking, there is another delay to preclude the table from being incremented until after marking is completed. The table is then incremented, unless it is at the end of the line, in which case it is returned to its reference or start position. If another character is to be printed, that information is stored so the next time through the print check cycle printing will occur. As indicated above, when control data is identifed, the control function is implemented. The system of the present invention incorporates a number of such control functions, including multiple entry mode, clear trailing margin mode, set trailing margin mode, backspace table mode, print entire line enable mode, advance the table one increment mode, return the table to start position mode, clear the memory of all data mode, and print an entire line mode. When the multiple entry mode is selected, the system sets the multiple entry flag. This allows the entry of a whole line of characters, and even a number of lines, without printing or marking. When all the data is entered, the print entire line enable mode clears the multiple entry flag and sets the print flag. The print enitire line mode causes the system to print the characters previously entered, a line at a time. This function also clears the print flag when all symbols have been printed, returning the system to its normal mode in which it prints a single character at a time as the keyboard is operated. The other operational codes perform the operations as indicated. Thus there has been disclosed a marking machine control system which is flexible, fast and reliable. The system of the present invention eliminates mechanical components except for those necessary to implement the mechanical functions of the marking machine, thereby minimizing problems associated with such components. Furthermore, the multiple operating modes possible with the control system of the present invention provide desireable flexibility and in many cases significantly increase the operational speed of the marking machine. From the foregoing, it will be observed that numerous variations and modifications may be effected without departing from the true spirit and scope of the novel concept of the invention. It is to be understood that no limitation with respect to the specific apparatus illustrated herein is intended or should be inferred. It is, of course, intended to cover by the appended claims all such modifications as fall within the scope of the claims.