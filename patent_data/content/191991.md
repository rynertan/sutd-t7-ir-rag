# Control circuit including a memory providing step functions

## Claims
Signalgenerator enthaltend einen spannungsgesteuerten Oszillator 4 und einen Phasendetektor 6 , der auf einen Vergleich zwischen dem Ausgangssignal des spannungsgesteuerten Oszillators 4 und einem Referenzsignal REF anspricht, um ein eine m√∂gliche Phasendifferenz dazwischen darstellendes digitales Ausgangssignal zu erzeugen,

## Description
The present invention relates to control circuits and more particularly to control circuits which provide a plurality of digitally encoded electrical signal outputs. Reference is made to EP A 0471387 which is divided from this application. In many control applications digital signals are received from a part of an electrical or electronic circuit which have an effect on another part of that circuit to alter the ultimate output thereof. In some cases the received digital signals are of the kind known as feedback signals returned from a comparison device which compares the output of the circuit with a fixed reference. US A 4,367,456 discloses a conversion circuit for converting PAM signals to PCM signals and vice versa and employs digital pads in the digital portion of the conversation circuit. The circuit is controlled by storage register, in order to introduce variation in the signal levels. JP A 59153334 discloses a phase locked loop circuit. The circuit includes a phase comparator having first and second inputs and an output, a voltage controlled oscillator, having an input and output, and a control circuit having input means and output means, the first input of the phase comparator being coupled to a reference source, the second input of the phase comparator being coupled to the output of the voltage controlled oscillator, the output of the phase comparator being coupled to said input means of the control circuit, and the output means of the control circuit being coupled to the input of the voltage controlled oscillator. One well known kind of circuit which utilizes feedback signals is a phase lock loop in which an output signal generated by an oscillator is compared in phase and or frequency with an input signal. A digital signal from the comparison device is then used to control the frequency of the oscillator. For example a digital to analogue converter may be used to convert the signal from the comparison device to an analogue voltage which is used to control a voltage controlled oscillation. However, if a significant phase difference is present the time taken to adjust the output phase of the oscillator may be comparatively long. It would be advantageous to provide a rapid change to the control signal to effect a brief increase or decrease in the output oscillation to bring the output into phase alignment. When a digital to analogue converter is used to generate the controlling analogue system provision of such a change has required increasing the digital information rate which is not always easy to provide. It is an object of the present invention to provide a simple control circuit capable of providing a digital control signal output the digital value of which may be changed more rapidly than was practical in the earlier systems outlined above. According to the present invention there is provided a signal generator comprising a voltage controlled oscillator and a phase detector responsive to comparison between the output signal of the oscillator and a reference signal to produce a digital output signal representing any phase difference therebetween characterised in that the signal generator further includes Preferably one of said areas is programmed with each of said digital words identical with its address such that when said signal on said partial one of said address inputs is not present the memory device appears transparent to the applied digital input signals. Further areas of equal address length may also be provided with words stored in corresponding locations in each such area having a different predetermined difference from the words stored in the first said programmed area whereby a plurality of selectable predetermined step changes in the digital output of the control circuit may be achieved. A signal generator in accordance with the invention will now be described by way of example only with reference to the accompanying drawing of which Referring to Figure 1, a digital to analogue converter 1 operating in known manner is shown. In the digital to analogue converter 1 a digital signal present at the input Do Dn usually in binary form provides a voltage output signal on a single output lead 2. The voltage output signal varies in dependance upon the digital value of the signal at the input with say a binary signal of all zero 0 values at the input Do Dn being represented by say a zero voltage at the output 2 and a binary signal of all one 1 values at the input Do Dn being represented by, say, five volts at the output 1. Intermediate values of the input signal provide correspondingly scaled output voltages. To produce a step change in the output voltage it is necessary to provide a significant change in the digital value of the input signal applied to the input leads Do Dn. If, say, a one volt step is required at the output 2 the digital value applied at the input leads Do Dn must be changed rapidly to a new value and the value change required may vary in dependance upon the position of the value between the minima and maxima. Referring to Figure 2 the control circuit shown can simply and effectively provide step changes in the voltage at the output 2 by varying the digital input on the leads Do Dn. Thus address inputs Ao An of a programmable read only memory PROM 3 receive the same circuit signals as those applied to Do Dn of the digital to analogue converter 1. In addition to the address inputs Ao An, other address inputs A n 1 and A n 2 of the PROM 3 are used. The storage of the PROM 3 is programmed such that words addressed by signals on the inputs Ao An when the inputs A n 1 and A n 2 carry the binary representation O output their address value to output leads Bo Bn thereby providing that digital value to the inputs Do Dn of the digital to analogue converter 2. Thus the PROM 3 appears transparent to the signals and a circuit including the PROM 3 with the digital to analogue converter 1 will function in exactly the same manner as if only the digital to analogue converter 1 was present. However, should it be necessary to effect an adjustment of the value supplied to the digital to analogue converter such adjustment may be effected by programming the words addressed by Ao An with A n 1 and A n 2 to effect that adjustment. It will be appreciated that, in the case of the PROM 3 having two additional address leads A n 1 and A n 2 and assuming that binary addressing is being used, only one quarter of the available memory space has been occupied. Accordingly the words addressed when A n 1 is at binary value 1 and A n 2 is at binary value O , when A n 1 is at binary value O and A n 2 is at binary value 1 and when both A n 1 and A n 2 are at binary value 1 are available as three stores equal in size to the memory space already occupied. Thus each of these additional stores is programmed to reflect a step change in the value of the digital output on leads Bo Bn thereby effecting a step change in the output voltage at the output 2. Consider as an example a PROM having six address inputs Ao to A6 and three outputs Do D3 then the PROM may be programmed to provide a fixed difference in the digital output value in accordance with the following table In this case only five of the possible eight combinations of the operands A4 A6 have been used thus three further output variations nay be provided. However, if only five variants are required the stored words provided by the surplus addresses may be programmed to output Ao to A3 in the same manner as when A4, A5 and A6 are at zero. When the PROM 3 is programmed in the manner shown it will be appreciated that it may be used to provide fine and coarse adjustments of the output. Thus A5 being set to 1 indicates that an output step is required A4 indicates when O that a negative step is required and when set to 1 that a positive step is required and A6 indicates that the step is to be fine plus or minus one decimal or coarse plus or minus ten decimal for O and 1 respectively. In an alternative mode of operation percentage steps may be used in the same manner. Thus memory space of the PROM 3 addressed by 000A3A2A1Ao may be output as aforesaid whilst 010A2A1Ao may output AoA1A2A3 less five percent and 011A3A2A1Ao may output AoA1A2A3 plus five percent . A coarse adjustment of, say, fifteen percent may be provided when A6 is set to 1. It will be realised that other scaling adjustments nay also be used possibly with a variation of the adjustment across the address range or with adjustment being effected only for certain areas of the address range. Whilst as hereinbefore described adjustment is effected by use of the most significant bits of the address input Ao An A n 1 A n 2 it will be appreciated that any one or more of the address bits may be used to effect such adjustment since for example groups of words in the PROM 3 may all relate to one particular basic address value, the most significant bits of the address being used for basic addressing and the least significant bits being used for data adjustment. Referring now to Figure 3, one specific use of the control circuit of Figure 2 is in a phase lock loop. An oscillator 4 of the kind the frequency of which is dependant on a voltage applied at an input thereof supplies an output 5 with an oscillatory signal. Part of the output signal from the voltage controlled oscillator VCO 4 is fed back to a phase detector 6 which compares the phase of the output signal with the phase of a reference signal supplied to an input 7. The phase detector 6 produces a digital output signal which represents the phase difference between the output and reference signals. The digital output signal is passed to the address inputs Ao An of the PROM 3 which responds in the manner of the control circuit of Figure 2 to provide an appropriate digital signal to the digital to analogue converter 1 the output of which controls the VCO4. Should the phase detector 6 detect an excessive phase difference between the output and reference signals it is arranged to cause a signal to be applied briefly to the address input A n 1 which causes, as hereinbefore described, a step change in the voltage signal thereby causing an increase or decrease in the frequency of the output signal on the lead 5. The signal on the address input A n 1 is applied briefly so that the VCO4 produces a frequency kick after which the signal at the input A n 1 is removed returning the control voltage to its previous level. The frequency of the VCO4 therefore returns to its previous value with a different phase. The more usual phase correction procedure may now be used to maintain phase synchronism between the output and reference signals. Whilst as herein described the PROM 3 is used any other suitable memory device may be used for example other kinds of read only memory ROM such as EPROMs.