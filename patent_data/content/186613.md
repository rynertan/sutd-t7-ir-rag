# EMI suppression for electronic engine control frequency signal inputs

## Claims
Vorrichtung zur Verwendung in digitalen elektronischen Triebwerksreglern zum Auswählen der besten Signaldarstellung eines Gasturbinentriebwerksparameters unter den Abtastprobenwerten von zwei erfaßten Signalen, welche den tatsächlichen Parameterwert darstellen, und einem synthetisierten Signal, das den nominellen Parameterwert darstellt, mit

## Description
This invention relates to electronic engine controls EECs for gas turbine engines, and more particularly to circuitry for electromagnetic interference EMI suppression of EEC frequency signals. As known, EECs are used to electronically control operation of gas turbine engines based on selected control algorithms executed by the EEC. The EEC applies the control algorithms to sensed engine parameters received in the form of electrical signals to provide electrical control signals to electro mechanical interfaces, such as position controlled actuators, which position various engine valves, vanes, etc. to regulate engine performance. To ensure reliability the EEC includes dual redundant control circuitry, i.e. primary and secondary control channels. The sensed engine parameter signals are also redundant. Each parameter has duplicate sensed signal inputs to each of the channels of the EEC. These sensed parameter signals include analog amplitude and analog frequency signal formats, as well as digital. Digital electronic engine controls DEEC use digital signal processing to apply the control algorithms to the sensed parameter signals. For the analog sensed signal formats this requires analog to digital A D conversion, all of which is well known. Since A D conversion is sensitive to spurious noise associated with the analog signal, such as electromagnetic interference EMI , it is also known to provide the DEEC with input selection logic. This logic selects the best signal from among the two actual sensed parameter signals and an idealized, synthesized parameter signal which acts as referee. The most critical gas turbine engine parameters are rotor speed both N₁, N₂. Each are sensed as frequency signals typically the position of a ring gear mounted to the shaft is sensed by duplicate magnetic pick ups which provide redundant cyclic signals N EP A 0 005 426 discloses a gas turbine engine control in which a simulated parameter may be substituted for a failed parameter. US A 4 249 238 discloses a gas turbine engine control system which uses a continuously updated engine model which simulates engine performance and generates signals representing real time estimates of the engine parameter sensor signals. The estimate signals are used by the control in lieu of the actual sensed signals to control the operation of the engine. The estimate signals are also compared to the actual sensed signals and the difference signals are utilized to update the engine model. If a difference signal exceeds specific tolerance limits, it is inhibited from updating the model. The object of the present invention is to provide DEEC noise discrimination selection circuitry for EMI suppression of frequency type sensed signals. According to the invention this object is achieved by means of the apparatus described in the independent claim. Advantageous embodiments of the invention are described in the dependent claims. According to the present invention, periodic digital signal samples of each of the redundant sensed frequency signals are tested for limit exceedance of known performance values and rejected in the presence of an exceedance, the nonrejected digital signal samples are each compared with a synthesized RPM equivalent signal to further reject any sample which differs from the synthesized value by more than a selected difference value, one of the nonrejected samples are then used for the engine RPM indication, and in the event that both samples are rejected the synthesized value is used. In further accord with the present invention, the performance value limit screening of the digital signal samples includes comparing each sample to selected high and low limits on the sample s acceptable amplitude value and to high and low limits on the acceptable rate of change of the sample amplitude value, the samples are rejected for exceedance of either performance value. In still further accord with the present invention, each occurrence of a signal sample rejection for limit exceedance is recorded in register on a sample by sample basis and the parent sensed signal associated with the rejected sample is similarly rejected for use in response to the presence of a reoccurring sample rejection. The noise discrimination selection circuitry of the present invention may be used with all frequency formatted input sensed signals. The use of limit exceedance criteria rejects any sample values corrupted by transient noise spikes, thereby ensuring more uniform engine control. These and other objects, features, and advantages of the present invention will become more apparent in light of the following detailed description of a best mode embodiment thereof, as illustrated in the accompanying Drawing. Fig. 1 is a conceptual illustration of a digital electronic engine control DEEC 10, connected through sensor lines 12 and control lines 14 to a gas turbine engine 16. The engine shown is a twin spool turbofan engine with a low compressor 18 driven through shaft 20 by a low turbine 22, and a high compressor 24 driven through shaft 26 by a high turbine 28. However, it should be understood that the present invention may be used with any configuration gas turbine engine. The sensed engine parameters 30 include redundant frequency signals representative of the low turbine speed N In the conceptual illustration of Fig. 1, each DEEC channel is shown to have two major functional parts a selection logic function 40, 42, and a control laws function 44, 46. The present invention is for use in the DEEC selection logic function to provide the best available sensed parameter signal to the control laws function. The control law algorithms are then applied to the selected signals to provide the engine control signal outputs 48. The control signals are provided through lines 14 from one of the two channels as determined by arbitration logic 50, all of which is known. Fig. 2 is an illustration of the present invention noise suppression and selection circuitry 52 for use in each of the channels of the DEEC 10 of Fig. 1. It includes noise discrimination circuitry 54 and signal selection circuitry 56. The illustrated redundant sensed frequency signal inputs N The FDC counts the analog signal cross overs to provide the digital speed equivalent. Any transient noise spikes carried by the frequency signals and resulting in spurious signal cross overs will similarly be counted, resultng in an error count value. To screen out these error count samples, both sensed signal digital speed samples are compared to acceptable high and low limits of engine speed. If a sample exceeds these limits it is temporarily rejected. In Fig. 2 the range detection circuits 66, 68 compare the sample speed count to high and low speed count limits 70, 72. The range detection circuits, which may be discrete component comparators or alternatively may be executed in software in each DEEC channel signal processor, set a discrete range fail signal on associated lines 74, 76 in response to a sample speed count value exceeding the speed count limits. Following range detection the redundant samples are compared to acceptable limits on rate of change of engine speed, i.e. acceleration. This is provided by rate detection circuitry 78, 80 which determine the difference value between succeeding sample time interval count values to determine the rate of change, and compares the calculated rate to the high and low rate of change limits 82, 84 indicative of acceptable min max limits on engine acceleration. Any sample value exceedance of rate causes the rate detectors to set discrete rate fail signals on lines 86, 88, in which event the particular input signal is temporarily rejected from use. The redundant samples are filtered through low pass digital filters 90, 92, and the filtered samples are provided on lines 94, 96 from the noise discrimination function circuitry to the selection logic circuitry 56. The filter time constant is selectable based on the range of permissible engine speeds. The filters and rate detectors may also be discrete components or functionally embodied in software in the DEEC channel signal processor. Similarly, the range fail signals on lines 74, 76 and rate fail signals on lines 86, 88 are also presented to the selection logic circuitry. The selection logic circuitry is shown in diagrammatic form with the signal processing steps shown by discrete gate circuitry, in combination with other discrete components. The diagrammatic format facilitates teaching of the selection logic algorithm, and is indicative of a best mode hardware embodiment. Fig. 3 is a flowchart diagram of the source code listing for the selection logic circuitry, as may be used in an alternative softwre embodiment where the selection logic algorithm may be executed in software by the DEEC channel signal processors. In Fig. 2, the discrete fail signals on lines 74, 86 and on lines 76, 88 are received by associated OR O gates 100, 102 which couple both discretes through lines 104, 106 to the inputs of OR O gates 108, 110. The redundant digital samples N The comparators 112, 114 receive at a second input Y a synthesized speed signal N Each of the comparators provide a discrete high level logic state signal on output lines 126, 128 in response to the magnitude of the actual sensed digital speed sample being greater than the synthesized speed sample value by more than the tolerance signal magnitude. In other words, whenever the difference value between the actual sensed speed sample value and the synthesized value is greater than the tolerance value, the comparator provides a logic one output. Each comparator output is presented to a second input of each of the related OR gates 108, 110. A logic high True fail signal on lines 104, 106 or a logic high comparative signal on lines 126, 128 are OR ed through OR gates 108, 110 to the input of associated latch circuitry 130, 132. The latches keep an up down count of the occurrences of sample signal failures. Such latched sample failure results in a logic high one gate signal provided on the latch output lines 134, 136. The up down count is weighted. Typically each failure results in an up count of three and each good sample value is credited with a down count of one. It takes three consecutive good non failed sample values to cancel each bad failed sample. Therefore, the presence of a positive count generally indicates the presence of bad sample values. The bad samples need not be consistent, merely more frequent than one in three. The clock 138 provides a signal M indicative of the maximum lapsed time interval in which either latch may have a consistently positive count value. In the event of a time out in which either latch count is consistently positive for the maximum lapsed time, the latches 130, 132 provide a logic high one discrete on associatd lines 140 N The momentary latch signal on line 134 from latch 130 determines which of the two speed sample values N In the event of both good samples, the lines 134, 136 are low zero , selecting N The selection logic circuitry 56 of Fig. 2 may be embodied in discrete component hardware. As an alternative the selection logic function may be performed in software by the signal processors in each channel of the DEEC. Fig. 3 is a flowchart of the source code listing for performing the selection logic function in software, by the DEEC signal processors. As shown, the selection routine begins with instructions 150 which request the sampling of the two actual sample values N If the answer to decision 154 is YES an out of tolerance condition for N Following instructions 166, or a YES to decision 152, a NO to decision 164, and a NO to decision 158, decision 168 begins the same routine for the N In response to a YES from decision 172, instructions 180 increment the C