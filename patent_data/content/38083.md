# Electronic control for automatic transmission.

## Abstract
Transmission shift pattern data representing differ ent engine braking characteristics are stored in a me mory 111 . The data is read out of the memory as a function of engine and vehicle operating conditions into a conversion circuit 113 where the data are converted into actuating signals supplied to one or more solenoids 2a to 2d . Shift valves of a hydraulic actuating unit are controlled by the solenoids to shift the transmission pattern to a speed change mode which provides engine braking of an appropriate characteristic for varying en gine and vehicle operating conditions.

## Claims
WHAT IS CLAIMED IS 1. An automatic transmission system for a vehicle having an engine with a throttle valve and an automatic transmission unit with an input shaft, an output shaft and a speed changing gear unit interconnected therebetween having brake and clutch means for establishing a plurality of speed gear ratios, comprising means for detecting an operating condition of said engine and said vehicle a memory in which is stored data representing a plurality of speed change modes for effecting engine braking of different operating characteristics a mode selecting circuit responsive to said detected operating condition to select the stored data representing one of said speed change modes and a hydraulic actuating unit comprising a plurality of shift valves and corresponding solenoids for activating said shift valves in response to the data selected by said mode selecting circuit to control said brake and clutch means to select one of said gear ratios corresponding to the selected speed change mode. 2. An automatic transmission system as claimed in calim 1, wherein said memory includes data representing a first engine brake mode for effecting engine braking with low to medium speed gear at a high vehicle speed and a second engine brake mode for effecting engine braking with low to medium speed gear with the throttle valve being closed at a medium to high vehicle speed. 3. An automatic transmission system as claimed in claim 1, wherein said means for detecting an operating condition of said vehicle and said engine comprises a vehicle speed sensor and a throttle opening sensor, and wherein said stored data representing each of said speed change modes is sotred in said memory in a matrix of rows and columns corresponding to a coordinate system in which outputs of said throttle opening sensor are plotted as a function of outputs of said vehicle speed sensor. 4. An automatic transmission system as claimed in claim 3, further comprising circuit means converting the data read out of said memory into signals for application to said solenoids in accordance with said detected throttle opening and said vehicle speed. 5. An automatic transmission system as claimed in claim 4, wherein said means for detecting an operating condition of said vehicle and said engine further comprises means for detecting the rate at which said throttle valve is opened to generate a first upshift command signal when the detected rate is higher than a predetermined value means for detecting when said vehicle is moving uphill at a grade higher than a predetermined value or when said vehicle is moving downhill to generate a second upshift command signal and means for detecting when the detected throttle opening is maintained for a predetermined period to generate a downshift command signal, said mode selecting circuit being responsive to said first and second upshift command signals and to said downshift command signal to selectively read the data representing one of said first and second engine brake modes out of said memory into said conversion circuit means. 6. An automatic transmission system as claimed in claim 5, wherein said operating condition detecting means further comprises means for detecting the position of a gear shift lever for applying a first signal to said mode selecting circuit indicating that the gear shift lever is in a drive range and applying a second signal indicative of a said detected gear position to said conversion circuit means. 7. An automatic transmission system as claimed in claim 6, wherein said conversion circuit means is responsive to said detected vehicle speed and said detected throttle opening. 8. An automatic transmission system as claimed in claim 1 or 2 wherein said memory further including data representing a plurality of gear engaging modes corresponding to said speed change modes for reducing the amount of shock which occurs during speed changes, and wherein said mode selecting circuit is arranged to select one of said gear engaging mode data in correspondence to the selected speed change mode data. 9. An automatic transmission system as claimed in claim 8, wherein said means for detecting an operating condition of said vehicle and said engine comprises a vehicle speed sensor and a throttle opening sensor, and wherein said stored data representing said gear engaging modes is stored in said memory in a matrix of rows and columns corresponding to a coordinate system in which outputs of said throttle opening sensor are plotted as a function of outputs of said vehicle speed sensor. 10. An automatic transmission system as claimed in claim 1 or 2, wherein said vehicle further includes an automatic drive system, and wherein said memory further includes data representing â speed change mode associated with said automatic drive system, further comprising means for detecting when said automatic drive system is operating and a preferential circuit for reading the last mentioned data out of said memory in preference over input signals supplied to said mode selecting circuit. 11. An automatic transmission system as claimed in claim 1 or 2, wherein said memory further includes data representing the locking of said output shaft, and wherein said operating condition detecting means includes means for detecting when said vehicle is in the process of deceleration to a standstill for supplying said mode selecting circuit with a signal for reading the last mentioned data out of said memory to cause said clutch and brake means to lock said vehicle axle. 12. An automatic transmission system as claimed in claim 11, further comprising a brake assembly comprising a shaft having a manual control knob secured to an upper end of said shaft rotatably and longitudinally movaly disposed in a guide member, said shaft having a first wire leading from the other end thereof to a parking lock mechanism of said vehicle to cause it to operate exclusively in response to an upward movement of said shaft and a second wire leading to a side brake system of the vehicle to cause it to operate exclusively in response to a rotational movement of the shaft and spring biasing means for urging said shaft to a predetermined angular position and to a predetermined longitudinal position. 13. An automatic transmission as claimed in claim 1 or 2, wherein said solenoids are arranged so that when all of said solenoids are de energized said shift valves cause said clutch means to be shifted to a predetermined speed range, further comprising a fail saft logic circuit connected to input circuits of said solenoids for detecting a predetermined combination of the operating states of the solenoids for disconnecting the supply of power to said solenoids, whereby in the event of a failure in the input circuits of said solenoids said speed gear ratio is automatically shifted to said predetermined speed range. 14. An automatic transmission system as claimed in claim 13, wherein said logic circuit includes a coincidence gate connected to the input circuits of said solenoids to detect said predetermined combination of their operating states, timing circuit means for detecting when the output of said coincidence gate is present for a predetermined period of time, and a bistable circuit responsive to the output of said timing circuit means for generating an inhibit signal and responsive to an externally applied signal to generate a noninhibit signal, and switching means for supplying a current from a power source to said solenoids in response to said noninhibit signal and shutting off the current supply in response to said inhibit signal. 15. An automatic transmission system as claimed in claim 14, wherein said input circuits of said solenoids include a computer which controls the supply of currents to said solenoids from said power source in response to the selected data, so that in the event of a failure in said computer, said solenoids are all de energized to shift the speed gear ratio to said predetermined speed range. 16 An electronic control cirucit for automatic transmission comprising a memory in which is stored a set of data representing a plurality of transmission shift patterns in a matrix of rows and columns, each of said patterns describing a relationship between the opening of a throttle valve of an engine and the speed of a vehicle, each of said shift patterns corresponding to a different operating characteristic of engine braking a throttle opening sensor a vehicle speed sensor means for detecting an operating condition of the vehicle in response to said sensors means for selectively reading the stored data representing one of the transmission shift patterns in response to said detected operating vehicle. condition a plurality of solenoids a hydraulic actuating circuit having a plurality of shift valves in communication with said transmission through hydraulic circuits and respectively movable in response to the operation of said solenoids for controlling said transmission to a shift pattern represented by the data read out of said memory and means for generating solenoid activating signals from said read out data as a function of the outputs of said. sensors for application to said solenoids. 17. An electronic control circuit as claimed in claim 16, wherein said memory includes data representing a first engine brake mode for effecting engine braking with low to medium speed gear at a high vehicle speed and a second engine brake mode for effecting engine braking with low to medium speed gear with the throttle valve being closed at a medium to high vehicle speed. 18. An electronic control circuit as claimed in claim 16 or.17, further comprising an acceleration rate sensor for generating a signal indicative of the rate of acceleration of said vehicle a grade sensor for generating a signal indicative of the grade of a terrain on which said vehicle is moving a load sensor for generating a signal indicative of the amount of load on said vehicle means receptive of said acceleration rate signal, grade signal and said load signal for generating an upshift command signal a coasting drive sensor for generating a downshift command signal when said vehicle is running at a constant speed for a predetermined period and said reading means is responsive to said upshift and downshift command signals to read out the stored data. 19. An electronic control circuit as claimed in claim 16, further comprising means for detecting the position of a shift lever of said vehicle, wherein said means for generating solenoid activating signals is responsive to said shift lever position detecting means. 20. An electronic control circuit as claimed in claim 16, wherein said memory further includes data representing a plurality of transmission shift patterns each describing a relationship between the opening of the throttle valve and the vehicle speed for a different gear engaging characteristic, and wherein said reading means includes means for selectively reading the stored data representing one of said transmission shift patterns of gear engaging characteristics out of said memoryin response to said detected vehicle operating condition. 21. An electronic control circuit as claimed in calim 16 or 20, further comprising an automatic drive sensor, wherein said memory further includes data representing a plurality of transmission shift patterns each describing a relationship between the throttle opening and the vehicle speed for a different automatic drive characteristic, and wherein said reading means includes means for selectively reading the stored data representing one of said transmission shift patterns of automatic drive characteristic out of said memory in response to said detected vehicle operating condition. 22. An electronic control circuit as claimed in claim 19, further comprising a brake pedal sensor for generating a signal when the brake pedal of the vehicle is depressed, and wherein said means for generating solenoid activating signals further comprises means responsive to said brake pedal signal, said shift lever position signal, and the outputs of said throttle opening and vehicle speed sensors to activate said solenoids such that an output shaft of said transmission is locked.

## Description
BACKGROUND OF THE INVENT ION The present invention relates to automatic transmission systems for automotive vehicles, and more particularly to an automatic transmission which is capable of providing engine braking of an appropriate operating characteristic according to an operating condition of the vehicle. In conventional automatic transmission systems for automobiles, the speed of the vehicle and the throttle opening of the vehicle engine are detected to select one of predetermined speed change modes, the selected speed mode being used to operate the clutch and break means of the change gear unit. When engine braking is needed, the shift lever is manually operated to a low or medium speed gear. An,automatic system has been proposed to substitute for a portion of this manual operation. This involves the use of a brake sensor for detecting a rapid operation of the brake pedal and a downhill sensor for detecting a downhill drive to shift the clutches and brake means to engine braking mode.However, this proposed prior art system is not capable of providing an appropriate characteristic of engine braking for varying vehicle operating conditions since there is only one engine brake mode which is merely brought into operation on an On Off control basis. SUMMARY OF THE INVENTION It is therefore an object of the present invention to provide an automatic transmission system which effects engine braking of different operating characteristics depending on the operating condition of the automotive vehicle. According to the present invention, the automatic transmission system comprises a memory in which is stored data representing a plurality of speed change modes associated with different operating characteristics of engine braking. The stored data is read out of the memory in response to a sensed vehicle and engine operating condition and converted into solenoid actuating signals. A hydraulic actuating unit includes a plurality of shift valves which are operated by the solenoids respectively to supply oil under pressure to the clutch and brake means of the change gear unit of the transmission. Preferably, the detected operating condition of the vehicle and engine includes information on the throttle opening and the speed of the vehicle. The data is stored in a matrix of rows and columns corresponding to a coodinate system in which the throttle opening is plotted as a function of the vehicle speed. The stored data is read out of the memory in response to the throttle opening and vehicle speed into a data conversion circuit, or gear ratio decision circuit, which converts the input data into signals for application to the solenoids in accordance with the detected values of throttle opening and vehicle speed. The data stored in the memory further includes data which represent a plurality of gear engaging modes which operate the clutch and brake menas in such a manner as to reduce the amount of shock which might occur during speed change. The gear engaging mode data are associated with different speed change modes and selected in response to the detected engine. and vehicle operating condition. BRIEF DESCRIPTION OF THE DRAWINGS The features and advantages of the present invention will be apparent from the following detailed description with reference to the accompanying drawings, in which Fig. 1 is a schematic illustration of the speed change mechanism of the automatic transmission of the invention Fig. 2 is an illustration of a hydraulic actuating unit with a plurality of solenoids with which the shift valves of the hydraulic unit are associated Fig. 3, 4a and 4b are partial views of one of the shift valves of Fig. 2 Fig. 5 is a schematic illustration of the hydraulic circuit of the hydraulic actuating unit ofFig. 2 Fig. 6 is an illustration of the main part of the control circuit of Fig. 2 Figs. 7a to 7c are illustrations of shift patterns associated with the circuit of Fig. 6 Fig. 8 is a schematic illustration of a shock reduction control circuit which forms part of the circuit of Fig. 2 Figs. 9a and 9b are illustrations of shift patterns associated with the circuit of Fig. 8 Fig. 10 is a schematic illustration of automatic drive control circuit forming part of the Fig. 2 circuit Figs. lla to lld are illustrations of transmission shift patterns associated with the circuit of Fig 10 Fig. 12 is a schematic illustration of an axle lock mechanism Fig. 13 is an illustration of a parking lock mechanism which forms part of the mechanism of Fig. 12. Fig. 14 is an illustration of the lock shaft of Fig. 13 Fig. 15 is an illustration of a hand brake mechanism forming part of the mechanism of Fig. 12 Fig. 16 is a cross sectional view taken along the lines 16 16 of Fig. 15 Fig. 17 is a schematic illustration of the grooves formed on the inner wall of the guide shaft of Fig. 15 Fig. 18 is a cross sectional view taken along the lines 18 18 of Fig. 15 Fig. 19 is an illustration of an axle lock control circuit forming part of the Fig. 1 control system Fig. 20 is an illustration of a fail safe control circuit and Fig. 21 is an illustration of a modification of the circuit of Fig. 20. DETAILED DESCRIPTION In Fig. 1 of the drawings, the gear shift mechanism of a four speed automatic transmission of the invention is illustrated as comprising three planetary gear systems Al, A2 and A3 and three engaging clutches CO. C1 and C2 the inner and outer pistons being designated ip and op respectively which control the operating mode of the one way clutches FO and F1, and three engaging brakesBO, B1 and B3 ip and op , all of which are supplied with working fluid or oil under the control of a fluid control or mode switching mechanism.The fluid control mechanism includes control valves which regulÅate oil pressure for switching drive gear ratios and also. control the switching between different engaging modes to decrease the amount of shock which occurs at the time of change in gear ratio by synchronizing the engine revolution with the crankshaft revolution, or function to select an appropriate engaging mode to decrease the amount of the shock by operating one of the inner and outer piston engaging clutches or brakes . The mode switching mechanism will be explained with reference to Figs. 2, 3, 4 and 5. Fig. 2 is a schematic illustration of this mode switching mechanismA control computer 1 detects vehicle s operating conditions and activates num 1 to num 4 solenoids designated respecrively 2a, 2b, 2c 2d in accordance with the detected operating condition. Numeral 3 represents a hydraulic actuating unit having a set of shift valves 31, 32, 33 and 34 which respectively control the opening of passages for oil under regulated pressure in response to the operation of the associated solenoids. A lubricating oil pressure regulator 4 of the conventional design regulates the pressure of lubricating oil according to the drive range and other gear shift range P, R, N, D . Also shown in Fig. 2 are an oil pump 5, an oil reservoir or strainer 6 which serves to filter out foreign objects contained in the oil, a torgue converter 7 and an oil cooler 8 all of which are of the conventional design. The gear change mechanism of Fig. 1 is shown inFig. 2 schematically at 9. The line pressure regulator 3 is connected to the oil pump 5 via pressure line 5a through 5a , and the lubricating oil pressure regulator 4 is connected to the pump 5 via line 5a through 5a . The lubricating oil presesure regulator 4 includes a presdsure relay valve 41 which is in communication through a pressure relay passage 50a to the line presesure regulator 3 to receive presesure regulated oil therefrom and receives a line pressure input through a presesure relay outlet passage 40b by the action of a spring 43 seated between a sealing plug 46 and the valve 41. Further included is a pressure regulator valve 42 which receives the pressure relay outlet through the passage 40b and oil under pressure regulated in accordance with the speed selected by the hydraulic actuating unit 3 via an inlet passage 50b to regulate the pressure of lubricating oil in passage 5b by the action of a spring 44 seated between a holding plug 45 and the valve 42.Each of the engaging clutches indicated at 90 is in communication with an outlet passage 50c, the details of which are illustrated in Figs. 3 to 5 and Tables 1 and 2. Fig. 5 is a schematic illustration of the hydraulic actuating circuit of the unit 3 in relation to the associated clutches in which solid lines indicate the passages which are directly controlled by shift valves 31 34 one of which is shown in detail in Fig. 3 as being accommodated in a cylinder 35 and circles indicate an oil passage 35a and an oil communicating bore 36a in oil sheet.36 see Fig. 3 .and broken lines indicate.passages coininunicating with passage 37a in a housing 37 which leads to the bore 36a.Figs. 4a and 4b illustrate the switching mechanism of theoil passage within the cylinder 35 which is shown as including a slide bore or passage through which the shift valve is slidably accommodated and a pair of passages 35a and 35a extending in directions opposite from the passage 35b. The passages 35a and 35a are in communication with each other when a shaft portion 30b of the shift valve is positioned between them, and the communication is shut off by a land portion 30a of the shift valve. The cylinder 35 further includes a one way passage 35e which is brought into communication with a passage 35d to the outside when a shaft portion 35b of the shift valve is positioned between them.Under the pressure of oil supplied through line 5a to the rightmost land 30c of each shift valve, the latter is moved to the left compressing a spring 38 as indicated in the third shift valve 33. When the oil pressure is not applied, the lands 30c of the shift valves are located in the rightmost position of the passage 35b as indicated by the. first, seconland fourth shiftvalves 31, 32, 34 by the action of spring 38. The leftward movement of the shift valves is limited by a shaft 30d whose length is determined so that it comes into contact with a stopper panel 39 when the land 30a is moved by an amount corresponding to one passage in response to the pressure at line 5a . Each of the solenoids 2a to 2d has. a plunger 21 which is normally in a retracted position in the absence of an actuating signal from the computer 1. In response to a signal from the computer 1, the plunger 21 is moved to an extended position in which it closes a drain passage 35e to allow oil under pressure at line 5a to apply pressure to the shift valve through an orifice 35f. The size of the orifice 35f is selected to proportion the amount of drained oil at a negligibly small value compared with the amount of oil supply, so that when the drain passage 35e is open the pressure in chamber 35g may not increase, while at the same time the line pressure at 5a may not decrease excessively. In Fig. 5, numeral 47 represents a pressure regulating valve which provides oil under constant pressurue to the clutch B3op to adjust the engaging power of the clutch. The pressure relay output 50a and pressure regulator output 50b are respectively represented by characters Pr and Pc shown in circles. By operating one or more of solenoids 2a to 2d under the control of the computer 1, the shift valves 31 to 34 are activated to provide 16 different combinations or modes among which 14 modes are used for 9 speed change operations, 4 engaging modes and än axle lock mode as illustrated in Table 1. The clutches and regulating valves shown in circles respond to a selected mode.Table 2 illustrates the ON OFF states of the solenoids 2a to 2d and their relationship to the No. 1 to No. 14 modes More specifically, the No. 3 mode is effected when solenoids 2a are turned off. In this mode the shift valves 31 to 34 are positioned as illustrated in Fig. 5 and oil pressure at 5a is supplied to the engaging clutchesCO, C1, C2ip and to the lubricating oil valves pressure regulator valve Pc and pressure relay valves Pr to effect shifting to 3rd speed. TABLE 1 EMI11.1 SEP OPERATIN SEP MODES tb SEP 1 SEP 2 SEP 3 SEP 4 SEP 5 SEP 6 SEP 7 SEP 8 SEP 9 SEP 10 SEP 11 SEP 12 SEP 13 SEP 14 tb SEP NORMAL SEP ENG SEP RANGE SEP ENGAGEMENT tb SEP BRK SEP AXLE tb SEP LOCK tb SEP 1st SEP 2nd SEP 3rd SEP 4th SEP 1st SEP 2nd SEP P SEP R SEP N SEP P R SEP SHUP SEP SHDW SEP KCDW tb SEP N R tb SEP C0 SEP X SEP X SEP X SEP X SEP X SEP X SEP X SEP X SEP X SEP X tb SEP C1 SEP X SEP X SEP X SEP X SEP X SEP X SEP X SEP X SEP X tb SEP C2ip SEP X SEP X SEP X SEP X SEP X tb CLOTCHES SEP C20p SEP X tb SEP B0 SEP X tb SEP B1 SEP X SEP X SEP X SEP X tb SEP B3ip SEP X tb SEP B3op SEP X SEP X SEP X SEP X SEP X tb LUBRI SEP Pc SEP X SEP X SEP X SEP X SEP X SEP X tb CATION SEP Pr SEP X SEP X SEP X SEP X SEP X SEP X SEP X SEP X SEP X tb TABLE 2 EMI12.1 In the No. 5 mode, solenoids 2a are turned off and solenoids 2c and 2d are turned on to move the shift valves 33 and 34 to the right in Fig. 5, whereby the oil pressure at line 5a s is supplied to the engaging clutchCO, C1 and B3op and to the pressure relay valve Pr so that the 1st speed of engine braking is effected. In this way, each shift valve is oeprated in accordance with the associated solenoid to select one of the operating modes listed in Table 1. Although the No. 1 and No. 13 modes are effected by the same combination of solenoids as seen from Table 1, these modes can be discriminated from each other by the fact that in the latter mode the 1st speed gear is momentarily effected to provide kickdown by increasing the engine revolution to a higher speed. The No. 10 to 13 modes are used for decreasing the amount of shock which might occur during gear engagement. More specifically, in theNo. 10 mode one of the inner piston ip and outer piston op is operated to decrease the engaging power of the clutch to cause it to slide in response to an excessively large input torque to prevent it from being transmitted to the axle. In the shiftup mode No. 11 mode the clutches B1 and C2ip are operated momentarily to decrease the engine speed. In the shiftdown mode No. 12 mode the clutch C1 is operated to shift the gear to the neutral position. In the No. 14 mode the axle lock mode the engaging brake B1 which serves to hold the outer teeth axle and the brake B3 which operates to hold the sun gear shaft simultaneously to prevent the vehicle axle from rotating freely with the inner teeth axle. In this mode, the clutches C1 and C2 are disengaged to avoid interference between engaging brakes from each other. While, in the above description, the line pressure 5a is supplied through the hydraulic actuating unit 3, it is also possible, as in the conventional manner, to provide orifices or accumulators in the circuits leading to the clutches from the hydraulic actuating unit for purposes of gradually varying the pressure supplied to the clutches. The description will now be concerned with the details of the computer 1. In Fig. 6 the part of the computer which performs engine braking is illustrated, the gear shift patterns associated with the engine braking being illustrated inFigs. 7a to 7c. numerals 101 and 102 represent a throttle opening sensor and a vehicle speed sensor respectively, and numeral 103 represents an accelerator operating speed detector which provides a derivative of the throttle signal sensed by the sensor 101 and delivers an output signal when the derivative is greater than a predetermined value.When the accelerator pedal is rapidly depressed or rapidly released the sensor 103 applies an upshift command signal to an upshift pulse generator 109. Numeral 104 is a load sensor which also generates an upshift command signal when throttle opening is less than a predetermined value fully closed condition, for example or greater than a predetermined large angle high to full load while at the same time the vehicle is coasting at a speed higher than a medium speed for a period longer than 5 seconds. The upshift command signal is further generated by a gradient detector 105 when the vehicle is ascending a high gradient hill or going downhill. In drive range a shift lever position switch 106 applies a reset signal to a shift pattern selector 108 and at the same time an actuating signal to a solenoid operating circuit 115 in response. to each range.Numeral 107 represents a coasting condition detector which supplies a downshift command signal to a downshift pulse generator 110 when part throttle condition prevails for a predetermined period. The shift pattern selector 108 activales one of switches or gates 112, 112a, 112b in response to upshift and downshift pulses to determine which one of three patterns of operating mode is to be selected. The pattern selector is reset in response to a drive range signal provided by the shift position switch 106 to permit the transmission to operate on the normal operating mode. The gear shift patterns are stored in read only memories ROMs 111, llla and lllb which represent upshift mode, normal operating mode and downshift mode, respectively, each of which determines which one of the gears to be engaged in response to the detected value of throttle opening 0 as a function of vehicle speed V. A gear ratio decision circuit 113 receives data read out of the ROM selected according to the signal applied to one of the switches 112, 112a and 112b to determine whether the gear ratio should be retained or changed as a function of additional data including the throttle opening data from sensor 101 and the vehicle speed data from sensor 102 and the gear position data supplied from sensor 114. The result of the decision made by the circuit 113 and a shift lever position signal from the shift lever detector switch 106 are presented to the solenoid actuating circuit 115 to activate one or more of the solenoids 2a to 2d to select one of the operating modes listed in Table 2. Therefore, the operating modes are selected according to the gear in drive range or according to the position of shift lever.The shift mode patterns are illustrated inFigs. 7a through 7c in each of which vehicle speed V is indicated on the abscissa and throttle opening O is indicated on the ordinate and the rightward pointing arrows indicate the direction of upshift represented by solid lines and the leftward pointing arrows indicate the direction of downshift represented by broken lines. In Figs. 7a to 7c, numerals 1 to 4 represent 1st to 4th speeds respectively and 1 and 2 represent 1st and 2nd engine braking, respectively. Fig. 7a illustrates a downshift mode pattern which gives its priority to fuel economy.In this fuel economy pattern 1st, 2nd, 3rd and 4th speed are involved and shifting to a high speed gear is arranged to occur in a lower speed range. Fig. 7c is an illustration of an upshift mode pattern which gives its priority to power drive and involves the use of 1st and 2nd engine braking, and 3rd and 4th speeds. It is so arranged that at high vehicle speeds low speed gears are used to make engine braking operate effectively. The pattern shown in Fig. 7b is the normal shift pattern involving the use of 1st, 2nd and 4th speeds which are intermediate between those of the patterns of. Figs. 7a and 7c. This normal shift pattern involves additional engine braking modes represented by downshift lines at one of which a 3 to 2 downshift occurs when vehicle speed reduces with a small throttle opening and at the other of which a 2 to l downshift occurs at a vehicle speed V1 Engine braking mode will be hereinafter referred to by a numeral indicated with a dot thereon .Engine braking mode 2 will be released for upshift to 2nd or 3rd speed when the engine is throttled to an opening greater than According to the shift patterns just described, the pattern of Fig. 7b permits selection of an appropriate vehicle speed value for shifting to an engine brake mode to best utilize the effect of engine braking during the normal mode when the vehicle is under deceleration to a halt. During rapid deceleration or downhill drive the upshift mode pattern of Fig. 7c is selected to determine an appropriate vehicle speed value for shifting to an engine brake mode in response to the outputs of accelerator detector 103 and load sensor 104, or the gradient detector 105 so that the effect of engine braking is utilized to the fullest extent. If coasting drive continues during the upshift mode of Fig. 7c, the mode pattern is shifted to the normal or downshift mode in response to a downshift command signal. During the fuel economy mode pattern in which the engien is run at a constant throttle opening, the use of engine braking is avoided where inappropriate so that the fuel economy mode is retained as long as possible until the driving conditions justify shifting to an uphsift mode pattern. The shift patterns of Figs. 7a to 7c may be modified so that the grade of terrain is detected in two different steps to generate an upshift command signal in response to the detection of a medium grade terrain to upshift in one step and generate two upshift command signals in succession in response to the detection of a steep grade terrain to upshift successively in two steps. Furthermore, the upshift command signal may also be generated by the use of a brake detector or by the use of a temperature sensor which detects the engine coolant water temperature or engine oil temeprature during cold starting period. Furthermore, during engine braking at medium tohigh vehicle speeds, the braking effect can be further enhanced by modifying the above described patterns so that the mode of engine braking initially shifts from 2nd to 1st engine brake mode and then the latter mode is eliminated when the vehicle speed has reduced to a lower value. This modification serves to relieve to amount of braking effort of the vehicle driver. The shift pattern of Fig. 7b may be modified so that 2nd engine brake mode is initiated at a vehicle speed which falls in a range between V1 and V2 which throttle being closed under the condition that the vehicle speed has reduced from a value higher than V2. The pattern of Fig. 7c may be modified so that it involves the use of 1st and 2nd speeds of Fig. 7a as engine brake modes and the use of comparators for comparing the detected vehicle speed and throttle opening with predetermined corresponding values to generate information for making a decision on selecting these engine brake modes. The description will now be concerned with an embodiment which is effective in reducing shock during gear change with reference to Figs. 8 and 9 in which an electronic control circuit and its operating characteristics are shown, respectively. In Fig. 8, parts corresponding to those in Fig. 6 are marked with the same reference numerals as those in Fig. 6 so that the parts having corresponding reference numerals in Fig. 8 have corresponding significance to those in Fig. 6. Read only memories 121, 121a and 121b are provided which store gear engaging mode patterns corresponding to the shift patterns of ROMs 111, llla and lllb, respectively.The stored gear engaging mode data are read out of the ROM s. in response to a selection signal supplied from the pattern selector 108 to a selected one of switches 120, 120a and 120b. An engaging mode decision making circuit 122 compares the mode pattern data supplied from the selected one of the ROMs 121, 121a and 121b with the data supplied thereto from the various sensors including shift lever position sensor 106, throttle opening sensor 101, vehicle speed sensor 102 and drive gear position sensor 114 and generates an output signal to the solenoid actuating circuit 115 when triggered in response to a trigger signal supplied from the output terminal 113a of the gear ratio decision making circuit 113.Figs. 9a and 9b are illustrations of gear engaging mode patterns respectively in a downshift mode pattern lllb stored in ROM lIb of Fig. 6 and in the upshift mode No. 11 of Table 1 for engine braking. t represents the operating time period and 0 indicates that engaging mode is ineffective. The length of each time. period is set so that a relation 0 1. t t is established. This enhances the effect of engine braking during upshift under high vehicle load, high engine speed conditions.In Fig. 9a relation 0 t1 t2 t3 is established to provide a gear ratio corresponding to the neutral mode No. 2 , Table 1,Relation 0 t t2, is established for tl which is used during 3rd to 2nd kickdown by shifting to 1st speed of mode No. 2 and by increasing the engine revolution to approach the revolution of the axle. t is used for 4th to 3rd kickdown by temporarily shifting to 2nd speed of mode No.ll, there being no engaging operation outside the established range during downshift. The gear engaging modes and the associated engaging times are varied as a function of the detected throttle opening and engine revolution which speed and gear under engagement to decrease the amount of shock during gear shift. Although not shown in the drawings, the engaging time may have a smaller value during acceleration or deceleration than during other modes so that power transmission from the engine to axle may not discontinue, whereby appropriate gear engaging modes are established for varying drive conditions. In Figs. 8, 9a and 9b the engaging modes are shown as corresponding to different gear shift patterns.It is also possible to provide an additional engaging mode which compensates for a large fluctuation in engine revolution at neutral due to increased viscosity of lubrication oil during low temperature conditions by sensing engine oil temperature and selecting such mode in response to the sensed engine oil temperature, whereby the amount of gear engaging shock during shifting to or from neutral is reduced. Description will now be concerned with an automaticdrive system with which the coasting speed is controlled. The control circuit of the automatic drive system is shown in Fig. 10 In Fig. 10 parts which corresponds to those in Fig. 6 are marked with the same reference numerals as those in Fig. 6. The parts having corresponding numerals have corresponding significance in Figs.6 and 10. A gear shift pattern for automatic drive i shown in Figs. lla to Ild and the corresponding data is stored in a ROM 132. The mode selecting circuit 108 applies its output signal to a preferential circuit 131 which activates a switch 133 in response to an output from an automatic drive mode sensor 130 and transfers the outputs of circuit 108 to switches 133a and 133b in the absence of the output signal of the automatic drive mode sensor 130 in order to read the data out of the ROM s 132, llla and lllb, respectively, into the gear ratio decision circuit 113. As illustrated in Fig. Ila, downshift lines at throttle openings e in a low to medium range are positioned close to normal coasting drive range designated A to facilitate downshift during uphill drive and at throttle openings in a medium to fully closed range they are positioned on the small opening throttle side of the normal coasting drive A to make engine braking shift down operate easily to as high vehicle speed as possible Engine brake mode is effective in 1st and 2nd speeds. Although shifting occurs too frequently for the purpose of normal drive, this shift pattern assures, during automatic drive, a smooth throttling operation which results in small vehicle speed variation and appropriately timed gear. Since the shift lines are closely spaced apart, downshift operation is effected frequently in response to vehicle speed variations during transients acceleration or decelaration and engine braking is further effectively achieved, so that shifting operation appropriately occurs during uphill or downhill drive. When the transmission is not in the automatic drive mode, the normal shift mode pattern is selected The shift mode pattern of Fig. lla is also applicable to a three speed automatic transmission. In a modified embodiment, downshift lines in a kickdown mode on the fully open throttle side of the conventional pattern are preferably replaced with those determined by uphill grade. In such instances the uphill grade may be determined so that downshift occurs at vehicle speeds higher than 35 km h above which automatic drive system is operated when the uphill grade is less than 10 degrees. Furthermore, as illustrated in Fig. llb, the use of high speed gear is limited in a medium range of throttle opening in order to prevent it from being used when throttle opening is small during deceleration at which engine braking becomes ineffective. Shiftdown lines may also be set so that throttle opening increases as a function of vehicle speed during downhill drive to facilitate downshift to medium or low speed gear in order to counteract the tendency of the automatic drive system toward decreasing the throttle opening with the increase in vehicle speed.If the mode pattern includes only one shiftdown or shiftup point for a given throttle opening, reference vehicle speed values are established for downshift and upshift points which correspond to the given throttle opening and by making a comparison X een the actual vehicle speed V and the established speed values, it is possible to effect upshift and downshift operations with the shift pattern of Fig. lla. If the shift pattern includes two upshift or downshift points for a given throttle opening as illustrated in Fig. llb, it is difficult to discriminate between upshift and downshift. This difficulty is eliminated by dividing of the pattern of Fig. llb into two patterns as illustrated in Figs. llc and lld and by selecting one of these patterns depending on whether the throttle opening and the vehicle speed fall within the area def by points S1, S2, S3 and S4 or not.If the patten of ila is selected the mode shifting is accomplished in the same manner as discribed in connection with Fig. Ila, and if the pattern of Fig. lld is selected reference values of throttle opening e are established for upshift and downshift corresponding to a given vehicle speed and by making a comparison between the actual throttle opening and the reference values it is po ssible to make a decision on uphsift and downshift. Figs. 12 to 19 are illustrations of an axle lockpup system used for parking the vehicle. In Fig. 1 2 which schematically illustrates the general construction of the lockup system, numerals 80, 81, 83 respectively represent tbe engine, the automatic transmission and the shift lever whose pivot movement is detected by a shift lever position detector 142 having Reverse, Neutral and Drive switches which are closed when in contact with a contact arm 143 connected to the shift lever 140 to provide a position signal to a control circuit 144.A hand brake assembly 150 includes a knob 151 whose rotary movement causes the assembly to provide parking lock on the axle and whose upward movement causes the assembly to provide side braking, wires 152 and 153 being shown connected to the assembly to accomplish these purposes, respectively. The side brake mechanism is of a convenional mechanism, so the description thereof is not necessary for simplicity. The locking mechanism 154 of parking lock system is illustrated in Figs. 13 and 14. A lock shaft 157 is rotatably mounted through an opening 82a of the transmission s housing 82 and formed with a rectangular cross sectional portion 157a, an externally threaded part 157b, a flange portion 157c and a cam portion 157d.A crank arm 155 having its outer end connected to the wire 152 and its center fastened to the rectangular section 157a of the lock shaft 157 and clamped in place by a nut 156 engaging the externally threaded part 157b. When the wire 152 is pulled upward the crank arm 155 is rotated to turn the lock shaft 157.The flange 157c is spaced from the rectangular section 157e so that it assures a certain degree of play in the axial direction to permit the lock shaft 157 to rotate smoothly. A lock pawl 158, pivoted at 159, is arranged to engage the cam 157d of the lock shaft 157 when the latter is rotated, so that the other end portion 158a of the pawl 158 may come into meshing engagement with the teeth 161a formed on the outer circumference of the ring gear 161 of the planetary gear system A2 160 ofFig. 1. The pawl 158 is normally urged in the counterclockwise direction by means of a spring 162 held in place by holding means 158a and 82b to prevent the pawl 158 from engaging with the ring gear 161 when parking lock is not provided.Numeral 163 represents a wire guide secured to the housing 82 to serve as a guide for wire 152 which is covered by a wire cover 164. Details of the hand brake assembly will now be described with reference to Figs. 15 to 18. The knob 151 is fastened to the upper end of a hand brake shaft 170 by fastening means, not shown. A casing or guide 171 is fixed to the vehicle body 83 by bolts, not shown, and the shaft 170 is received inthe guide 171 for longitudinal and rotary movements with respect to the guide 171. The shaft 170 is normally urged by a spring 174 to a downward position and further urged by spring members 175 and 176 to a predetermined angular position so that a lock pin 173 may engage a lowermost groove 171a formed on the inner wall of the guide 171. A rotary link 172 has a tooth 172a engaged with a groove 170a of the hand brake shaft 170, which in turn is received in a center opening 172b of the link 172, and is supported between bearings 178 and 178 which are fixed to lower case 177 and a cover member 179 , so that it may not rotate when shaft 170 is moved in vertical directions, while it becomes rotatable when shaft 170 is rotated. The cover member 179 is fastened to the lower case 177 by means of bolts, not shown, and is formed with a center opening 179a through which the rotary arm section 172c of the rotary link 172 extends.Numeral 172d represents a connecting hole to which the parking lock wire 152 terminates. Spring members 175 and 176 are connected to the arm portion 172c of the link at 172e. The lock wire 152 is covered with a sleeve 164 which is slidably supported by a bract 163 .The lock pin 173, housed in a common case 181 with a spring 180, is held against the inner wall of the guide 171 by spring 180 so that it engages a groove 171b when the shaft 170 is pulled to an upward position, the case 181 being fixed to the inner wall of the shaft 170 by welding or suitable means. The lock pin 173 is shaped so that it has an upper inclined surface which permits the shaft 170 to move upward against the grooves on the inner wall of the guide 171 while it prevents the shaft from moving downward when the pin 173 is in engagement with the groove 171b, whereby the lock pin 173 provides a one way clutch action between the shaft 170 and guide 171. On the inner wall of the guide 171 a plurality of grooves are formed as illustrated in Figs. 16 and 17.These grooves comprise a parking guide groove 171c, parking lock groove 171d, a side brake lock groove 171e and a release groove 171f. The grooves 171d and 171e are in the form of a downwardly shaped recess for the purposes of allowing the vehicle driver to discriminate therebetween by having different feelings when he manipulates the knob 151 in an attempt to provide parking or side brake andXof preventing the pin 173 from disengaging from these grooves by the action of spring members 175 and 176. The release groove 171f is in communication with the parking guide groove 171c to release the one way clutch en ga gement of pin 173 when the knob 151 is rotated counterclockwise to allow the shaft 170 to move downward to the position of the lowermost groove 171a.A wire support 183 extends from the panel 133 to slidably hold the side brake wire153 with a sleeve 164 connected to the lower end portion 152 of the hand brake shaft 170, the wire 153 terminating at one end at an opening 152a of the end portion 152 and terminating at the other end to the side brake mechanism mounted adjacent to the vehicle wheels. A hand brake switch 184 is provided to generate an indicator signal when the hand brake shaft 170 is brought to an upward position in order to provide a visual indication. Fig. 19 is an illustration of a control of the axle lock system. Numeral 190 represents a discriminator circuit which receives various inputs from throttle opening sensor 101, vehicle speed sensor 102, shift position sensor 106 and a brake sensor 191. The discriminator 190 provides an axle lock signal to the solenoid activating circuit 115 when the following input conditions are satisfied the shift position sensor 106 indicates that the trnasmission is in drive range the vehicle speed sensor 102 generates a signal indicating that the speed is 1 km h or less, for example the throttle opening sensor 101 generates a signal indicat ing that throttle is fully closed and the brake sensor 191 provides an ON signal representing that brake is being applied.When the throttle opening sensor 101 changes its output state in response to the throttle being slightly opened, the discriminator 190 cancels the axle lock signal and applies a drive range signal to the solenoid operating circuit 115. With the arrangement just described, the automatic transmission of the invention automatically locks up the axle in accordance with the axle lock mode listed inTable 1. Therefore, it is possible for the driver to park the vehicle without changing the shift range and without depressing the foot brake pedal and start up the vehicle by automatically releasing the axle lock mode when he operates the accelerator pedal. It is also possible for the driver to stop the vehicle after the engine has stopped operating by merely pulling up the single control knob 151 or rotating the knob 151 or performing the both operations. For example, when parking lock is desired, the knob 151 is pulled one step upward so that the pin 173 may disengage from contact with the lowermost groove 171a and the knob 151 is then rotated so that pin 173 comes into contact with the parking guide groove 171d, whereby only parking lock is provided. Therefore, the present invention eliminates the need to operate the foot brake pedal when parking the vehicle or eliminates the need to provide parking lock operation as desired, whereby driver s effort during parking operation is simplified. Since the control knob 151 serves the dual functions of parking lock and side braking, the assembly may be located separately from gear shift lever to reduce the likelihood of confusion on the part of the driver. It is to be noted that the hand brake assembly of the above described embodiment could equally be as well used in a threespeed automatic transmission. The control circuit of Fig. 19 may be modified so that the discriminator circuit 190 is arranged to store a brake signal from the brake detector 191 for a specified period of time, 1 second for example, in a memory and the stored information is subsequently read out of the memory to generate the axle lock mode signal. Furthermore, it is possible to reduce the amount of shock which tends to occur during gear shift from axle lock mode to 1st speed gear by forcibly shifting to 2nd gear on the low throttle opening side to reduce the amount of torque transmitted from the engine output shaft. It is futher possible to shift from axle lock mode to lust gear at a medium to high throttle opening when rapid acceleration is requried by providing an additional control unit. In the above description the axle lock mode is operated in drive range. However, it is also possible to provide axle lock mode in neutral or reverse range by detecting the vehicle speed. Further, a warning system could be provided to generate a warning signal to alert the vehicle occupant when he fails to operate the hand brake after the engine has ceased running in response to a signal from a hand brake switch. Fig. 20 is an illustration of a fail safe arrangement according to the invention. This fail safe arrangement generates a signal for operating on 3rd gear to ensure the vehicle to run in the event that all of the solenoids are turned on. In the event of a failure in which all of the solenoids remain in the ON state, it generates a signal for synthesizing a shock reducing engaging mode of half reverse which is briefly used during P to R and N to R.range shift.Since this engaging mode is usually not used for a long period, a failure detection circuit can determine the state of the malfunction by sensing the length o f time of such engaging mode. The fail safe arrangement changes the state of all solenoid onto the all solenoid off state when it should detect that the engaging mode exists for a predetermined period. The input circuits to the solenoids 2a to 2d from the computer 1 are further connected through current limiting resisitors 193 and through threshold detectors 194, each of which detects the conduction of current to respective solenoid, to the inputs of an AND gate 195. The output of the AND gate 195 is connected directly to an input of a comparator 197 and via a timing circuit 196 to the other input of the comparator for making a comparison between them.This timing circuit 196 stretches the output of the AND gate 195 to a predetermined length. If the output of the AND gate 195 exists for a period longer than the period set by the timing circuit 196, the comparator 197 generates an output for delivery to the set input of a flip flop 198 to trigger it into a set condition.The Q output of the flip flop 198 goes high and turns off a normally closed switch 199 to cut off the voltage supplied from a DC source 201 via ignition key switch 200 to the solenoid activating circuit of the computer 1.The flip flop 198 has its reset terminal connected to the switch 200 to be reset to the original binary state when the latter is turned off. Therefore, if the computer should fail so that all the solenoids are operated for a period longer than the time set by the timing circuit 196, the comparator 197 generates a failure signal to cut off power supply to the computer, so that the currents supplied to the solenoids are cut off.Since the solenoid all on state corresponds to the mode No. 10 P to R, N to R range, see Tables 1 and 2 and since the solenoid all off state corresponds to the mode No. 3 3rd gear , the fail safe circuit ofFig. 20 automatically provides shifting to 3rd speed in the No. 10 mode of gear engagment to assure the minimum safety precaution against malfunctions which may occur in the computer 1. Therefore, in the event of a failure in which all the solenoids remain on, transmission is automatically shifted to 3rd speed,Provision may also be made to generate a warning indication by sensing the operating state of the switch 199. While the embodiment of Fig 20 employs the No. 10 mode for gear engagement during shift to 3rd speed, it is possible to employ another engagement listed inTable 1 or modify the mode patterns of Table 1 so that an additional gear engagement mode is provided for exclusive use during such emergency gear shift. In this case, the output of the AND gate 195 can be exclusively used for direct application to the set input of the flip flop 198, whereby the timing circuit 196 and comparator 197 are eliminated to simplify the fail safe circuit. Another embodiment of the fail safe circuit is illustrated in Fig. 21 in which the malfunction of the computer 1 is detected by checking the gear engagement time of each mode against the reference.In Fig. 21, parts corresponding to those in Fig. 20 are marked with the same numerals as those in Fig. 20.The circuit of Fig. 21 is similar to that of Fig. 20 with the exception that it further includes a set of four inverters 202 connected respectively to the outputs of the threshold gates 194 to invert the logical states of the conduction of the solenoids, and AND gates 203 and 204. The AND gate 203 has its four inputs coupled respectively to solenoids 2a to 2d such that it detects the OFF, ON, ON and ON states, respectively, of solenoids 2a, 2b, 2c and 2d, which conditions correspond to a mode listed between the No. 9 and No. 11 modes of Table 2.This mode is not usually employed for gear change operations, but used exclusively for finding fault in the computer 1. Likewise, the AND gate 204 is also coupled to the solenoids to detect their ON OFF conditions corresponding to the No. 11 gear engaging mode ofTable 2. The output circuits of the AND gates 195, 203 and 204 are connected through an OR gate 205 to the timing circuit 196 and to the comparator 197 of Fig. 20. As described above, the circuit of Fig. 21 is used to detect one of the engaging modes and one of the possible combinations of the ON OFF states of the solenoids which is not used for usual gear shift operations for the purpose of detecting malfunctions of the computer 1 and shutting off the power supply in the event of a failure. It can be seen that the automatic transmission as taught by the present invention allows selecting an appropriate speed change pattern according to vehicle driving conditions, so that engine braking is applied in a timely manner in response to manual command input to the engine.