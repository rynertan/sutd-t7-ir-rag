# MEMORY DEVICE WITH DATA ACCESS CONTROL

## Claims
Speichervorrichtung 30 zum Schreiben und Lesen von Daten, umfassend

## Description
The present invention relates to a memory device for writing and reading data, comprising memory means constructed so as to dispersedly memorize data with a plurality of bits and control means for driving said memory means so as to gain access at one time to data with a desired number of bits in order to write and read data with one bit width among data having at least two differing bit widths in said memory means, in which said control means comprises, an indication means for outputting to the memory means an indication signal which designates the desired bit width. Such a device is applicable to a memory device for use with a picture or image display device or the like, and is known from US A 4 394 753. A memory device which controls data output depending on desired bit width is shown in US A 4 354 256. A device with byte addressable memory for data of variable length is shown in DE A 3 236 524 including means for routing address signals to appropriate sectors of memory depending on the word length. When making an access writing or reading to a memory for the dot data which constitute a figure or a letter to represent a variety of figures and letters in a picture display, the number of the dots that are accessed at one time varies depending upon the kind of figure. For example, in displaying a letter, a picture image, or the like, it will be desired to be able to access to all the dots that make up the letter or the picture image at one time. On the other hand, in displaying a geometrical figure such as straight line, a circle, or the like, it will be easier for human observer to view it as being described gradually one dot at a time. Now, although there is available a prior art memory device which is capable of giving access to a word made up of a plurality of bits corresponding to one address, the number of accessible bits is arranged to be fixed. Because of this, when an access is desired to a width which is smaller than the fixed bit width, it has been necessary to read out the entire bits within the word once, rewrite only the portion of the desired width, and write in again the whole thing without touching the other portions. In short, this method has a disadvantage of requiring a complicated procedure for rewriting and a longer time for processing. On the other hand, it is possible to construct a memory so as to allow access one bit at a time. However, such an arrangement also has the disadvantage of requiring a long time since the access is possible only one bit at a time. As a device which eliminates such disadvantages An object of the invention is to provide a memory device which is adapted for giving a fast access to the desired bits in a word. Another object of the present invention is to provide a memory device which is adapted for shortening the time for processing an access. Another object of the present invention is to provide a memory device which is adapted for giving access to the desired bits in a word simultaneously. The memory device according to the invention is defined by the features of Claim 1. These and other objects, features and advantages of the present invention will be more apparent from the following description of a preferred embodiment, taken in conjunction with the accompanying drawing, in which To facilitate the understanding of the present invention, a brief reference will be made to a prior art memory device illustrated in Figs. 1a and 1b. As shown in Fig. 1a, the prior art memory device comprises a memory circuit 10 with write and read unit of n bits n 1,2,3,... , a data input terminal 12 with N bits The present invention which is aimed for resolving problems like those mentioned in the above will be described by referring to Figs. 2 to 5. Referring to Fig. 2, a memory device embodying the present invention is shown with reference numeral 30, which is built in a picture generating device which is connected to a display. The memory device 30 includes a memory 32 for storing the dot data to be presented in the display, and the memory 32 is capable of writing and reading 16 dots at one time as a word, and is capable as well of writing in the unit of one bit corresponding to one dot data that makes up a word. In the present embodiment, the memory 32 is constructed by 4k words X 16 bits. The memory device 30 includes further a multiplexer 36 which selectively switched and outputs the 16 bit addresses A₀ A₁₅ that are sent from the CPU 34 in accordance with the bit number bit width to be accessed. The multiplexer 36 outputs to the memory 32, A₀ to A₁₁ when the bit width to be accessed is bits a word unit , and A₄ to A₁₅ when the width is one bit. That is, word addresses are sent from the CPU 34 using A₀ to A₁₁ in the case of an access with 16 bit width, and using A₄ to A₁₅ in the case of an access with 1 bit width. Furthermore, in the 1 bit width case, the lower addresses A₀ to A₃ are utilized for selecting the bit positions to be accessed in the word addresses designated by A₄ to A₁₅. A decoder 38 receives, in the case of an access with 1 bit width, address A₀ to A₃ from the multiplexer 36, and outputs a write control signal for designating one bit to be accessed in the 16 bits one word designated by A₄ to A₁₅. A register 40 is used for obtaining a write control signal which is required in the case of access with 16 bits width. An input and output circuit 42 is adapted for sending to the memory 32 the data sent through the data bus or for reading the data in the memory 32, according to the indication from an R W signal line 56. When a write indication signal is supplied, all the data for 16 bits are sent to the bits D₀ to D₁₅ of the memory 32 in the case of 16 bit width, and the identical data for 16 bits sent from the data bus are sent to all the bits D₀ to D₁₅ of the memory 32 in the case of 1 bit width. An IO register 46 supplies, in accordance with the indication from the CPU 34, a bit width indication signal in response to the control signal from a decoder 48. The memory device 30 further includes a program memory 52 and an inverter 54 which inverts the bit width indn signal of the bit width indication signal line 50 to be supplied to the decoder 38. Fig. 3 is an internal construction diagram of the memory 32 which is constructed by small memories 0 to 15 to which respectively the write enable signal lines WE₀ to WE₁₅ and the data lines D₀ and D₁₅ are connected. Bach of these small memories is constructed 4k bits to which are assigned 4k addresses, and an identical address is supplied to all of them. That is, each bit of each word is stored housed respectively in an independent small memory. Next, the writing operation of the embodiment will be described. Suppose that addresses A₀ to A₁₅ are sent from the CPU 34. When a signal which indicates 16 bit width call this signal 1 is inputted to the multiplexer 36 from the IO register 46 in accordance with the indication from the CPU 34, the multiplexer 36 outputs only addresses A₀ to A₁₁ to the memory 32. Here, the addresses A₁₂ to A₁₅ are not utilized. Then, the words in the memory 32 that corresponds to the addresses A₀ to A₁₁ are chosen. The signal 1 that is inputted to the bit width indication signal line 50 is sent also to the register 40. When the signal 1 is inputted to the register 40, it turns on all of the write enable signal lines 54 that are connected to each of the small memories 0 to 15 in the memory 32. The CPU 34 sends out to the data bus the data for 16 bits which are then supplied to the input and output circuit 42. Upon receipt of a write indication signal from the CPU 34 through the R W signal line 56, the inut and output circuit 42 inputs the data for 16 bits to the 16 bits D₀ to D₁₅ of the memory 32. The data signal for the 16 bits D₀ to D₁₅ are sent to the small memories 0 to 15 where the data are written in since there is inputted the write enable signal to each of these small memories. Next, a description will be given of the case when a signal which indicates 1 bit width this will be called signal 0 is inputted to the multiplexer 36 through the bit width indication signal line 50 from the IO register 46 in accordance with an indication from the CPU 34. In this case, the multiplexer 36 outputs only the word addresses A₄ to A₁₅ to the memory 32, while the lower addresses which represent the bit addresses A₀ to A₃ are sent to the decoder 38. The signal 0 that is inputted through the bit width indication signal line 50 is inverted by the inverter 54 to signal 1 , and is sent to the decoder 38. Therefore, the decoder 38 interprets the input addresses A₀ to A₃ and turns on the corresponding write enable signal one among WE₀ to WE₁₅ . On the other hand, the data to be written into the corresponding one bit is sent through the data bus simultaneously, as an identical data for the 16 bits. The input and output circuit 42 inputs the identical data for 16 bits to the 16 bits D₀ to D₁₅ of the memory 32 in accordance with the write indication signal from the R W signal line 56. Although an identical data is inputted to the small memories 0 to 15 from D₀ to D₁₅ , respectively, there is only one of these memories 0 to 15 there is only one of these memories 0 to 15 to which the write enable signal is supplied. In that one small memory, the data is written into the bit corresponding to the word addresses A₄ to A₁₅. Referring to Fig. 4 there is shown an example of addresses that may be utilized in the present embodiment. Figure 4a is a construction diagram for the address data used for the case of an access with 1 bit width. The content of the upper portion A₄ to A₁₅ represents the word address of the memory 32, and in this example the word at address 13 is the one to be accessed. The content of the lower portion A₀ to A₃ indicates the one bit in the word to be accessed. In concrete terms, it is for indicating which one of the small memories that is, it indicates which one of the write enable signals WE₀ to WE₁₅ is to be turned on , and in the case of the figure, WE₄ which is connected to the small memory 4 will be turned on. When this is translated into the positions for the word and bit, the data will be written into the fourth bit. Although descriptions have been given in the foregoing for the cases of bit widths of 16 and one bits, the present embodiment should not be limited of course only to these values, and is also applicable to the cases of 2 bit width, 4 bit width, and so forth. In Fig. 4b, there is shown a diagram illustrating an example of construction of addresses to be used in the case of access with 2 bit width in a word. In that case, the word addresses are shown by the content of the addresses A₃ to A₁₄, and the bit addresses, that is, the two write enable signals 54 to be turned on, are shown by A₀ to A₂ here, A₁₅ is not needed . In the example, the bit for address 13 in the small memories is shown, and the content of A₀ to A₂ shows that the write enable signal lines WE₇ and WE₈ are to be turned on. When this is translated into the positions of word and bit, it shows that it corresponds to the fourth 2 bit from the left end of address 13 precisely the seventh and eighth bits . In this case of access with 2 bit width, the data for the 2 bit groups are sent to the data bus in this case, they may be sent as identical eight sets of 2 bit data or as a single set , and the input and output circuit 42 shown in Fig. 2 inputs the 2 bit data to each of D₀D₁ , D₂D₃ , ..., and D₁₄D₁₅ of the memory 32. In Fig. 5 there is shown an internal construction of the decoder 38 which may be used for both cases of access with 2 bit width and with 1 bit width by switching between them. In the case of signal 1 which is inputted from the signal line 60, it indiates the 2 bit width, while in the case of signal 0 it indicates the 1 bit width. When the signal 0 is inputted to a selector 62 which is grounded, the signal 0 is sent to the decoder 38. When the signal 1 is inputted to the selector 62, the address A₃ is sent to the decoder 38. If 000 is inputted for the address A₂A₁A₀, for example, WE₀ alone is turned on by the decoder, but both of WE₀ and WE₁ are connected to the memory by the gate. For the case when an access with a plurality of bits is desired a device may be constructed in a similar manner. The present invention is not limited to the embodiment described in the foregoing, and can also be applied to the case of reading data that are memorized in the memory. In the operation for that case, the R W signal line 56 in Fig. 2 supplies a read indication signal to the input and output circuit 42. Supplied also to the input and output circuit 42 are the addresses A₃ A₀ that are outputted to the decoder 38 in the case of 1 bit width . Although the corresponding address bits in the small memories 0 to 15 are selected by the address output line 51 similarly to the case of writing, the input and output circuit 42 sends only the 1 bit data represented by the addresses A₃ A₀ to the read data bus through one of the lines D₀ to D₁₅. Though the situation in which the addresses A₃ A₀ are output to the input and output circuit 42 is not illustrated in Fig. 2, it will also suffice by simply outputting through D₀ to D₁₅ the 16 bit data for the small memories 0 to 15 that are selected by the address output line 51. Furthermore, although it is arranged in this embodiment to have the decoder control the write enable signals for writing, it may be replaced by one in which it controls the chip select signals instead.