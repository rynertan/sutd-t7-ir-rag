# INTER FRAME ENCODING DECODING EQUIPMENT PROVIDED WITH A SYSTEM FOR DETECTING A TRANSMISSION ERROR

## Claims
System zum Detektieren eines Übertragungsfehlers in einer Zwischenrahmen Codier Decodiereinrichtung für Bilddaten a

## Description
The present invention relates to a system for detecting a transmission error in digital television signals that are encoded by an inter frame encoding system. An inter frame encoding decoding system compresses the transmission band by transmitting an estimated error difference only, with a decoded digital television signal of a preceding frame as predicted value. Therefore, the predicted value of inter frame encoding equipment must be in agreement with the predicted value of an inter frame decoding device. In case a decoded error has occurred in the digital television signals decoded by the inter frame decoding equipment due to a transmission error, the error remains in the decoded digital television signals unless it is corrected by some method. Therefore, the detection of a transmission error, or the detection of the fact that the predicted value of the decoding equipment is different from the predicted value of the encoding equipment, is important in the inter frame encoding decoding system. A cyclic redundancy check code CRC system has been generally used to detect a transmission error. Even with the system for detecting a transmission error based upon the CRC system, however, as well known, sometime the transmission error cannot be detected. If the transmission error is overlooked, the decoded error is left in the decoded digital television signals. It is desirable to provide a system which is capable of detecting transmission errors more reliably than the CRC system. It is also desirable provide a system which is capable of detecting transmission errors by requiring reduced amounts of redundancy bits. A paper by H Kuroda entitled 1.5 Mbit s Interframe Codec for Video Teleconferencing Signals , GLOBECOM 82 IEEE GLOBAL TELECOMMUNICATIONS CONFERENCE, Miami, 2 Nov to 02 Dec 1982, Vol. 3, pages 987 991, IEEE, New York discloses a video transmission system having the features of the preambles of accompanying claims 1 and 2. US A 2,822,979 discloses a counting and dividing circuit which determines a remainder for a word of binary code values based on a predetermined modulus. According to the present invention, there is provided a system for detecting a transmission error in inter frame encoding decoding equipment for picture data of television signals, which equipment comprises inter frame encoding equipment for encoding a difference between the picture data and the output of a first frame memory and inter frame decoding equipment for receiving a transmitted signal sent from said inter frame encoding equipment via a transmission line, and which decodes by adding the output of second frame memory to said transmitted signal characterised in that said inter frame encoding equipment is provided with a first operation circuit operable prior to an encoding process to produce remainders by dividing, by a predetermined value, the number of bits of logic 1 in the bit groups into which the output or the input of said frame memory is divided by a predetermined unit said inter frame decoding equipment is provided with a second operation circuit operable following a decoding process to produce remainders by dividing, by a predetermined value, the number of bits of logic 1 in the bit groups into which the output or the input of said second frame memory is divided by a predetermined unit, and a comparator circuit operable to compare and check the remainders produced by said first and said second operation circuits to detect an error between the picture data prior to encoding and the picture data after decoding. Reference will now be made, by way of example, to the accompanying drawings, to which, however, the scope of the invention is in no way limited. Figure 1 is a block diagram illustrating an embodiment of the present invention. Figure 2 is a block diagram illustrating the operation circuit of Fig. 1. Figure 3 is an operation time chart of the operation circuit of Fig. 2. Figure 4 is a block diagram illustrating the multiplexer circuit of Fig. 1. Figure 5 is an operation time chart of the operation circuit of Fig. 4. Figure 6 is a block diagram illustrating the separating circuit of Fig. 1. Figure 7 is an operation time chart of the separating circuit of Fig. 6. Figure 8 is a block diagram illustrating the comparator of Fig. 1. Figures 9A and 9B are a block diagram illustrating inter frame encoding decoding equipment using a system for detecting a transmission error embodying the present invention. Figure 1 is a block diagram illustrating a system for detecting a transmission error according to an embodiment of the present invention. Reference numeral 100 denotes inter frame encoding equipment, 200 denotes inter frame decoding equipment, and 300 denotes a transmission line. First, described below is the inter frame encoding equipment 100. A digital television signal a Figure 2 is a block diagram of the embodiment in which a predetermined value of the operation circuit 15 is set to 4, i.e., the divisor is set to 4. Figure 3 is an operation time chart of signals in the block diagram of Fig. 2. In Fig. 2, reference numerals 31 1 to 31 8 denote AND circuits, 32 1 to 32 8 denote binary counters, and 33 denotes a latch circuit. Predicted values D₁ to D₈ a The above mentioned operation is explained by Fig. 3. In Fig. 3, D₁ is the least significant bit LSB of eight bits which forms a predicting signal, CK is an output of the AND circuit 31 1, Q₁ is an output of the binary counter 32 1, and CKB₁ is an output of the latch circuit 33. Figure 3 shows the state of the path from the input terminal 30 1 to the output terminals 34 11, 34 12 as a typical example. The clock CK₁ and the LSB bit D₁ are supplied to the AND circuit 31 1 so that the output synchronized with the clock CK₁ is obtained at the output of the AND circuit 31 1. The output CK is supplied to the counter 32 1 as the clock. The counter 32 1 counts the output CK, and the value of the outputs Q₁ ₁ , Q₁ ₂ changes as shown in Q₁ in a decimal value. The output of the counter 32 1 is latched every one frame by a frame clock F. Therefore, the output of the latch circuit 33 is changed as shown by CKB₁. The predicted error e Described below is the inter frame decoding device 200 which receives coded signals from the transmission line 300. A separating circuit 22 receives the signals via a buffer memory 21 and separates the predicted error b As is obvious from the above description, the predicted values a When the operation circuit with the divisor of 4 of the embodiment of Fig. 2 is employed, redundancy bits of a number as small as 16 need to be added to the picture frames to detect a transmission error. Figure 4 is a block diagram of the embodiment of the multiplexer 18 shown in Fig. 1. In Fig. 4, reference numeral 41 denotes a buffer memory which receives picture data from the code converter circuit 17, reference numeral 42 denotes a register which receives parity data r As is clear from Fig. 5, the gate signals become high level in the order of D , C , E and B , and the synchronizing signal 53, the parity data 54, the resending request signal DR 55, the reset display signal 56, and the picture data pass through the AND circuits and are multiplexed in the OR circuit 50 so as to output. Therefore, the frame format becomes as shown in Fig. 5 A . Further, if the error is detected at the receiving side, the resending request signal DR 55 is sent to the sending side. When the sending side receives this signal 55, the sending side resends the picture data. That is, in the sending side, the input signal is quantized, coded, and sent. On the other hand, since it is necessary to inform the receiving side that the data is the resent data, the request display signal is multiplexed and sent. Figure 6 is a block diagram of the embodiment of the separating circuit 22 shown in Fig. 1. In Fig. 6, reference numeral 61 denotes a frame synchronization circuit, reference numeral 62 denotes a control pulse generator, reference numerals 63 to 66 denote AND circuits, reference numeral 64 denotes a buffer memory which outputs picture data b Figure 7 is an operation time chart which illustrates the relationship between the frame format A and the control pulses B , C , D and E in Fig. 6. The operation is explained next. When the format signal shown in Fig. 7 A is input to the frame synchronization circuit 61, it is synchronized with the frame synchronization signal 53, and the gate pulses shown in Fig. 7 B , C , D , E are output from the control pulse generator 62 and input to AND circuits 63, 64, 65, and 66. Therefore, the picture data 52, the parity data 54, the parity non coincident detecting data 55, and the reset data are stored via the AND circuits 63, 64, 65, and 66 to the buffer memory 64 and the registers 65, 66, and 67. The picture data b Figure 8 is a block diagram of the embodiment of the comparator circuit 28 shown in Fig. 1. In Fig. 8, reference numerals 71 and 72 denote registers, reference numerals 73 1 and 73 16 denote exclusive OR circuits, reference numeral 75 denotes an OR circuit, and reference numeral 76 denotes a register. The output of the register 76 is connected to the terminal 5 shown in Fig. 1. The output r Figure 9 is a block diagram illustrating inter frame encoding decoding equipment using the system of the present invention. In Fig. 9, reference numeral 100S denotes inter frame encoding equipment of the A station, reference numeral 100R denotes inter frame decoding equipment of the A station, reference numeral 200R denotes inter frame decoding equipment of the B station and reference numeral 200S denotes inter frame encoding equipment of the B station. The embodiment of the inter frame encoding and decoding equipment of each station is the same as that of Fig. 1. In the circuit shown in Figs. 9A and 9B, when a non coincidence of the parity is caused in the comparator circuit 28 in the B station, a resending reset request signal DR is multiplexed in the multiplexer 18a in the B station so as to be sent out to the inter frame decoding equipment 100R in the A station. The request DR is received and separated in the separating circuit 22a in the A station, and the separated request signal DR is transferred to the memory 14 in the A station and is processed so as to effect the resending reset process. The data which is reset processed is added to the reset display signal DDR in the multiplexer 18 and is sent to the B station. When the B station receives and detects the signal DDR in the separating circuit 22 as a signal DDR, the signal DDR is applied to the memory 25 of the inter frame decoding circuit 20 in the B station so that the inter frame decoding equipment is changed to the resending reset processing mode. When a non coincidence of the parity is detected in the comparator 28a in the A station, the resending request process is effected to the B station as shown by adding the index a , that is, DRa DR a DDRa DDR a shown in Fig. 9. According to the transmission error detection system in the inter frame encoding decoding system of the present invention as described by way of an embodiment in the foregoing, a transmission error can be detected reliably by requiring the addition of a very reduced number of redundancy bits. Although the embodiment of the present invention deals with a simple inter frame encoding decoding system, it can be easily implied that the invention is also applicable to any other complex inter frame encoding decoding system. Futher, the setup of bit groups and the value of divisors are in no way limited to those of the above mentioned embodiment.