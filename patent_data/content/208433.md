# Response gain independent amplifier.

## Abstract
A feedback amplifier providing very wide bandwidth which is substantially independent of amplifier gain over a substantial range of frequencies within a given bandwidth. The amplifier employs a pair of operational amplifier stages OA₁, OA₂ connected in tandem in a circuit utilizing current feedback. The inverting inputs of the two stages are tied together at a common point V₁ , thereby developing the cur rent feedback to render the gain and bandwidth of the circuit independently variable.

## Claims
CLAMS 1. The method of operating an electronic amplifier circuit to control circuit gain and bandwidth independently comprising the steps of interconnecting first and second operational amplifier stages in cascade, each of said stages having a non inverting input terminal, an inverting input terminal, an output terminal and v feedback resistor connected between the inverting input terminal and the output terminal connecting the non inverting input terminal of the second stage to the output terminal of the first stage characterized by connecting the inverting terminals and the feedback resistors of the two stages directly together at a common node to develop current feedback operation connecting a first circuit input terminal to the non inverting input terminal of the first stage and a second circuit input terminal through a series input resistor to the common node and controlling the the gain of the circuit by selectively setting the ratio of the series input resistance to the feedback resistance of the second state. 2. The method of claim 1 further characterized by the step of determining the bandwidth of the circuit by selectively setting the ratio of the feedback resistance of the first stage to the feedback resistance of the second stage. 3. The method of claim 1 or claim 2 further characterized by determining circuit gain and bandwidth independently of each other by the steps of setting the feedback resistance of the second stage at a fixed value and independently selecting the value of the series input resistance to control circuit gain and the value of. the feedback resistance of the first stage to control circuit bandwidth. 4. An electronic amplifier circuit for use with the method of claim 1 including first and second operational amplifier stages 1 Or2 , each stage having non inverting and inverting input terminal 44, 36 and 34, 36 , an output terminal Vx and 38 and a feedback impedance path 42 and 40 connected between the output terminal and the inverting input terminal 36 means for connecting the stages in cascade with the non inverting input terminal 34 of the second stage connected to the output terminal Vx of the first stage characterized by the inverting terminal of each stage and the feedback impedance of each stage being connected directly together at a common point V1 to establish current feedback operation of the circuit. 5. The circuit of claim 4 further characterized by input signal applying means in the form of a first input terminal Vni connected directly to the non inverting input terminal of the first stage OA1 and a second input terminal Vin coupled in series with a circuit input impedance 48 to the common point V1 . 6. The circuit of claim 5 further characterized by the first input 44 terminal being the non inverting input terminal Vni for the overall circuit, the second input terminal 46 being the inverting input terminal Vin for the overall circuit, and the output terminal 38 of the second stage being the output terminal of the overall circuit VO 7. The circuit of claim 6 wherein the gain of each of the operational amplifier stages is very large, further characterized by the ratio of the signal amplitude at the circuit output terminal VO to the signal amplitude at the non inverting input terminal Vni being approximately equal to the ratio of the sum of the input impedance 48 and the feedback impedance 40 of the second operational stage divided by the input impedance 48 . 8. The circuit of claim 6 wherein the individual gains of the operational amplifier stages are very large, further characterized by the ratio of the signal amplitude at the circuit output terminal VO to the signal amplitude at the inverting input terminal Vin being approximately equal to the ratio of the feedback impedance of the second stage 40 to the input impedance 48 multiplied by minus 1. 9. The circuit of claim 6 wherein the feedback impedances 40, 42 of the operational amplifier stages and the circuit input impedance 48 are resistances, further characterized by the gain of the amplifier circuit being variable in accordance with variations in the ratio of the input resistance 48 to the feedback resistance of the second stage 40 . 10. The circuit of claim 9 wherein the ratio of the two feedback resistances 40, 42 is variable,further characterized by the bandwidth of the circuit being determined by the ratio of the two feedback resistances 40, 42 . 11. The circuit of claim 10 wherein the feedback resistance 40 of the second stage is fixed, further characterized by the circuit gain and bandwidth being controllable independently by adjusting the series input resistance 48 and the feedback resistance of the first stage 42 independently.

## Description
RESPONSE GAIN INDEPENDENT AMPLIFIER Conventional operational amplifiers of the prior art generally utilize voltage feedback. The inverting and non inverting inputs to a typical operational amplifier are high impedance nodes. In such an amplifier, the circuit gain multiplies the effect of frequency dependent aspects of the circuit on a closed loop response. Thus, if gain is made large, the bandwidth of the amplifier circuit is reduced. In the optimum case, for a single pole response, the bandwidth will be inversely proportional to the gaint in other words, the gain bandwidth product is a constant. In practice, however, the high frequency response is limited because of the presence of multiple poles and zeros in the amplifier response equations, and it becomes necessary to compensate the amplifier at each value of gain in order to achieve the best response.In many cases, achieving stability and freedom from oscillation severely limits the performance of the amplifier. In brief, arrangements in accordance with the present invention comprise a pair of operational amplifier stages intercoupled in a configuration in which the inverting inputs are tied together at a common point, to which the feedback paths of the two stages are also connected. The two operational amplifier stages are standard voltage follower circuits, preferably with resistive feedback paths, connected in cascade. Terminals for coupling input signals are provided in conventional fashion, one signal Vni being applied to the non inverting input of the first stage and the other Vin being coupled to the inverting input common point through a series impedance. It is the common connection of the two inverting inputs of the two stages which establishes the current feedback operation of the circuit and changes the interdependency of gain and bandwidth which has heretofore existed in operational amplifier circuits. With this circuit arrangement, using resistances for the various impedances, it becomes possible to vary the gain by varying the ratio of the series input resistance for the inverting signal input to the feedback resistance of the second stage. Bandwidth is determined by the ratio of the two feedback resistances. Thus, if the second stage feedback resistance is held constant, gain and bandwidth can be controlled independently. In the drawing Fig. 1 is a functional schematic diagram representing a conventional differential input amplifier of the prior art and Fig. 2 is a corresponding diagram representing the preferred embodiment of the present invention. Operational amplifiers op amps represent particular applications of a stabilized d c amplifier for performing the basic mathematical operations of addition, subtraction, differentiation and integration in analog computers. Fig. 1 shows a typical d c amplifier utilizing any stable high gain form of the circuits described and wherein the type of operation to be performed is determined by the types of impedances R, L or C which are included in the circuit. Conventionally, an operational amplifier has an internal gain A which is very large and an input impedance such as to draw negligible current. With these assumptions, the output voltage absolute value is related to the input voltage as the ratio of the feedback impedance to the series input impedance.From long usage, conventions regarding the mathematical expressions and properties of operational amplifiers have been adopted and are well known in the art. See my own book entitled Operational AmplifierCharacteristics and Applications , Prentice Hall 1981, the content of which is incorporated herein by reference. In a conventional operational amplifier Fig. 1 , operation depends primarily on voltage feedback, which introduces an inherent shortcoming insofar as its usefulness in high frequency applications is concerned.In the prior art amplifier circuit of Fig. 1, an operational amplifier stage 10 is shown coupled between signal input terminal 12, designated Vni, and output terminal 14, designated VO. The input terminal 12 is coupled to the non inverting input of the stage 10. A feedback path including a feedback impedance Z2, designated 16, is connected between the output of the amplifier stage 10 and the inverting input terminal 22.The inverting terminal of the amplifier stage is also connected, via an input impedance Z1, designated 18, to a second signal input terminal 20, designated Vin. The circuit of Fig. 1 is shown in its most generalized form, wherein the impedances Zl and Z2 can be combinations of resistances, capacitances, and inductances. For simplification in presenting the analysis of the operational amplifier circuits described herein, these impedances will be shown in the form of resistances. Thus, the impedance 16 will be R2 and the impedance 18 will be Pl. The two inputs to the amplifier stage 10 of Fig. 1 are high impedance nodes thus the feedback voltage at point 22, designated Vc can be expressed as follows R1 Vc Vo 1 R1 R2 This expression assumes that Vin r 0 for ease of analysis.Then, since Vo A Vni Vc 2 it follows that Vo Vni G 1 G A 3 where G 1 R2 R1 4 The amplifier transfer function A can be expressed as follows A Zc Pc 5 where Zc and Pc are complex polynomial expressions of zeros and poles which are functions of frequency.Substituting Equation 5 into Equation 3 Vo Vni G 1 G Pc Zc 6 Thus, G not only scales the magnitude of the closed loop gain as desired, but it also multiplies the effect ofPc on the closed loop response. The closed loop pole locations are now a function of G such that, if G is made large, the bandwidth will be reduced. In the optimum case, where single pole response exists, bandwidth will be inversely proportional to G. In practice, high frequency response is limited because of the presence of multiple poles and zeros, and it becomes necessary to compensate the amplifier at each value of G in order to achieve the best response. In many cases, achieving stability and freedom from oscillation severely limits the performance of an amplifier such as that shown in Fig. 1. This type of operational amplifier follows the standard closed loop control system equation where Vo Vin A l A B in this equation, B is the feedback ratio and 1 B is the idealized closed loop gain, A is the open loop gain containing a large constant in the numerator and at least three poles in the denominator, and Vo Vin is the actual closed loop gain. As the value of the numerator term becomes larger, the value of Vo Vjn approaches 1 B as a limit. When the numerator term becomes infinite, Vo Vin exactly equals 1 B. The closed loop gain 1 B is usually specified as G R2 R1 1 where R2 is a feedback resistor from output to inverting input and R1 is a resistor from the inverting input to either signal common non inverting or signal voltage inverting . Because the denominator term contains the G term, the amplifier closed loop pole is related to the gain G . As G goes up, the bandwidth decreases, and as G goes down, the bandwidth increases. The two limiting values occur when G numerically equals the numerator term of A and when G S unity. The maximum bandwidth occurs forG 1. The user is forced to accept reduced bandwidths as the gain G is raised as the low first dominant pole causes the gain bandwidth product to be constant over the operating region to maintain stability. Another form of prior art circuit not shown is an amplifier using current, rather than voltage feedback internally to the device. This current feedback is the difference between the two currents through R1 and R2. This differs from the first type where no current flows into the inverting input terminal of the device. This difference current flowing into the inverting input alters the closed loop transfer function by removing the 1 B or G term from the denominator. Thus, the closed loop gain is only a function of G 1 B and the closed loop poles are only a function of R2. The closed loop transfer function is Vo vin G N s N 5 R2D s . The effect of having the numerator contain only R2 and not B 1 G is that as long as R2 is held constant, the bandwidth will be constant.The amplifier is still plagued with the sta ility pt F lem as before, but now that correction can create a dominant pole at the highest useable frequency rather than near the lowest useable frequency. In both the first and second types of amplifier, the closed loop gain is G R2 R1 1 for the non inverting case and B2 R1 for the inverting case. The major operating difference between the two types of amplifiers is that R2, together with R1, usually sets the closed loop gain in the first type while in the second type, R2 is held constant and R1 sets the closed loop gain. In the embodiment of the invention represented inFig. 2, a pair of operational amplifiers 30, designatedOA1 and having a gain A1, and 32, designated OA2 with an internal gain of A2, are intercoupled as shown. The output of amplifier stage 30 on line 34, designated Vx, is coupled to the non inverting input of amplifier stage 32.The two inverting inputs of the amplifier stages 30, 32 are connected together at a common baseline 36, designatedV1. The output of the amplifier stage 32 is the circuit output 38, designated VO. A feedback path including resistor 40, designated R2, is coupled between the points 38 and 36. A feedback resistor 42, designated P, is coupled between the points 34 and 36. The Vni signal input at terminal 44 is coupled to the non inverting input of the amplifier stage 30. The inverting signal inputVin at terminal 46 is coupled through a resistor 48, designated Rlt to the line 36. Currents I1 and I2 flow in the directions of the arrows through R1 and R2, respectively. A feedback current Icf flows through R. Referring now to Fig. 2, amplifier OA1 has an open loop gain response defined by A1 N1 D1 and amplifierOAZ has an open loop gain response of A2 N2 D2. In this convention, N is a numerator term representing zeros and D is a denominator term representing poles. Amplifier OA1 is connected as a voltage follower with a feedback resistor between output and inverting inputs this resistor does not affect the amplifier s unity closed loop gain. Resistor R is both in series with OAl s output and across the two inputs of amplifier OA2. The net effect of this connection is to yield an overall transfer function of the current feedback type described above with a few minor differences.The exact and approximate gain equations of the Fig. 2 circuit are derived as follows EXACT GAIN EQUATIONS FOR wRESPONSE GAIN INDEPENDENCE OPERATIONAL AMPLIFIER The exact gain equations are set forth below. The current I and voltage V terms correspond to Fig. 2. The derivations for these equations may be found in the attached Appendix A non inverting and Appendix B inverting .EQUATION 7 NON INVERTING GAIN EMI7.1 When A1 and A2 are very large, the first term in the denominator dominates and the equation becomes Vo R1 R2 Vni R1INVERTING GAIN EQUATION EMI8.1 When A1 and A2 are very large, the first terms in the numerator and denominator dominate and the equation becomes Vo R2 Gin Vin R1 OPERATIONAL CHARACTERISTICS The amplifier s transfer functions can be derived and re arranged to illustrate the constituent parts of the transfer function. Appendix C derives the transfer function for the non inverting case and Appendix D derives the transfer function for the inverting case.The results are repeated below NON DNVERTING TRANSFER FUNCTIONEMI8.2 INVERTING TRANSFER FUNCTIONEMI9.1 These equations, when analyzed, reveal that 1. The actual gain is independent of the bandwidth as the last term is a standard control function equation with R R2 being the psuedo B function. This means that the 3dB point for the bracketed control function is only dependent upon the ratio of R2 R. As this ratio becomes larger, the bandwidth decreases as in a standard operational amplifier. As the ratio becomes close to unity, the bandwidth approaches the gain bandwidth frequency limit fit for the second stage amplifier.Thus, the bandwidth can be controlled by setting the resistor ratios. 2. Since also the R R2 function appears as a multiplier of this bracketed control function, the approximate gain of the control function and the multiplier R R2 are reciprocals and, if the A2 gain is large, they cancel. This leaves only the G multiplier term to establish the circuit closed loop gain.Regardless of the value of the resistor ratios, this is true. 3. Because of the independence of the 3dB rolloff frequency, established by the resistor ratio R R2 and the closed loop gain G , the circuit gain is theoretically and practically independent of the circuit bandwidth. 4. The circuit gain is established by altering the value of R1. This creates some new problems as many of the current circuits in use today alter the circuit gain by changing R2. As this circuit becomes more widely used, new circuits will have to be developed that make use of the input resistor changing value with, say, frequency.Active filters are a prime example of this situation. 5. The open loop gain of the second stage is a function of the value of R. This means that as R becomes suller the parameters such as voltage precision degrade.As R becomes larger, the difference feedback current Icf creates a compliance voltage across R which, if it becomes too large, could saturate the OA1 amplifier output. Thus the value of R must be as large as possible for precision voltage amplification but not large enough to saturate the first amplifier. 6. When R has a value equal to R1 in parallel with B2 the device reverts to having the parameters of a standard operational amplifier Fig. 1 . 7. The second stage must be compensated for stability in the same manner as any 3 pole uncompensated operational amplifier. Two methods are available a. A dominant pole capacitor can be placed across the differential amplifier stage of A2 or at any other high impedance point in the signal path within A2. This assures that the loop phase is 900 over the whole frequency response until the open loop gain A2 is unity or below. This is the most desirable method for second stage stabilization. b. The closed loop gain of the control relation, 1 B R2 R, must be raised by increasing R2 in relation to R to a value such that the loop gain, A2 R R2 , has become unity or below when the loop phase reaches 0 amplifier phase 180 . This ratio should be raised sufficiently above the gain at 1800 to yield a gain margin of 20 dB and a corresponding phase margin of about 500. The method just described produces an amplifier with decreased bandwidth, thus having poorer settling times and precision voltage control. APPENDIX AReferring to Figure 2 where Vin 1 Vx Vni V1 A1 2 I1 Icf I2 Vx V1 Vo V1 3 V1 R1 Insert 1 into 3 , R R2A1Vni A1V1 V1 Vo V1 4 V1 R1 after rearranging. R R2 EMI12.1 1a Vo Vx V1 A2, Vx V1 Vo A2 insert 1a int 3 Vo A2 Vo V1 6 V1 R1 which, after rearranging, ecomes R R2 EMI12.2 insert 7 into 5 ,EMI12.3 when A1 and A2 become very large, the first ter in the denominator dominates and the equation reduces R1 R2 9 Vo Vni G R1 APPENDIX BReferring to Figure 2 where Vni 0, 1 Vx 0 V1 A1, V1 Vx A1 2 I1 e Icf 12V1 Vin Vx V1 Vo V1 3 inserting 1 into 3 R1 R R2 Vx A1 Vin Vx Vx A1 Vx A1 4 Vo R2 R1 R1 R R R2 R2 which, after rearranging, becomesEMI13.1 When Al is very large, V1 Vni 0, then 3 becomes 5 Vin Vx Vo 6 Vx O A2 Vo, Vo A2Vx insert 6 into 5 ,Vin A2Vx 7 Vx R which, when rearranged, becomes R1 R2 EMI13.2 Inserting 8 into 5 EMI13.3 when Al and A2 are very large, the first term in the numerator and denominator dominate, then 10 Vo Vin R2 R1 G APPENDIX CNON INVERTING TRANSFER FUNCTION Referring to Figure 2 with Vin 0 grounded and V1 Vni because of the large A1. V1 Vo V1 1 Icf I1 I2 I1 , I2 R1 R2Vo V1 Vo 2 Icf V1 R1 3 Vx V1 IcfR Vo A2, IcfR R2 A2RVo Vo V1 R2 A2R R1 R2 4 V1 R1 , Vo V1 but V1 VniA2R R2 A2RR2 R1R2 After rearranging EMI14.1 A now placing in the form T s 1 Ass EMI14.2 where A 5 A2 and ss R R2 If A2 N s D s where N s are numerator zeros and D s are denominator poles, thenEMI14.3 APPENDIX DINVERTING TRANSFER FUNCTION Referring to Figure 2, Vni s O grounded V1 I 0 also because of the large A1 gain. Vin Vo 1 Icf I1 I2 I1 , I2 R1 R2 2 Icf Vin R1 Vo R2 Vx 0 IcfR Vo A2, Icf A2R Vo 3 Vin R1 Vo R2 after rearrangingA2RR2 4 Vo Vin Gin R2 R1 R1R2 A2RR1 A now placing in the form T s 1 Ass EMI15.1 S SEP V0 SEP I R2 R SEP A2 tb SEP 5 SEP V SEP SEP SEP Rg tb SEP NOTE SEP Gin SEP SEP R2 R1 tb where A A2 and ss If A2 N s D s where N s are numerator zeros and D s are denominator poles, thenEMI15.2 NOTE Gin R2 R1