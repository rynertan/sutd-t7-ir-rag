# Model railway control system.

## Abstract
A model railway control system for controlling a train on a model railway track layout comprises a power supply unit which is arranged, in operation, to produce a D. C. voltage which periodically changes in potential between two levels. One potential serves to provide power to drive the motor M of the train locomotive while the other potential is supplied as a series of pulses. The control system further comprises a control unit connected between the power supply unit and the rails F of the track layout for varying the width and or magnitude of the pulses and a control module G provided in the train. The control module G is adapted to receive and decode the pulses from the control unit and, using the decoded information, serving to control the operation of the motor M . The control module receives the pulses via pick ups H which are arranged to contact the wheels of the locomotive and the control module may also be arranged to control the operation of a de coupler J . The control module preferably takes the form of a silicon chip.

## Claims
CLAINS 1. A control system for controlling a train on a model railway layout, characterised in that the control system comprises a power supply unit arranged, in operation, to produce a D.C. voltage which periodically changes in potential between at least two levels, one potential serving to provide the power to drive the motor s of the or each train and the other potential being supplied as a series of pulses a control unit connected between the power supply unit and the rails of the track layout for varying the width and or magnitude of the pulses and a control module provided in the or each train adapted to receive and decode the pulses from the control unit and, using the decoded information, serving to control the operation of the or its associated train. 2. A control system according to claim 1, characterised in that at least one additional control module is provided to control the operation of signals, points, turntables, crossing gates and or other track comnonents by drawing power and coded information from the two rails of the track. 3. A control system according to claim 1 or claim 2, characterised in that the lower of two potentials is arranged to provide the control pulses and the higher potential is arranged to provide the power 4. A control system according to claim 3, characterised in that the or each train receiver control module is arranged, on receiving the first pulse of each series of pulses, to turn off the power supply to the motor of the train and any other equipment which could cause interference and to turn on the power supply to pulse counting and switching circuits in the control module. 5. A control system according to claim 4, characterised in that the said first pulse is distinguished from all of the other pulses by being provided at a further still lower potential and is the only pulse provided at this potential. 6. A control system according to claim 4 or claim 5, characterised in that the second or third nulse of each series of pulses is arranged to be of greater width and or of different potential from the other pulses and is used as a re setting nulse to re set the counting circtlit s in the or each control module to zero. 7. A control system according to claim 6, characterised in that the last pulse of each series of pulses is arranged to turn off the power supply to the counting and switching circuits of the control module s and to turn on the power supply to the motor s and any other equipment. 8. A control system according to claim 7, characterised in that the intermediate pulses have one of two different widths which are appropriately selected to turn oil or off locking circuits connected to the switching circllit s in the or each control module. 9. A control system according to any one of clans 1 to 8, characterised in that the or each control module includes a decade counter which is connected to one or more indicators via switching circuits, which indicator s is are activated on receiving predetermined signals from the counter and in that transducers are positioned around the track layout and are arranged to be activated by the activated indicator s on a train and used to indicate the positions and or other information of the various trains on the track layout on a control panel. 10. A control system according to any one of claims 1 to 9, characterised in that the length of power supply to the length of each series of control pulses is in the ratio of 4 1. 11. A control system according to any one of claims 1 to 10, characterised in that the control module for the or each train takes the form of a silicon chip. 12. A control system for controlling a D.C. motor characterised in that power for driving the motor and control signals for controlling the operation of tiie motor are supplied through the same two wires and in that the control signals take the form of digital control pulses.

## Description
Title MODEL RAILWAY CONTROL SYSTEM This invention relates to a control system for controlling model railways using a two rail system where one or more trains can be controlled at the same time without any need to isolate sections of the track. Conventional systems for model railway control use a two rail system, D.C. voltage being fed to the rails from a controller which varies the power supply either by altering the voltage potential or by a pulsed D.C. supply varying the on off ratio. The model train picks up the power from the rails through the wheels and feeds this directly to the motor. To reverse the direction of travel of the train the supply connection to the two rails is reversed. The main disadvantage of these systems is that all of the trains connected to the rails are supplied with the same power and are driven in the same direction. If it is desired to run more than one train at a time at different speeds then the track has to be broken up into sections and each section isolated from the others.Each section has to be switched to the appropriate controller as required to drive the train. This needs complicated wiring and switching. It is also only possible to control one operation, namely to move the train. If lights are fitted to the train, these only work whilst the train is moving and the brightness of them depends on the power supplied for the motor drive. It has previously been proposed to overcome the disadvantages of the conventional D.C. systems by passingA.C. through the rails and controlling the trains by means of short high frequency tones. The position of these tones controls the speed and direction of the train and the frequency of the tone determines which train is to be controlled. One such system consisted of a transmitter arranged to pass the control signals or tones to the track, a receiver mounted on each of the trains to detect the tone, rectify the A.C. and control the motor, and a transformer to supply 60Hz track power. The advantage of this system is that it is no longer necessary to divide the track into isolated sections and each train can be individually controlled.However, there are disadvantages with this system in that a separate transmitter is required to control the operation of a train as distinct from the transformer which supplies the drive power for the motor. Moreover, since the motors of the train locomotives run on D.C., they only receive the half wave component of the rectified A.C. and they therefore run hotter and often burn out. Further, each locomotive must be fitted with a special receiver and if a locomotive is placed on the track which does not have a suitable receiver, its motor will burn out This system is therefore of limited application and cannot be used universally with existing layouts. The present invention aims to provide a control system which overcomes all of the above mentioned dis advantages and which provides flexible and independent control of trains on a model railway layout without the need for isolating sections of the track. According to one aspect of the invention, there is provided a control system for controlling a train on a model railway layout in which the power for driving the train and signals for controlling its operation are supplied to the rails of the track layout through the same two wires.The signals preferably consist of variations in D.C.voltage potential and may take the form of pulses varying in width and or potential. The pulses. can be square and produced at a single frequency. Another aspect of the invention provides a control system for controlling a train on a model railway layout, the control system comprising a power supply unit arranged, in operation, to produce a D.C. voltage which periodically changes in potential between at least two levels, one potential serving to provide the power to drive the motor s of the or each train and the other potential being supplied as a series of pulses a control unit connected between the power supply unit and the rails of the track layout for varying the width and or magnitude of the pulses and a control module provided in the or each train adapted to receive and decode the pulses from the control unit and, using the decoded information, serving to control the operation of the or its associated train.Thus, the or each train may be instructed to go forwards or backwards, to start or to stop or to vary its speed according to the pulsed information received by its control module. At the same time, power for the motor s of the train s is supplied to the rails of the track. Similar control modules can be connected to the track and used to control the operation of signals, points, turntables, crossing gates and other track components by drawing power and coded information from the two rails of the track. Preferably, the lower of two potentials provides the control pulses and the higher potential provides the power. A further still lower potential may be provided if desired. To prevent interference from motors and other equipment used in the system, the first pulse of each series of pulses is preferably used by the train receiver control module to turn off the power supply to the motors and any other equipment which could cause interference and to turn on the power supply to pulse counting and switching circuits in the control module. This first pulse may be at the said still lower potential or may have a width which is greater or less than all of the other pulses so long as the difference is sufficient to ensure that the pulse is not confused with any interference from the electrical equipment used0 For this reason, it is preferred that the first pulse should be at a very low potential in relation to the other potentials. The second or third pulse of each series of pulses is arranged to be of greater width and or of different potential from the other pulses and is used as a re setting pulse to re set the counting circuit s in the or each control module to zero. The following pulses are then counted up to the last pulse of the series which is effective to turn off the power supply to the counting and switching circuits of the control module s and to turn on the power supply to the motor s and. any other equipment. The intermediate pulses may have one of two different widths which are appropriately selected to turn on or off locking circuits connected to the switching circuit s in the or each control module. The or each control module may include a decade counter which is connected to one or more indicators via switching circuits, which indicator s is are activated on receiving predetermined signals from the counter. Transducers positioned around the track layout can be activated by the activated indicators on a train and used to indicate the positions and or other information of the various trains on the track layout on a control panel. Signals from the transducers can also be used to feed back information to switches controlling the pulses to automatically indicate or control the train movements. The supply of pulses is not continuous and preferably the ratio of the length of power supply to the length of each series of control pulses is 4 1. The invention will now be further described, by way of example, with reference to the drawings, in which Fig. 1 is a diagrammatic circuit diagram of a power control unit forming part of a control system according to the invention Fig0 2 shows, diagrammatically, a side view of a locomotive fitted with a control module and located on a rail track Fig. 3 is a plan view of the locomotive shown in Fla. 2 Fig. 4 shows, diagrammatically, a control arrangement for operating a set of points by means of the control system according to the invention Fig. 5 is a block diagram showing the circuit of a control unit according to the invention in more detail Fig. 6 shows a sequence of pulses generated by the control unit shown in Fig. 5 in operation Fig. 7 shows the time periods during which the pulses shown in Fig. 6 are generated Fig. 8 is a block diagram of the circuit of a control module according to the invention Fig. 9 is a circuit diagram of a decoder forming part of the control module shown in Fig. 8 and Fig. 10 is a graph showing a preferred manner in which the drive to a train motor is brought up to full potential when a stationary train is started. Reference will first be made to Fig. 1 of the drawings in which a control unit A is arranged to be connected to an 18V D.C. supply and to produce a controlled voltage of 14 volts with an increase to 18 volts at regular intervals of 100 microseconds to produce pulses of widths of 10 microseconds, 20 microseconds or 30 microseconds. Thine pulse widths are controlled by a pulse former unit B an connected to the unit B is a pulse counter C which is in turn connected to a pulse generator D. The counter C is arranged to count up to 100 pulses and is then re set to zero whereupon it commences counting again0 Every 100th pulse has a width of 30 microseconds and acts as a resetting pulse in amanner to be hereinafter described. The pulse generator D is also connected to switches E which are arranged to pass pulses of 10 microseconds or 20 microseconds according to the switch position and thus on the command or control required. The output from the control unit A is connected to the two rails F F of a model railway system. Turning now to Figs. 2 and 3, a locomotive mounted on the rails F F is provided with pick up connections H which connect power from the rails via the wheels of the locomotive to a control module G. The module G supplies power to a motor M and to other units such as lights K or the coil J of a de coupler as directed by pulses received from the control unit A. The control module G has a counter which is reset to zero on receiving the 30 microsecond resetting pulse from the control unit A. Thereafter, selected 10 and 20 microsecond pulses control the operation of the locomotive by issuing pulsed commands to the control module which decodes the information and supplies appropriate commands to the motor1 lights and or decoupler coil.For example, the motor speed control may use three pulses in every 100 pulses spaced at intervals through the 100 pulses and the motor speed is controlled by varying the ratio of 10 microsecond to 20 microsecond pulses of the three pulses or a plurality of the three pulses. Four other pulses may be allocated to each locomotive to be monitored for each control action required such as reversal, lights, or decoupling.The counter in the control module is used to select and measure the pulses allocated to it, As shown in Fig. 4, the control system according to the invention may also be used to control the operation ofpoints, A control module L, which is similar to the control module G and which may be disguised as a model signal box, is connected to the rails F F and is arranged to drive a motor N in response to pulses received from the control unit A. The motor N is effective to move the points P between their two positions and a signal lamp S may also be connected to the control module L and controlled thereby. While the above described system works well enough if only one train is used on the track layout, problems can occur when a large number of trains are operated simultaneously on the layout because arcing can be received as pulses by some of the control modules and this results in erratic control. This can, however, be overcome by employing the system shown in Fig. 5 of the drawings. In Fig. 5, a 20V D.C. input is connected to a D.C.supply to the rails of the track layout by 7 volt, 18 volt and 14 volt stabilized circuits 1, 2 and 3. The 18V stabilized circuit 2 is connected to a counter 5, a switch unit 6 and two pulse formers 7 and 9 while the 14V stabilized circuit 3 is connected to the counter 5 and to a decade counter 4. The decade counter 4 is also connected to the counter 5 which is a divide by 5 counter having one cycle on and four cycles off as well as to the switch unit 6.Inputs to the decade counter 4 are connected to the pulse former 9 and to a pulse generator 10 which is also connected to the pulse formers 7, 8 and 9. In operation, the pulse generator 10 is connected to a 5V stabilized voltage supply and supplies pulses to the decade counter 4 and the pulse formers 7, 8 and 9. The control unit is arranged to provide a stabilized voltage of 18 volts to the rails with a drop to 7 volts for a pulse of width 20 microseconds every 0.5 seconds followed at 100 intervals of 100 microseconds by pulses produced by dropping the voltage to 14 volts. The voltage is kept at 18 volts potential between the series of pulses, i.e. for periods of 0.4 seconds as indicated inFig. 7. This is achieved by blocking four out of five cycles from the decade counter 4 by means of the counter 5. As stated above, the first pulse of each sequence of pulses produces a voltage drop to 7 volts for 20 microseconds.This is achieved by means of the decade counter 4 and counter 5 which turns off the stabilized circuits 2 and 3 for this pulse so that only the circuit 1 can provide its voltage of 7 volts to the rails during the first pulse of 20 microseconds as indicated in Fig. 6. This has the effect of switching the or each control module to turn off power to the motor and to turn on switching control circuits in the control module. The pulse former 9, which is arranged to give a pulse of 30 microseconds, is connected to the decade counter 4 and is arranged to pass a pulse of 30 microseconds for only the second pulse of each cycle of 100 pulses. Thus, when the second pulse is generated, the pulse from the pulse former 9 is effective to turn off the circuit 2 for a period of 30 microseconds. The circuit 3 is however operative during thins period to pass a stabilized voltage pulse of 14V for the same period of 30 microseconds. This acts as a resetting pulse to reset the counters of all of the control modules back to zero so that counting can begin again. It will be seen that by this means the problems of additional pulses caused by arcing is virtually if not entirely eliminated. The remaining pulses of 14V can be of 10 or 20 microsecond duration. The pulse former 7 giving pulses of 10 microseconds is connected directly to the stabilized circuit 2 whereas the pulse former 8 giving pulses of 20 microseconds is connected to the stabilized circuit 2 via the switch unit 6 which is controlled by the decade counter 4. A 10 microsecond pulse represents an off pulse while a 20 microsecond pulse represent an on pulse. For an off pulse, the switch unit 6 blocks the pulse from the pulse former 8 so that the 18V stabilized circuit 2 is turned off for only 10 microseconds by the pulse from the pulse former 7 and during this time the voltage drops to 14V supplied by the 14V stabilized circuit 3 and as indicated by the third pulse in Fig. 6. For an on pulse, the switch unit 6 no longer blocks the pulse from the pulse former 8 so that this time the 18V stabilized circuit 2 is turned off for 20 microseconds by the pulse from the pulse former 8 and again the voltage drops to 14V during this period as indicated by the fourth pulse in Fig. 6. Fig. 6 also shows further on and off pulses and these continue up to 100 when the cycle is repeated. The next four cycles are however blocked by the counter 5 and only the next succeeding fifth cycle is utilised to supply pulsed information to the control modules as indicated by Fig. 7. The pulse former 7 is preferably coupled to pulse count numbers 3 100 inclusive while the pulse former 8 is preferably coupled only to pulse count numbers 3 99 via the switch unit 6. This means that the last pulse of each series or cycle is always an off pulse. Transducer units may be fitted at various positions around the track layout and connected to switching circuits which are also connected to the counter 4 which preferably takes the form of a TTL decade counter. Each transducer unit is arranged to operate an indicator panel and or other equipment corresponding to the section of track on which the transducer unit is positioned and the signal from the train activates the number corresponding to the input signal present at the time from the decade counter. Fig. 8 is a block circuit diagram of a control module for fitting into a locomotive. The module comprises a pulse de coding unit arranged to receive pulses from the rails via pick ups not shown and one or more rectifiers, indicated by the box S, which ensure that the same positive and negative supplies to the unit are obtained irrespective of the polarity on the rails. The supply is fed to de coder units X and Y which produce on off pulses in relation to the pulses superimposed on the supply. The decoder X produces a pulse only from the first 7V pulse of each cycle and this de coded pulse is fed to a power supply control switching circuit II. The control circuit 11 is connected to a switching circuit 12 for controlling the motor M of the locomotive as well as to a 5V power supply 13 to TTL counting and controlling circuits. On receiving the first pulse of each cycle, the control circuit it turns off the power to the motor M and turns on the power supply 13 to the TTL circuits. The decoder Y de codes the remaining 99 pulses and passes them to a TTL decade counter 14. The first of these pulses the 30 micresecond resetting pulse re sets the counter to zero and then the following pulses count up to 98. The de coder Y also supplies the variable length pulses of tO or 20 microseconds from the supply to TTL flip flops t5 t8 and also fixed length control pulses at the same time of length 15 microseconds via a reference pulse former 24.The. TTL flip flops compare the input pulse against the control pulse and then either switch on or off. The TTL flip flops i5 t8 pass signals to respective locking flip flops 19 22 which lock or off until a change inrtUtgmal is received from the associated TTL flip flop. The count de coder is connected to select a given number of the pulses 4 are shown in the example and these are the ones fed to the TTL on off flip flops0 The numbers selected will vary from one train module to another but the ones shown in Fig.8 are 23, 33, 43 and 53 by way of example. The locking flip flops 21 22 are connected to a motor speed control unit 23 which can take the form of a decade counter ramp and the on off pulses may be arranged to drive the decade counter ramp either up or down to give a selected voltage level to drive the D.C. motor M at a related speed with.an additional or alternative voltage supply to the motor of on off full voltage potential pulses at one or more selected on off time intervals. A selected pulse number or pulse numbers from the train module decade counter may be connected to an infrared output unit fitted under the train which will energise the transducers positioned around the track. The direction of the motor M is controlled by means of the switching circuit 12 whereby in one position of the switch contacts the motor will drive the locomotive forwards and in the other position of the switch contacts the motor will drive the locomotive in reverse. The switching circuit 12 may take the form of a transistor controlled by the f ip flop 20.relay circuit or a mechanical switching rela. The decoders X and Y may take any suitable form but a preferred example is illustrated in Fig. 9. The circuit is so arranged that, in the case of decoder X, a signal appears at the output only during the 7V pulse and, in the case of decoder Y, a signal appears at the output only during the 14V pulses. At 18V, both decoders are blocked and do not pass a signal. The values of the zener diodes 21, 22 and 23 and resistors R1 R8 can be chosen to achieve optimum performance and will present no problem to those skilled in the art.However, by way of example, the circuit for decoder Yhas been found to operate efficiently with the following values zt 6.8v, Z2 7.5V, Z3 3.9V, RI 2.7K, R2 1K,R3 5.6K, R4 5.6K, R5 2.7K, R6 6.8 h, R7 20K andRk 1K. The capacitance of the capacitor CI is in this case iO C1 F The voltage to drive the motor M at varying speed can be supplied as a variable voltage potential or a pulsed full potential where the pulse width is variable.Preferably, however, a combination of the two is employed as shown in Fig. 10 where the speed is built up by raising the potential of a short pulsed supply to short pulses of full potential followed by raising the voltage potential between the pulses up to full potential thus finally giving a constant, full potential whilst the motor tower is on. The locking flip flops 19 22 in Fig. 8 may lso be used to control other functions of the locomotive, for example the coil J of the decoupler shown in Figs. 2 and 3.The locomotive may also be provided with a light K and this is preferably connected in the circuit as shown in Fig. 8 so that it will remain on even when the motor is not being driven and the locomotive is stationary. Other lights on a train, for example in passenger compartments, Cal also be connected in the circuit so that they too will retrain on even when the train is stationary. By means of the control system according to the invention, each pulse can be provided for a particular purpose and a plurality of trains and other equipment can be independently controlled on a track layout without the need to isolate various sections of the track and without the need for complicated wiring and switching. Further, since the control system operates on D.C., the risk of burning out motors which is inherent with A.C. systems is not present. The locking flip flops are set only when the motor is not supplied with power and thus the switching circuits for controlling the operation of the motor are not affected by arcing and motor interference. The control module for each train preferably takes the form of a silicon chip. With maximum control information input of 1000 individual signals, then if each chip uses 10 signals, 100 programmed chips could be used on the system without the need for itiation for 20 signals per chip, 50 chips could be used, etc. . The limit on the number of trains and signals operated at any one time would be the number of controllers available and the power supply to the track. Each control unit can operate any one of the chips by selecting its programme number and provision may be made for a control unit to select more than one programme number when it is required to carry out doubleheading operations or to power multiple unit motor coach trains.With this capacity, the system lends itself to new motor control development for more realistic drive speeds and control, for example variable speed with inertia control, controlled braking, forward reverse, headcode light selection, de coupling at either end, opening closing doors and sound simulation control. In the case where feed back information is supplied by transducers on the track to a control panel, there is the opportunity to have signal box type displays of individual train positions which are automatically updated. A further advantage of the feed back system would be for computer control of the whole layout. The invention is not restricted to the abovedescribed embodiments but modifications may be made without departing from the scope of the invention as define by the claims. Further the invention is not restricted to control systems for model railways but may be used to control the operation of any D.C. motor.Accordingly, another aspect of the invention provides a control system for controlling a D.C. motor in which power for driving the motor and control signals for contrelling the operation of the motor are supplied through the same two wires, the control signals taking the form of digital control pulses.