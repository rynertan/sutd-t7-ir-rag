# METHOD OF MAGNETICALLY RECORDING VIDEO SIGNALS AND AN APPARATUS THEREFOR

## Claims
Verfahren zum magnetischen Aufzeichnen von Videosignalen, welches aufweist

## Description
The present invention relates to a digital magnetic video recording method and an apparatus therefor, and particularly to a method and an apparatus for converting video signals such as television signals into codes of a structure adapted to digital recording. To digitally record video signals of a television system onto a VTR video tape recorder , analog video signals are first converted into digital signals of N bits through an A D converter analog to digital converter and are then recorded onto a magnetic recording medium. With an ordinary magnetic recording, however, it is not allowed to reproduce very low frequencies or d c components. In the digital magnetic video recording apparatus, therefore, a variety of channel coding methods have been proposed to superpose a c components on the digital signals obtained through the A D conversion so that d c components will not generate. The document US.P. 4 352 129 relates to an 8 to 8 conversion wherein the first three bits and the last five bits are separately coded instead of coding all 8 bits as one group. Such a separate coding is realized by the insertion of a parity bit as a fourth bit. The document GB A 2 001 789 discloses an 8 to 10 conversion. Among these channel coding methods, attention has been given to a so called N N mapping table system which utilizes a correlation of television signals that are to be recorded. Fig. 1 is a diagram showing a conventional 8 8 mapping table. Digital television signals should desirably be capable of expressing sufficient tones that do not appear unnatural to human eyes. Usually, therefore, signals consisting of eight bits are used. When binary codes of eight bits are used, 256 levels tones can be expressed maintaining a signal to noise ratio of 59 dB. A table for convering a binary code consisting of eight bits into another binary code consisting of eight bits containing d c components in small amounts, is an 8 8 mapping table. The 8 8 mapping table of Fig. 1 converts natural binary codes produced by the A D converter into codes which are rearranged in ascending order of the numbers n₁ of the 1 s contained in eight bits. For instance, a natural binary code corresponding to a level 16 is 00010000 . This code is converted into a code 01000010 which contains two 1 s. Natural binary codes that represent 256 levels are expressed by the combinations of the 1 s and the 0 s of from 00000000 to 11111111 . The code in which the number n₁ of the 1 s is 0 in the eight bits, is 00000000 only. There are eight codes in which the number n₁ of the 1 s is 1 in the eight bits, i.e. from 00000001 to 10000000 . There are 28 codes in which n₁ 2, i.e., from 00000011 to 11000000 . There are a total of 256 codes up to the one in which n₁ 8 as shown in Fig. 1. These codes are rearranged in ascending order of their respective numbers n₁ to obtain new codes corresponding to each of the levels. In this code system, the code corresponding to the level 16 is 01000010 . The television signals have a strong correlation, and values of neighboring two samples do not much differ from each other. Therefore, a sample value next of a sample value of, for example, a level 16, does not much change and becomes, for instance, a level 32. As will be obvious from Fig. 1, the number n₁ of the 1 s in the code consisting of eight bits corresponding to the level 32 after converted is 2 like that of the level 16. When the sample values are arranged continuously, the number of the 0 s continues so that d c components are formed. If the code corresponding to the sample value 32 is inverted after the code conversion, the number n₁ of the 1 s becomes 6. Hence, the codes which are corresponding to two sample values 16,32 and latter one of which has been inverted have the 1 s and the 0 s in an equal number, without containing d c components. Thus, the 8 8 mapping table system is capable of converting the binary codes into those binary codes that generate d c components little by utilizing the correlation of television signals. Another important problem in considering the channel coding is how to minimize a maximum magnetization interval. In the case of NRZ non return to zero type recording, there develops a pattern peak shift in the patterns in which the 0 s or the 1 s are continuing. For instance, when three sample values are continuing like in the cases of codes 00001111 , and 00001111 that have been converted by the 8 8 mapping table, the 1 s and the 0 s are maintained in equilibrium in every eight bits relying upon the 8 8 mapping table system. Partially, however, the 1 s may continue. The magnetic recording is a non linear recording. In the above mentioned example, therefore, a peak where 1 is formed may undergo the shift in of the second sample, making it difficult to correctly reproduce the signals. It is therefore desired to so correct the 8 8 mapping table that the 1 s or the 0 s will not continue as far as possible. The object of the present invention is to provide a digital video recording method with high reliability, which is free from the aforementioned problems inherent in the conventional art, and which converts the codes into those of patterns in which the 1 s or the 0 s are not continuing, in order to reduce the occurrence of error signals. The object of the present invention is obtained by means of an apparatus and process as defined in the claims. The present invention provides a method of magnetically recording video signals, comprising In the accompanying drawings The principle of the present invention will be described below. In continuously producing two data each consisting of eight bits, if it is attempted to limit the continuous number of the 0 s or the 1 s, the number of patterns allowed in the 8 bit patterns decreases. That is, if the continuous number of the 0 s or the 1 s is reduced, increased number of patterns must be cut off, enabling the reliability to be enhanced but resulting in the lack of number of levels that serve as sample values. If the continuous number of the 0 s or the 1 s is allowed to increase to some extent, on the other hand, the number of levels does not decrease so much, but the reliability is not so high, thus presenting a conflicting relationship. The continuous number of the 1 s or the 0 s for a given eight bit pattern can be evaluated in terms of a number n Here, between the two continuous data each consisting of eight bits, the former one is denoted by A, and the latter one is denoted by B. Then, A 00100010 is represented by n That is, when the two 8 bit data A, B are continuously produced in irregular order, a maximum value 5 among n Here, max means that a maximum value is employed among them. Table 1 shows how to select 8 bit patterns in which the 1 s or the 0 s do not appear continuously in a number of greater than 6, when a maximum magnetization interval n According to the recommendation by the CCIR Comité Consultatif International des Radio communications , 200 levels are allotted to the luminance signals and 224 levels are allotted to the chrominance signals when the componet coding method is employed when luminance signals and chrominance signals are to be individually sampled and quantized . Therefore, all of 256 levels need not be utilized in effecting the 8 bit quantization. In table 1, the number of patterns that satisfy n After having studied the number of patterns by variously changing the value n Fig. 2 is a diagram showing a maximum number of 8 bit patterns that can be utilized, i.e., showing a number of quantization levels when the 1 s or the 0 s are not continuing in a number of more than n n As will be obvious from Fig. 2, the number of quantization levels is 134 when n Fig. 3 is a diagram of signal systems in a digital video recorder according to an embodiment of the present invention. Red, green and blue signals R, G, B produced by a color camera not shown are input to red, green and blue signal input terminals 1, 2, 3 of a matrix circuit 4 which produces a luminance signal Y and chrominance signals C₁, C₂. These signals Y, C₁ and C₂ are converted into digital signals of natural binary codes each consisting of eight bits through A D converters 5, 6 and 7. Fig. 4 is a diagram showing a relation between the input signal level and the quantization level in the A D converters of Fig. 3, and Figs. 5A and 5B are processing flow charts by the video recording method according to the embodiment of the present invention. As shown in Fig. 4, there exists a linear relation between the input level and the quantization level in the A D converters 5, 6, 7 of Fig. 3. Among the input levels, a maximum input level Yin of luminance signal Y is so controlled that the quantization level after the A D conversion will not become greater than 200 to obtain a level allotted by the CCIR recommendation . Similarly, maximum input levels C₁in, C₂in of chrominance signals C₁, C₂ are so controlled that the quantization level will become 224. According to the embodiment of the present invention as shown in Fig. 5A, the patterns of n By so doing, the table for luminance signals satisfies n The picture is practically taken using a color television camera. Video signals R, G, B which represent red, green and blue colors of the subject are then produced by the camera and are input to the matrix circuit 4 block 31 of Fig. 5B which produces luminance signal Y and chrominance signals C₁, C₂ block 32 of Fig. 5B . These signals Y, C₁ and C₂ are converted through the A D converters into digital signals of natural binary codes each consisting of eight bits block 33 of Fig. 5B . These digital signals are converted into digital signals of codes in which continuous numbers of the 0 s and the 1 s have been limited block 34 of Fig. 5B by the 8 8 mapping tables that have been prepared in advance. Codes of the thus converted digital signals are inverted on every other sample, and are recorded by recording amplifiers 11, 12, 13 onto a recording medium such as a magnetic tape in the NRZ form via heads 14, 15 and 16 block 35 of Fig. 5B . Each of the code conversion circuits 8, 9 and 10 has an inverter circuit in which the codes of the signals that have obtained through the code conversion are inverted on every other sample. Each of the code conversion circuits 8, 9 and 10 produces the signals of which the codes have been converted and of which the codes have been inverted on every other sample. Tables 2 and 3 partly illustrate 8 8 mapping tables for the luminance signal Y and chrominance signals C₁, C₂, according to an embodiment of the present invention. In Table 2, patterns with n Among the patterns of n In Table 3, patterns of n In Tables 2 and 3, n In the case that 224 levels are allotted to the chrominance signals in accordance with the CCIR recommendation, the level 224 and the level 225 in the Table 3 need not be utilized. According to the present invention as defined in the appended claims 8 8 mapping tables were used. However it is also possible to convert the codes into codes in which the continuous number of the 1 s or the 0 s is smaller than that of the cases of 8 8 mapping tables, by converting digital data consisting of eight bits into a code consisting of nine bits using an 8 9 mapping table. That is, if code patterns consisting of nine bits are considered a conversion table can be prepared by preferentially using 9 bit patterns that satisfy n When video signals are to be treated, furthermore, an optimum number N of bits for quantization is 6 to 8. It is advantageous to use this value from the standpoint of constituting the conversion mapping. According to the present invention as described in the foregoing, the signals to be recorded are converted into patterns in which the 1 s or the 0 s do not continue by more than a predetermined number before they are recorded, relying upon the 8 8 mapping tables in order to reduce d c components that generate in carrying out the magnetic recording. Therefore, occurrence of erroneous signals caused by pattern peak shift can be reduced, and the digital magnetic recording can be performed maintaining increased reliability.