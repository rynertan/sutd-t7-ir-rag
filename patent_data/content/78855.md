# NUMERICAL CONTROL DEVICE.

## Abstract
In a numerical control device having a spindle speed direct instruction means 11a for instructing a spindle speed directly and a position detecting means 20 for detecting the present rotational position of a spindle 17 , means 11b for generating the deviation between the instructed rotational position and the present rotational position and switching means 11a are provided. When controlling the speed of the spindle, a speed command issued from the spindle speed direct instruction means 11a is input through the switching means to a spindle speed controlling circuit 12 , and by controlling the position of the spindle, the positional devia tion is input through the switching means to the speed controlling means, thereby stopping the spindle at the instructed rotational position.

## Claims
CLAIMS A numerical control device having spindle speed direct command means for directly commanding the speed of a spindle, and position sensing means for sensing the actual angular position of the spindle, characterized by the provision of means for generating a positional offset between a commanded angular position and the actual angular position, and switching means, wherein, in a spindle speed control mode, a speed command issued by said spindle speed direct command means is applied to a spindle speed control circuit through the switching means and, in a spindle position control mode, said positional offset is applied to said speed control circuit through the switching means, said spindle being brought to a stop at the commanded angular position.

## Description
DESCRIPTION NUMERICAL CONTROL DEVICETechnical Field This invention relates to a numerical control device and, more particularly, to a simply constructed numerical control device which has a spindle indexing function and which is capable of controlling both the speed and angular position of a spindle.Background Art Numerically controlled machine tools are adapted to subject a workpiece to machining such as turning, thread cutting and tapping while a spindle is being rotated at a predetermined speed. In general, the rotational speed of the spindle is commanded indirectly by a numerical control device referred to as an NC with a command in the form an S function instruction SA , whereby the machine tool is made to rotate the spindle at a speed in accordance with a two digit numerical value that follows the letter of the alphabetS.Recently, a method of commanding the rotational speed of a spindle directly has been proposed wherein the rotational speed of the spindle is commanded directly by means of a four digit numerical value following the letter S, the numerical value being subjected to a DA conversion for application to a speed control circuit. An advantage gained with the direct command method is fine control of speed. A frequent requirement recently in numerically controlled machine tools is that the spindle be stoppable at any angular position with great accuracy.When milling, drilling or tapping a workpiece at a predetermined angular position thereon by means of a lathe or turning center, for example, it is necessary to bring the spindle to rest at the predetermined angular position. Fig. 1 is a view showing screw holes 2a, 2b, 2c, 2d, a keyway 3 and holes 4a, 4b formed in a turned workpiece 1 at predetermined angular positions. These screw holes, keyway and other holes may be machined in the following manner, which serves as an example only.First, the workpiece 1, held in a chuck which is not shown, is driven by a spindle drive motor and brought to a predetermined angular position, whereby the position on the body of the workpiece at which the workpiece is to be machined is faced toward a rotary tool, after which the tool is driven into rotation to machine, say, a screw hole. Thus, in a numerically controlled machine tool, it is required that the spindle be stopped, with great accuracy, at any angular position in line with the particular goal. In the prior art, the foregoing is achieved by providing separate systems for controlling spindle speed and position, whereby spindle speed and position are controlled independently. Alternatively, an already existing spindle speed control system is supplemented with a structurally complex control unit, provided externally of the NC, for stopping the spindle at a predetermined position. Accordingly, the conventional methods are attended by such disadvantages as a need for considerable hardware, as well as complex and costly circuitry and a complicated control operation. The object of the present invention, therefore, is to provide a numerical control device which, through a very simple method and very little additional hardware or only slight alteration of NC software, enables both the speed and position of a spindle to be controlled.Disclosure of the Invention According to the present invention, in an NC equipped with spindle speed direct command means for commanding the rotational speed of a spindle directly, and sensing means for sensing the actual angular position of the spindle, the NC, which controls the speed of the spindle by the direct command, is merely provided with a register for storing the actual angular position of the spindle, an arithmetic circuit for computing a positional offset, and a switching circuit, so that a loop can be formed for controlling both the rotational speed and the angular position of the spindle.Brief Description of the Drawings Fig. 1 is an explanatory view for explaining the necessity of controlling the position of a spindle, andFig. 2 is a circuit block diagram of the present invention.Best Mode for Carrying Out the Invention Fig. 2 is a circuit block diagram illustrating an embodiment of the present invention. In Fig. 2, numeral 11 denotes an NC which includes a command unitIla for producing a speed command VCMD issued directly on the basis of a digital value of four digits which follow the letter S, as well as a spindle position command SPC, a register PER for storing the actual angular position of a spindle by counting up or counting down, in accordance with the direction of rotation, position pulses PP each of which is generated whenever a pulse coder, described below, rotates by a predetermined amount, an arithmetic circuit llc for producing, in digital form, a positional offset PER between a commanded angular position for the spindle and the actual angular position of the spindle, a switching circuit lld for switching between and delivering, in accordance with a speed control mode or position control mode, either the speed command VCMD or the positional offset PER a digital value produced by the command unit Ila, respectively, and a DA converter lle. Numeral 12 denotes a speed command circuit which incorporates a phase compensating circuit, a voltage phase converter, and a thyristor circuit, these not being illustrated in the drawings. Numeral 13 denotes an adding subtracting circuit which, in speed control, produces a differential voltage speed deviation between the speed command VCMD and an actual speed voltage TSA and, in position control, produces a differential voltage between the positional offset PER and the actual speed voltage TSA. Numeral 14 designates a DC motor, and 15 a tachogenerator for generating the actual speed voltage in accordance with the rotational speed of the DC motor 14.Numeral 16 denotes a gear box, 17 a spindle, 18 a workpiece, 19 gears, and 20 a pulse coder such as a position coder for generating a position pulse PP each time the spindle rotates by a predetermined amount, as well as a one revolution signal not shown each time the spindle makes one full revolution. In the speed control mode, the switching circuit lid delivers the speed command VCMD to the DA converter lie. The latter converts the speed command VCMD into an analog value and applies it to the arithmetic circuit 13 which, upon computing the difference between the speed command VCMD and the actual speed voltageTSA, delivers the difference to the speed control circuit 12. The speed control circuit 12 executes speed control in such fashion that the speed deviation approaches zero, thereby rotating the spindle 17 at the commanded speed. As the spindle rotates, the pulse coder 20 produces the position pulses PP and the one revolution pulses. These enter a pulse distributor of a feed motor and, in a thread cutting machining operation or the like, are employed in rotating the feed motor in synchronism with the spindle.It should be noted that the command unit lia, DA converter lie, speed control circuit 12, adding subtracting circuit 13, DC motor 14, tachogenerator 15 and pulse coder 20 are components already possessed by the prior art to control the speed of a spindle by direct command. In the position control mode, on the other hand, the command unit ila issues the spindle position command SPC. The register lib, it should be noted, is constantly registering the actual position AP of the spindle by reversibly counting, in accordance with the direction of spindle rotation, the position pulses PP generated by the pulse coder 20. The arithmetic circuit lic computes the positional offset PER between the spindle position command SPC and the actual angular position AP and delivers the positional offset PER to the DA converter lie through the switching circuit lid. The DA converter lie converts the positional deviationPER into an analog value which it delivers to the adding subtracting circuit 13. The latter computes the difference between the positional offset and the actual speed voltage TSA and applies it to the speed control circuit 12, which controls the rotation of the spindle 17 in such a fashion that the difference approaches zero, with the spindle being brought to a stop at the commanded position. In accordance with the present invention, a position control loop can be formed merely by providing an NC, adapted to control the speed of a spindle by a direct command composed of an S instruction and four digits, with the register lib for storing the actual angular position, the arithmetic circuit lic for computing the positional offset, and the switching circuit lid, making it possible to control both the speed and position of the spindle through a simple arrangement. In other words, both speed and position control are made possible through the addition of very little hardware. Furthermore, if the NC has the construction of a computer, including a processor, a control program memory and a data memory, then the arithmetic circuit, switching circuit and register need not be specially provided. Instead, control of both the spindle speed and position can be achieved merely by a slight modification of the control program. In view of the fact that the position control system for a table, tool or the like, driven by a feed motor, is entirely the same as the above described position control system for a spindle, the creation of very little software will enable control of both speed and position.Industrial Applicability The present invention provides a numerical control device which, through a very simple method and very little additional hardware or only slight alteration ofNC software, enables both the speed and position of a spindle to be controlled. The invention therefore has a high degree of industrial applicability as it permits numerical control to be executed quickly and accurately.