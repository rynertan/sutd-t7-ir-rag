# An apparatus for waveform and envelope generation in an electronic musical instrument.

## Abstract
An electronic musical instrument includes a waveform and envelope generation circuit comprising means 98 for producing a keying signal for triggering a desired musical waveform and envelope generator means responsive to the keying signal for producing an output 128 of an envelope waveform, the envelope generator means having an input connected to the keying signal and an output, and change pump means 114, 122 for incrementally transferring vol tage on the input to the output under the control of a first clocking signal connected to the envelope generator means. The waveform and envelope generation circuit also includes a tone generator means 168 having an input operatively connected to the envelope generator means output and responsive to the envelope waveform for producing on a further output 164 a musical waveform having an envelope following the envelope waveform, the tone generator means comprising charge pump means for repetitively and in crementally generating a complete cycle of the musical waveform under the control of the second clocking signal. The instrument is arranged so that each cycle of the musical waveform has its amplitude determined by the envelope waveform. Thus, in this waveform synthesis system both the waveform amplitude envelope and the waveform itself are generated using a switched capacitor technique. This per mits the entire circuit to be completely integrated with the pulse or DC level keying signal being connected to a control input and one or more clocking inputs for driving the switched capacitor filters.