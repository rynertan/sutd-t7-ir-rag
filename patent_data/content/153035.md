# Flow control apparatus for liquid delivery system.

## Abstract
A host processor 1A stores a preset delay time data T , corresponding to the time taken from the initiation of a delivery operation for liquid to start being delivered from a delivery nozzle 28 . During delivery,the amount of liquid delivered is measured by a sub processor 1B using flow rate pulses. When a delivery nozzle 28 is activated, it sends a signal to the sub processor 1B . The sub processor then obtains the preset delay time data T from the host processor and does not count flow rate pulses during the delay time. This improves the sub processor s measurement of the liquid delivery, since it avoids incorrectly treating delivery as occurring before liquid has reached the nozzle.

## Claims
CLAIMS 1. A flow rate measurement control device for the refuel control system, which is capable of inhibiting counting operations against the flow rate pulses during the initial period of a refuel operation in conjunction with a specific time data T stored in memory 34 comprising a refuel unit 2 a flow rate pulse generator 27 incorporated in the refuel unit 2 the memory 34 for storing the presetable time data and a counter for counting the flow rate pulses generated by the flow rate pulse generator 27 . 2. Flow control apparatus for a liquid delivering system, in which flow is measured during liquid delivery by use of pulses generated by a pulse generator 27 characterised in that following the initiation of a liquid delivery operation the said pulses are ignored in the flow measurement for a preset period. 3. Flow control apparatus according to claim 2 which has means for altering the said preset period. 4. Flow control apparatus according to claim 2 or claim 3 in which the said measurement of flow is carried out by data processing means 1 , the said preset period being stored in a memory of the data processing means 1 . 5. Flow control apparatus according to claim 4 in which the said data processing means 1 comprises a control processor 1A and an operation processor 1B , the said preset period being stored in a memory 34 of the control processor 1A , the operation processor 1B obtaining the value of the preset period from the control processor 1A on initiation of a liquid delivery operation and receiving the said pulses during the liquid delivery operation, the operation processor 1B counting said pulses received by it after the expiry of the preset period.

## Description
Title of the Invention FLOW CONTROL APPARATUS FOR LIQUID DELIVERY SYSTEM Background of the InventionThe present invention relates to an improved method of the flow rate measurement control available for the POS system or refuel control system of the gasoline service station.Conventionally, there are two methods of the flow rate control being applied to the refuel control system including 1 method of directly controlling the motor of the refuel unit7 and 2 method of controlling the flow rate.Of these, the latter method can improve accuracy of the refuelling operation. Conversely, this method involves complex configuration of the refuelling units, thus increasing cost.To solve these problems, some of the prior arts had already proposed such techniques based on the former method that could simplify the overall construction and saves cost as well. Typically, one of the prior arts based on the former method had proposed such a system described below. For example, when installing a new refuelling unit, a specific volume about 7 liters of gasoline is discharged to preliminarily determine the actual difference of the flow rate to be made available for the reference of the flow rate difference caused by the inertia of the pump motor so that this data can be preset in memory of the control unit.In the actual refuelling operation, the system causes the pump motor to stop upon arrival at the value produced by the subtractioin of the difference value from the designated refuel volume Q, thus properly controlling the refuel operation. Nevertheless, even after introducing such a new control method7 since the refuelling units themselves were subjected to the degradation of performance characteristics and varying environmental conditions, even when applying the pre determined difference value d to the refuelling operation, actually, a significant difference still occurred. When refuelling still less volume of gasoline, for example, less than 7 liters, the difference actually tends to increase furthermore.In the light of such a difficult problem to solve, the applicant related to the present invention had already proposed a special refuel control system in the Japanese Patent LaidOpen No. 204895 of 1982, which aimed at a high precision refuel control by minimizing the difference of the control value. The refuel control system previously proposed by the applicant related to the present invention was designed to securely minimize the difference value t in its practical applications by considering possible degradation of the mechanical characteristics and variable environmental conditions.More particularly, by presetting the mean value of the difference d detected during the previously done refuelling operations covering the last several rounds, the refuel control system automatically corrects the difference value so that the actual difference value can be obtained in response to those varying conditions. However, it was eventually found that even when applying such the control system proposed by the applicant, it was very hard to precisely correct the difference generated during the initial stage of the refuelling operation.In other words, when the pump motor had turned on at the start of the refuel operation, while no gasoline was actually fed through the nozzle, being affected by the varied pressure inside the refuel pipe, a number of unnecessary flow rate measuring pulses were generated by the flow rate pulse generator, and as a result, an unexpected difference value suddenly appeared during the refuelling operation. Object and Summary of the InventionIn the light of such unwanted discrepancies that still remain unsolved today, the present invention aims at providing a new flow rate measurement control device ideally suited for the refuel control system, which can completely eliminate such discrepancies thus far exist.To achieve this, the new flow rate measurement control device effective for the refuel control system provides a variety of unique means including means for generating the flow rate pulses provided for the refuel units, memory for storing such a data related to time, and means for counting the flow rate pulses. Using these, the preferred embodiment of the present invention inhibits the counting operation of the flow rate pulse counter for a specific period of time immediately after the start of the refuelling operation so that no counting can be performed against any of the unnecessary flow rate pulses immediately after the pump motor turns ON.The preferred embodiment provides such unique control means, i.e., based on the nozzle signal from the refuel units, the controller first causes the sub CPU to read the non measurement time data preset in the hostCPU, and then inhibits the counting of the flow rate pulses output from the refuel units for a specific period of time in conjunction with the time data read by the sub CPU. In addition, such the non measurement time data can be variably set by using input means of the host CPU. Brief Description of the DrawingsFig. 1 is a simplified block diagram of the refuel control system reflecting the preferred embodiment of the present invention Fig. 2 is the detailed schematic diagram of the refuel control system shown in Fig. 1 andFig. 3 is the flowchart describing stepwise operations of the flow rate measurement control system reflecting the preferred embodiment of the present invention. Detailed Description of the Preferred EmbodimentsReferring now to the attached drawings, the preferred embodiments of the present invention are described below.Fig. 1 is a simplified block diagram of the refuel control system reflecting the preferred embodiment of the present invention. In Fig. 1, reference number 1 indicates the refuel control unit POS incorporating the controller 1A for processing data and the other controller 1B controlling the entire operations of the refuel units. Reflecting the preferred embodiments, the controller IA is internally provided with a memory area storing the data related to the non measurement time against unnecessary flow rate pulses. Reference numbers 2A through 2N respectively indicate the refuel units7 each being connected to the controller 1 via the signal cables 3, while the operations of these refuel units are controlled by the controller 1B. Each of these refuel units incorporates a pump motor M so that the designated volume of gasoline can be supplied to consumers by driving this motor. Reference number 4 indicates the externally provided I O units connected to the refuel controller POS 1. Fig. 2 is the detailed schematic diagram showingRthe relationship between the data processing controller 1A host unit , the refuel controller 1B subordinate unit , and respective refuel units. In Fig. 2, the controller lB incorporates the sub CPU 21, ROM 22 storing the control programs, RAM 23 storing various data, the motor driver 24, the flow rate pulse receiver 25, and the nozzle signal receiver 26, are respectively connected to the refuel units 2.The motor driver 24 drives the motorM of the refuel unit 2 in response to the command from the sub CPU 21. The flow rate pulse receiver 25 receives the pulse signals corresponding to the refueled volume generated by the flow rate pulse generator 27, and then delivers these data to the sub CPU 21. Likewise, the nozzle signal receiver 26 receives such signals generated in response to the manual opening and closing of the valve of the refuel nozzle 28 of the refuel unit done by the operator, and then delivers these data to the sub CPU 21. The controller 1A is provided with the keyboard unit 32 that inputs a variety of trade data, the host CPU 31 that processes a variety of data received from the keyboard 32 in accordance with programs stored inROM 33, RAM 34 that stores a variety of data processed by the host CPU 31, and a printer that prints and records a variety of the processed data.RAM 34 is provided with a memory area t that stores the non measurement time data in conjunction with unnecessary flow rate pulses.Next, referring now to Fig. 3 a and b , the refuel control operations according to the preferred embodiment of the present invention are described below. Fig. 3 a and b are respectively the flowcharts concretely describing the operations of the refuel control system embodied by the present invention. First, referring to the flowchart of Fig. 3 a , method related to the entry of the nonmeasurement time data is described below. 1 Method of presetting the non measurement time data a First, by operating the keyboard 32 of the controller 1A, the controller operator inputs a non measurement time dataT denoting such a period until gasoline actually reaches the nozzle 28 after activating the pump motor M, 0.8 second for example into memory area t of RAM 34 via the hostCPU 31 steps nl and n2 . It is ideal to preset the nonmeasurement time data T at 100 meters per second of the flow rate, within a range from 0.5 through a maximum of 1.0 second. When entering the non measurement time data T, a variety of conventional data including the unit prices of petroleum products can also be input into a specific area of RAM 34. Next, referring to the flowchart of Fig. 3 b , method of measuring the actual flow rate of gasoline is described below. 2 Method of measuring flow rat e b When the refuel operator activates the nozzle 28 of the refuel unit, the signal activated by the nozzle 28 is transmitted to the sub CPU 21 through the muzzle sisal receiver 26, thus allowing the sub CPU 21 to identify the nozzle activated signal step nll . The sub CPU 21 then advises the host CPU 31 that the nozzle 28 has been activated. On receipt of this advising signal, the host CPU 31 reads the non measurement time data T from memory area t of RAM 34, and simultaneously, the host CPU 31 also reads various data needed for this transaction froma specific area of RAM 34 for delivery to the sub CPU 21.After receiving the non measurement time data T and other needed data step n12 , the sub CPU 21 then activates the pump motor M via the motor driver 24 step n13 to allow the refuel operation to start up. Simultaneously, the subCPU 21 counts the elapsing time after the activation of the pump motor M. The sub CPU 21 receives the flow rate pulses from the refuel unit 2 through the flow rate pulse receiver 25 and identifies it step n14 . The sub CPU 21 doesn t immediately count the incoming flow rate pulses, but it starts to count these pulses as the measurable data only after the time elapsed from the activation of the pump motor M has just reached the non measurement timeT steps n15 and n16 . After completing the designated refuel operation by repeating the above procedures, the nozzle 28 is closed.When this state is identified by the sub CPU 21 step n17 , the sub CPU 21 then delivers the measurement data to the host CPU 31, and as a result, the host CPU 31 starts to execute all the needed operations to complete this transaction step n18 .These serial operations are performed in each refuel operation. The refuel control system incorporating the preferred embodiment of the present invention inhibits the flow rate pulse counting operation only for a specific period of time z immediately after the activation of the pump motor M.Alternatively, as shown in Fig. 3 c , another preferred embodiment inhibits the flow rate pulse counting operation either by inhibitting the sub CPU 21 to detect the incoming flow rate pulses until the elapsed time t reaches the non measurement time T after activation of the pump motorM or by inhibitting the input of the flow rate pulses into the sub CPU 21, thus substantially disabling the flow rate pulse counting until the time elapsed from the activation of the pump motor M exactly reaches the non measurement time T steps n21 through n24 . As a result, the non measurement time data T stored in the host CPU in reference to the nozzle signal from the refuel unit is read by the subCPU 21, thus it is possible to securely inhibit the counting of the flow rate pulses sent from the refuel unit in conjunction with thenon measurement time data T, and as a result, undesired counting of the unnecessary pulses at the time of activating the pump motor M can be effectively prevented.As is clear from the above detailed description, since the preferred embodiments of the present invention effectively inhibit the counting operation of the flow rate pulses for a specific period of time at the initial stage of the refuel operation, unwanted counting of unnecessary flow rate pulses during the refuel operation can be securely prevented, thus realizing a highly accurate measurement of the refueled volume throughout routine services.