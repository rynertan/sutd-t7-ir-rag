# TOUCH OPERATED KEYBOARD

## Claims
Durch Berührung betätigbare Tasteinrichtung mit einer eine Vielzahl von Tastfeldern aufweisenden Tastatur 10 Mittel zum Befestigen der Tastatur an einer Glasplatte zur Betätigung durch das Glas Mitteln 20, 24 zum Darstellen von Daten und zum Steuern von über die Tastatur ausgewählten Arbeitsschritten, wobei die Einrichtung Mittel zum Abfragen 66, 68, 70, 72 aufweist, die mit der Tastatur verbunden sind, um Ausgangssignale von einem oder mehreren Tastfeldern aufzunehmen und zu verarbeiten, wobei die Mittel zum Abfragen eine Vielzahl von Signalverarbeitungskreisen 150, 152, 154, 156 zur Aufnahme eines entsprechenden Signals von einem entsprechenden Tastfeld 80, 82, 84 aufweisen eine Schwellenschaltung 162 , die zum Empfang entsprechender Signale von den verschiedenen Tastfeldern 80, 82, 84 verbunden ist und bei Betätigung einen Schwellwert erzeugt eine erste Vergleichseinrichtung 160 zum Vergleich des Ausgangs eines entsprechenden Signalverarbeitungskreises 150, 152, 154, 156 des Tastfelds, welches mit dem Schwellwert abgefragt wurde, um als Ergebnis des Vergleichs festzulegen, ob das abgefrage Tastfeld berührt worden ist die Einrichtung ist dadurch gekennzeichnet, daß jeder Signalverarbeitungskreis 150, 152, 154, 156 eine zweite Vergleichseinrichtung 172 aufweist, die bei Betätigung das Ausgangssignal von einem entsprechenden Tastfeld 80 mit einem entsprechenden driftkompensierten Signal vergleicht, wobei die zweite Vergleichseinrichtung 172 ein erstes Differenzsignal abhängig von einem Wechsel der Signalhöhe eines Tastfelds relativ zu dem driftkompensierten Signal erzeugt die Mittel zum Anfragen 66, 68, 70, 72 weisen weiterhin Mittel zum Erzeugen einer durchschnittlichen Änderung 180, 182 zum Summieren der ersten Differenzsignale on allen Signalverarbeitungskreisen und zum Bereitstellen eines durchschnittlichen Änderungssignals auf, wobei das driftkompensierte Signal für jeden Signalverarbeitungskreis durch Integration der Differenz zwischen dem ersten Differenzsignal für den entsprechenden Signalverarbeitungskreis und dem durchschnittlichen Änderungssignal gewonnen wird, wobei das driftkompensierte Signal graduell dem Ausgangssignal von einem entsprechenden Tastfeld empfangen über einen entsprechenden Signalverarbeitungskreis folgt, das Ausgangssignal eines entsprechenden Signalverarbeitungskreises durch das Ausgangssignal der zweiten Vergleichseinrichtung 172 bereitgestellt wird, die Schwellenschaltung 162 Mittel 174, 176 zum Summieren der Signale von entsprechenden Tastfeldern und zum Bestimmen eines Werts, der proportional zu der durchschnittlichen Signalhöhe mindestens eines Teils der Tastatur ist, und Mittel 188 zum Bestimmen einer Hintergrundschwelle, die auf diesem Wert proportional zu der Signalhöhe basiert, um unterschiedliche Glasdicken zu kompensieren, dieser Schwellwert, der von der ersten Vergleichseinrichtung 160 benutzt wird, von der Summation der Hintergrundschwelle und dem durchschnittlichen Änderungssignal abgeleitet wird, und die Tasteinrichtung ausgebildet ist, um automatisch Änderungen in der Umgebung, in der die Tastatur angeordnet ist, zu kompensieren und um verschiedene Glasdicken zu kompensieren, so daß ein hoher Empfindlichkeitsgrad mit minimalen Fehlern aufrechterhalten wird, wenn sie einem weiten Bereich sich langsam und schnell ändernder Umweltfaktoren unterworfen wird.

## Description
The present invention relates to touch operated keyboards and more particularly to touch operated keyboards which may be operated through an unknown thickness of glass. In this specification the term glass is used since the keyboard will normally be operated through clear glass. The term glass is however to be interpreted to include any insulating material whether clear or opaque. With an opaque insulating material it is normally necessary to have an external faceplate to identify the touch area for each key. In other respects the problems of coping with various thicknesses of glass are the same whether it is clear or opaque. GB Patent Application No. 2011089 equivalent to U.S. 4145748 and DE. 2854539 shows a touch pad sensor circuit which is self optimising. In this system the pads are addressed by respective drive pulses to give output values, the previous no touch value of each pad being stored in a memory for comparison with each new value. Thus only when the new value exceeds the old by a predetermined amount will the circuitry decide that a key has been operated. This system suffers from the disadvantage that if a large capacitive object suddenly comes close to all the keys then the decision logic circuitry will conclude that all keys have been operated. Additionally the system is not sensitive enough to operate through very thick glass as found in shop windows because the thick glass produces only a small capacitive change when touched. Thus whilst this known system is acceptable in a home environment on for example kitchen ranges see page 1 lines 8 14 it is not practical for shop windows where the glass is thicker and where large capacitive disturbances are possible. U.S. patent no. 4 145 748 discloses a touch sensitive keypad in which the no touch value is memorised and is updated periodically, by a count of only one at most, if the updated no touch value differs from the no touch value in the memory. G.B. Patent No. 2,080,990 discloses a touch terminal apparatus for use with a display screen, the terminal apparatus identifying which one of a plurality of keypad elements mounted on a display screen is being touched by the duration of pulse signals which vary with the touch selection condition of the keypad elements. Reference values are used and these are periodically updated to reflect changes in the condition of the keypads. It is an object of the present invention to provide a touch operated keyboard which is suitable for operation through window glass of the type and thickness found in shop windows and which is relatively insensitive to large capacitive disturbances affecting the whole or a substantial part of the keyboard. According to the present invention, there is provided a touch operated key apparatus characterised in claim 1. In a preferred embodiment a touch operated keyboard is attached to the one side of a sheet of glass for actuation through the sheet of glass, the keyboard comprising a plurality of keypads disposed adjacent each other in a desired pattern, interrogation means for interrogating each keypad to assess the present condition of each keypad and including signal processing means connected to receive the output of each keypad, the signal processing means including common processing means for two or more of the keypads. In a preferred embodiment the common processing means is connected to the outputs of all keypads on the touch operated keyboard. In a further embodiment one or more of the keypads may be used for comparison purposes only and is not an operative keypad. In such a case there is no need for the keypad used for comparison to be visible to the user. Preferably the output signal from each keypad is in the form of a value of capacitance, which value changes in accordance with a number of extraneous factors and due to a factor which it is desired to detect which is produced by a finger or similar object being placed in proximity to a keypad on the opposite side of the glass to the keyboard. The signal processing means preferably includes means for detecting changes at one or more of the keypads due to the extraneous factors and means for comparing the changes with the signal received from an interrogated keypad to determine the presence of a finger or similar object. The object which touches the opposite side of the glass to the keypad will be referred to hereinafter as a finger. It could be any object that would cause an increase in the capacitance of the keypad. Additionally the finger would not necessarily have to touch the glass but could be held extremely close to the glass to achieve the same effect. Thus also for the purpose of the present invention touch is meant to indicate holding in close proximity. It is for this reason that the other extraneous factors are relevant because when one finger of a hand is touching the glass the other fingers will be close to other keys and will have an effect on those keys. The capacitance generated by the touching finger through relatively thick window glass is extremely small and its detection in the presence of other extraneous effects is difficult. The most important extraneous effects are caused by large capacitive effects over several keys as with the close presence of a hand, the peeling off of part of the keyboard from the inside of the glass thus decreasing the contact between certain keypads and the glass rendering those keys relatively less sensitive sunlight or other temperature deviations causing changes in the glass characteristics and in the characteristics of the electronic circuitry, rain on the outside of the window causing greater coupling between keypads and other more minor effects caused for example by wind, dust, grease, humidity, etc. The present invention therefore incorporates a number of design features to compensate for the results of the above superimposed extraneous effects. In particular in a preferred embodiment the processing circuitry includes drift compensation means for compensating for relatively long term drifting of the output of one or more keys relative to an average value for all keys, the drift compensation means providing an adjustment for each key drifting from the average value to adjust the output of the key when in a non operated condition towards the average value. Embodiments of the present invention will now be described, by way of example with reference to the accompanying drawings, in which With reference now to Figure 1 the touch operated keyboard system includes a keyboard assembly 10 comprising a sensor pad 12 and interface circuitry 14 mounted on a glass insulator surface 16. Output signals from circuitry 14 are transmitted on a link 18 to a computer 20 via an interface 22. The computer may control and or receive instructions from a variety of apparatus such as a visual display unit VDU 24 an industrial control 25 a modem 26 for communication with a general computer network, for example via a telephone link a video tape or disc recorder 28 a mass storage e.g. fixed disc apparatus 30 and a remote computer 32 which could for example control a further visual display not shown at the remote location. The industrial control could be an electro mechanical device for control of an industrial process or could be a robot or projector for operation in a shop window. With reference now to Figure 2 a known keyboard sensing system is shown. Each pad 42, 44, 46 etc is connected to a decision circuit 48 which receives the outputs from the pads via respective capacitance transducers 50, 52, 54 and on the basis of a change in capacitance provides an output on line 56 indicative of the key touched by a finger 58. A first disadvantage of this design is that the decision circuit needs to be built into the keyboard. If not then a large number of connections will be required between the decision circuit and each capacitive transducer. Thus for a 4 x 3 keyboard at least twelve leads would be required. Another disadvantage is reduced sensitivity owing to differences between the capacitive transducers caused by component tolerance and different responses caused by changing environmental conditions. A further disadvantage is the large number of components required on the keyboard. In the arrangement according to the present invention the keyboard includes keypads 60, 62, 64 etc connected via an analogue multiplexer 66 to a single capacitance transducer 68 from which a single wire 70 is connected to a decision circuit 72. The decision circuit 72 controls the position of the analogue multiplexer 66. Thus the capacitance transducer is common to all keypads and therefore no errors are introduced through mismatching of the capactive transducers 50, 52, 54 as in Figure 2. Additionally since only a single wire is connected to decision circuit 72 the decision circuit can, with a suitable choice of output signals from capacitive transducer 68, be a considerable distance from the transducer 68. Thus the circuitry in the keyboard interface 14 can be relatively simple since it does not require that the decision making process is carried out in close proximity. With reference to Figures 4 and 5 a suitable design of keyboard according to the present invention is shown. A plurality of pads 80, 82, 84, 86, 88 and 90 of electrically conductive thin material are shown for explanation. The number of pads may be increased or decreased to suit the individual requirement. For example a 4 x 3 array may be provided or a full keyboard of 64 or more characters. The pads 80 etc are attached to a base plate 92 and on the opposite side of the base plate 92 is an artwork film 94. The artwork can identify the keypads by number or by other function as desired for each purpose. It is therefore interchangeable and can be used for reducing the number of keys seen by the user by blanking the surplus keys on a standard keyboard. The keypads not seen by the user may be used for drift compensation as described hereinafter or may be disconnected. The artwork is fixed, preferably by glueing to the glass 16. Connection pads 96 are provided for output connection to analogue multiplexer 66. A guard track 98 is provided on the keyboard 12 to reduce coupling between pads. This guard track 98 may be connected to earth as shown in Figure 5. Alternatively the keyboard could be made by lightly metalising transparent plastic or glass so that each keypad or the whole keyboard will be transparent. This enables the keyboard to be back lit or enables the user to see through the keyboard to a display mounted for example on the back of the keyboard. This display could be an LCD or other type of display enabling the keyboard to present information, or to ask questions of the user or to display areas to be touched, which areas may be readily changed. This technique can be used in a self contained access unit keyboard for a computer which would operate on touch with no mechanical movement required. For this embodiment the keyboard shown in figures 4 and 5 would be modified, since the artwork 94 would not be necessary. The increased sensitivity and freedom from error of the present system enables the common electronic circuitry 14 to be sited remotely from the sensing pads i.e. not directly on the back of the pads . In a practical embodiment the circuitry 66, etc. may be eight inches or more from the individual keypads. This enables the above described transparent display to be achieved. In an alternative embodiment, the keyboard may also be used as an X Y position indicator. If the guard rail 98 is omitted, then greater coupling will occur between pads. If a finger is placed on a keypad an output will occur and be detected as above, but if the finger is moved to a position between pads, then two or more pads will give detectable outputs. This may be used to track the position of a finger anywhere on the keyboard. By use of suitable known processing circuitry the position of the finger may be displayed on a screen as a cursor. An intermediate finger position between keypads can be used to indicate a separate function if desired. Thus, more functions may be provided than there are keypads on the keyboard. It should be noted that it may be valid for more than one key to be touched at one time. For example for a specific function one key may be continuously touched whilst touching a variety of other keys in a similar manner to a shift key on a typewriter. In an alternative arrangement, one set of lines for example 0 to 3 may be connected to rows of keypads and the remainder 4 to 7 to columns giving a matrix arrangement. By multiplexing the inputs the number of keypads may be greatly increased a sixty four keypad array would require only sixteen 8 8 lines, thus allowing large numbers of keys without a substantial increase in the common circuitry. Detection could be obtained for example by looking for a maximum row reading and then for a maximum column reading, thereby identifying the intersection giving the identity of the touched key. With reference now to Figure 6, each keypad 80 etc is connected to a respective contact of analogue multiplexer 66. The multiplexer 66 is preferably an integrated circuit with semiconductor switch connections operative to connect in sequential order each of the input contacts to the common switch contact 100 under the control of an indexing counter 102. The indexing counter is clocked by a remote clock, on wire 104, obtained by counting down a fast clock in a counter 105 see Figure 9 from interface 22 Figure 1 . The total number of wires in lead 18 from interface 22 is five comprising clock wire 104 reset wire 106, power wires 108, 110 and output data wire 112. The positive lead 108 can be eliminated by using the wires 104, 106 to provide power for charging a capacitor not shown in the keyboard interface 14 for powering the interface. If more wires are allowable in lead 18 then counter 102 could be eliminated, three wires being used for direct access to eight keypad inputs, four wires for sixteen keypad inputs, etc. The reset pulse is used to reset the analogue multiplexer at set intervals to ensure correct synchronism between the multiplexer 66 and the computer interface 22 and hence computer 20. The output of multiplexer 66 is fed to the control input of a capacitance controlled oscillator 114, the output of which is connected to a divide by N circuit 116 which provides the data output on wire 112. The reset pulse on line 106 resets divider 116 and inhibits operation of oscillator 114 as described hereinafter with reference to Figure 8. With reference now to Figure 7 the computer interface circuitry 22 comprises an R S flip flop 120 the set input of which is connected to data line 112 and the reset input of which is connected to reset line 106 so that the R S flip flop is reset at the same time as the divider 116. The Q output of flip flop 120 is fed to one input of an OR gate 122 and to an interrupt input 124 of the computer 20. The other input of OR gate 122 is connected to the reset line 106. The output of OR gate 122 is used as an inhibit input to a fixed frequency oscillator 126 the output of which is fed to the clock input of a counter 128 which is also reset by the reset pulses on line 106. The count output of counter 128 is fed to the computer input output port. The operation of the circuitry of Figures 6 and 7 may be seen from the timing diagrams of Figure 8. The computer continuously scans all keys and repeats the operation as shown in Figure 8a. Scan operation M is shown in greater detail in Figures 8b to 8f. In each scan cycle a synchronising operation commences the cycle, followed sequentially by the reading of all desired keys in the order in which they are connected to analogue multiplexer 66. In this case keys O to N are read in order. In the first portion of each read sequence see Figures 8c f the clock and reset pulses are present simultaneously thus resetting counter 102 and hence analogue multiplexer 66 to its zero position and inhibiting oscillator 114 for the period of time that the reset pulse is present. At the end of the reset pulse oscillator 114 commences to run at a frequency determined by the capacitance seen on the common contact 100 of multiplexer 66. This capacitance will be that of the key pad O and also stray capacitances of leads and multiplexer 66. The latter stray and multiplexer capacitances will be substantially common assuming that the leads between multiplexer 66 and each pad 80 etc are substantially of the same length and that the guard track 98 reduces spurious effects on individual tracks. Thus the oscillator frequency will depend on the capacitance of each keypad. The output of oscillator 114 is connected to a divide by N circuit 116 which is turned on by the falling edge of the reset pulse and counts down from a predetermined setting the oscillations from oscillator 114. The output of divider circuit 116 is at zero volts until the count reaches zero or a predetermined number when the output switches to a positive voltage. At this time T₀ for pad O a positive step is sent down line 112. Thus the interval T₀ indicates the frequency of operation of oscillator 114 averaged over the period T₀. After an interval long enough to ensure that the signal has been sent for all reasonably expected values of capacitance a further clock pulse is sent to clock counter 102 by one step thus causing analogue multiplexer 66 to step on one position thus connecting the next keypad to common contact 100. The next reset pulse does not overlap with this clock pulse and therefore counter 102 is not reset to zero because AND gate 101 does not give any output pulse. At the end of the reset pulse divider counter 116 commences to count the output cycles from oscillator 114 and when it has reached zero or a predetermined count after time T₁ a positive voltage step is sent down data line 112. This process is repeated see Figure 8f for all N keys and then the cycle is recommenced by sending a reset and clock pulse simultaneously. The timing of the pulse sequences can be by a specially designed clock pulse generator not shown in the computer interface 22 or by a simple timed control program in computer 20. Thus after each reset pulse a time interval T₀, T₁ etc is determined before a positive pulse is sent to flip flop 120 Figure 7 respective time intervals being proportional to the capacitance of each respective keypad. As the pulse sent is a positive step rather than a series of very rapid pulses it is not susceptible to interference on line 18 as would be the case if the output of oscillator 114 were transmitted over the cable link 18. The flip flop 120 is reset by each reset pulse and set by the positive going edge of the data pulse on line 112. Thus OR gate 122 will inhibit the fixed frequency oscillator at the time of the positive edge of the data pulse, the oscillator having commenced at the falling edge of the reset pulse. The output of oscillator 126 is counted by counter 128 which therefore gives a very accurate digital read out proportional to the times T₀, T₁ etc. This read out is transferable as a parallel operation into the computer or other decision circuitry. With reference now to Figure 9, the decision circuitry is shown for an analogue decision logic circuit. In this circuit the counter 128 output of Figure 7 is fed to a D to A converter 139, the output of which is connected to an analogue multiplexer 140 which is synchronised to the analogue multiplexer 66. The output of the D to A converter may be stored in respective sample and hold circuits 142, 144, 146, 150. Thus each sample and hold circuit 142 etc will hold at the end of each scan sequence an analogue value proportional to the capacitance of its respective keypad. The output of each sample and hold circuit is connected to a respective signal processing circuit 150, 152, 154, 156 the outputs of which are connected to a maximum signal detector circuit 160. The signal processing circuits 150 ... 156 are modified in operation by a threshold and drift circuit 162 the operation of which will be described with reference to Figure 10. The maximum signal detection circuit 160 operates in known manner to select the highest input signal and to indicate on its output the keypads which give the largest response. If no keypad response is higher than a certain threshold set by the threshold and drift compensation circuit 162 then no output is given by detector 160 indicating that no keypads have been touched. The output of detector 160 may be fed to a computer code look up table 165 which may operate the computer 20 to display on a screen 24 a display for viewing by the operator of the keypad. The display could be of the static type giving information for example on railway timetables obtained from storage 30 or it could be a video film for example for a travel agents, the film being selected by tape counter selection means set by the computer in the V.C.R. 28. The threshold and drift compensation circuit is shown in Figure 10 in which a single key is considered. The circuitry of the signal processor is duplicated for each key. The sample and hold circuitry is standard and is therefore not shown but forms the input signal on lines 143, 145 etc to each signal processor 150 etc. Each signal from a sample and hold circuit 142, 144, 146, 148 etc on lines 143, 145, 147, 149 etc is fed to the positive input of a summation circuit 172 and also to one input of an accumulator circuit 174 in the threshold and drift compensation circuit 162. The output of the accumulator 174 is fed to an attenuation by N circuit 176, the number N being chosen to be the number of keypads being sensed. As stated hereinbefore this could be a greater number than would be visible to the user, those not being visible being used as reference pads. The output on line 173 will therefore be a voltage proportional to the average of the capacitance on all keypads measured. A further value is calculated in a second summation circuit 180 and associated second attenuation by N circuit 182. The voltage output of divider 182 is proportional to the average change and is obtained by adding together the outputs of summation circuit 172 and its counterparts not shown . Since the output of comparator circuit 172 is proportional to the difference between the latest scan reading and the previous scan readings then this value represents the change in capacitance. This is averaged to provide on line 183 the average change value which is used in all the signal processing circuits 150, 152, 154, 156 etc as represented by arrow 184. The average change value is also combined in adder 186 with the background threshold which is a function of the average key capacitance obtained in circuit 188, to obtain the threshold value on line 163 see Figure 9 . This value is used to determine in signal detector circuit 160 which if any of the keys is being touched by comparing each output value on lines 175 etc with the threshold value on line 163. As can be seen the threshold value on line 163 will vary dependent on the condition of other keys. It is not necessary for all the keys to be used to obtain the threshold, a selection could be used particularly if a large e.g. full QWERTY keyboard were provided. The output of average change detector circuits 180, 182 is fed as an input to each signal processing circuit 150, 152, 154, 156. In circuit 150 it is connected to a negative input of a summation circuit 190. The positive input is connected to the output 175 of summation circuit 172 and therefore the output of the circuits 190 in each signal processor is the difference between the present change in capacitance for that key and the average change for all keys. The output of circuit 190 is fed via a circuit 192 which modifies the output by a factor K and an integrator 194, the output 195 of which is fed to the other input of circuit 172. The output on line 175 is the change in capacitance for that key and not the absolute value. It is obtained by subtracting the output of integrator 194 which is a voltage representative of the historical value for that key from its present value. At initialisation the integrator is given the value that is obtained during the first scan, but this value is from then on slowly modified by the capacitance difference readings on line 175 and by the drift compensation circuit. The speed of compensation is determined by factor K preset into circuit 192. Factor K is a time constant which is set long in relation to key pressing but short in relation to long term drift. Summation circuit 172 therefore compares the old value on line 195 with the new value on line 143 to produce an output value on line 175. If the key is not touched then no output will occur assuming all other conditions remain the same. With reference now to Figure 11a typical key output signals are shown for eight keys 0 7 . In a steady quiescent state with no disturbances the outputs indicated by crosses are on or about a zero level. This level will be due primarily to the capacitance of the glass. The average change at any scan will be very small and is indicated by dotted line 200. The threshold level is set by f x in circuit 188 and is shown by dotted line 202. The function f x permits the circuit to be used with different glass thicknesses. The glass thickness influences the capacitance of all keypads. The averaged absolute capacitance is the input to function f x and the output defines the background threshold i.e. how much a key capacitance must increase from the average in order to be treated as a true pressing , f x was chosen empirically such that with thin glass the change in capacitance has to be large, but for thick glass the change is small. In this way the keypads maintain a uniform sensitivity when used on glass of different thicknesses and di electric strengths. There is a readily identifiable gap between all of the outputs and this threshold level. Thus if key 3 is touched its output will rise above the threshold level 202 as shown by the dotted arrow 204 and the output will be detectable by detector 160. Figure 11b shows the effect of a common mode disturbance. The average change will be very large because all keys will change together. The threshold will also change because the background is added to the average change in circuit 186. Thus the situation is unaltered except that the average change and threshold lines 200, 202 are now considerably removed from the zero level. Touching key 3 as indicated by arrow 204 is still readily detectable. With reference to Figure 11c the effect of a differential mode disturbance is shown. In this disturbance only certain keys are affected and in this example keys 3 and 4 are assumed to be subject to a disturbance. It may be seen that the average change line 200 has hardly moved because the two large changes in keys 3 and 4 do not substantially affect the overall average of eight keys. If not corrected the circuit assumes always that keys 3 and 4 are being touched. The feedback from line 175 of the change in capacitance will however correct this after an interval determined by the factor K. Thus if the differential mode signal is not because of a genuine touching of keys 3 and 4 then this will be compensated for. If a genuine touching has occured then it is assumed that the finger or fingers will be quickly removed. With reference now to Figure 11d the effects of both common mode and differential disturbance are shown. The common mode results in shifting of line 200 and 202 as in Figure 11b and the differential mode is assumed to affect only key number six. Thus key six is assumed by the logic to have been touched. This may in fact be the case or it may be as a result of a fault condition. If the latter then the integrator 194 will provide compensation. With reference now to Figure 12a, the effects of the drifting of signals from the capacitive keys is shown. Such drift may occur with age or through the keypad gradually peeling off the glass in for example one or more areas. As may be seen from the crosses for each key the spread of values is very large so that although the average line 200 has not substantially moved the noise margin 205 between threshold line 202 and the highest reading keys numbers three and six in this example is very low. Additionally and perhaps more of a problem is that for a touch on the lowest reading key number four in this example to be detected the capacitance change would have to be approximately double the background threshold value between lines 200 and 202. This may not be possible to achieve and therefore key number four may become effectively inoperative. Also if key four is touched the proximity effect on key four assuming they are adjacent may cause key three to operate and not four. This obviously would render the keyboard absolutely useless without the compensation circuitry provided by the present invention. Figure 12b shows the effect of the drift compensation circuitry. The average line 200 and the threshold level line 202 will not substantially vary from Figure 12a but the effective error that each key has from the average value will be made smaller by the drift compensation provided by summation circuit 190 and integrator 194. In this circuit the average change value signified by line 200 is compared with the actual which for example for key three in Figure 12a is a large positive value. This value produces a positive input to integrator 194, after modification by the factor K. This in turn increases the output of integrator 194 which is subtracted from the new capacity reading on line 143 and thereby reduces the output of summation circuit 172 thus increasing the noise margin 204 as shown in Figure 12b. The effect on the probability of detection of a pressed key can be seen in Figure 12c. Without drift compensation the probability curve 206 is flat with a good chance of a mistake being made. With the inclusion of the drift compensation circuit there is found to be little chance that a key touch will be wrongly detected as shown by curve 208. With reference now to Figures 13 to 17 the signal processing may be carried out on a time division multiplex basis by using the same circuitry rather than separate signal processors for each key. To accomplish this the output capacitance signals from the keypad are converted into a digital format by counter 128 Figure 7 and are treated digitally in sequences determined by programs shown in Figures 13 to 17. With reference to Figure 13 the main program following start up goes through an initialise step and then enters a constantly repeating loop comprising three steps. Each step is described in more detail in Figures 14 to 17. In Figure 14 the initialise step comprises the steps of reading the capacitance values of all keys and replacing all the old stored key values if any with the new values. The values are stored in the sample and hold circuits 142, etc. or in a suitable memory for subsequent use. This completes the initialising routine and gives the sample and hold circuits a value for comparison with the next new key values. The key scanning routine shown in Figure 15 then commences with a start scan instruction commencing with key number zero I 0 . Each key is read and its capacitance value stored in digital form ready for comparison with the existing key value. The key number is updated by one, and if the last key has not been read then the cycle is repeated until the last key has been read. The scan key program is then complete and the next sequence shown in Figure 16 commences using the old and new key capacitance values now stored. The processing commences with a calculation of the output value for line 175 NEW OLD for each key, followed by a calculation of the average change to give the required output on line 183 or its equivalent. Then the average absolute key value is calculated as in circuit 174 and divider 176. The best background threshold level determined by f x which is readily alterable to suit different environmental and glass thickness conditions is known and the true threshold value is then calculated as in circuit 186. The new key values are compared with the old and the key or keys with the largest changes are found and compared with the threshold. If a key is detected as exceeding the threshold then a YES output is given to for example an ASC11 code converter to output ASC11 code for control of any remote function. When this has been completed, or if no keys have been detected then the drift compensation sequence is commenced as shown in Figure 17. The first key I 0 is selected and its error from the average change is calculated and then the old stored value is updated normally fractionally to compensate for drift. The next key I 1 is selected and the process continued until all keys have been updated. The program then recommences as shown in Figure 13. Thus the circuitry can be analogue or can be digital with a simple program to allow time division multiplex use of the same circuits to sequentially calculate the desired values. It is possible in such a program to use an average value of several reading during the initialisation stage thus making the system more accurate from switch on.