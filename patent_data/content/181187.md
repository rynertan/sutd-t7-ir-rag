# POWER CONVERTER APPARATUS

## Claims
Leistungsumwandlungsgerät mit einem Unterbrecher 11 , der an eine Gleichstromquelle 10 von variabler Spannung angeschlossen werden kann, einem Inverter 12 , der so angeschlossen ist, daß er die Gleichstromausgabe des Unterbrechers aufnimmt und umgewandelten Wechselstrom an einen Lastwiderstand 17 abgibt Mittel 32, 34 zur Steuerung des Betriebs des Inverters und eine Spannungs Steuerschaltung 45 zur Steuerung des Betriebs des Unterbrechers

## Description
This invention relates to power converter apparatus which utilises a DC power source having large fluctuations in voltage such as a solar battery or the like. A solar battery has voltage current characteristics and power current characteristics as shown in Figure 1 of the accompanying drawings, wherein insolation quantities are defined as parameters. In Figure 1, the voltage current characteristics are shown by solid lines and the power current characteristics are shown by dotted lines and both sets of characteristics indicate that both the current and power increase as the insolation quantity increases. As can be seen from the characteristics shown in Figure 1, a solar battery has the disadvantages that, due to its large fluctuations in voltage, power to be supplied decreases when excessive amount of current is drawn. However, it also has the feature that, although the power to be supplied varies drastically depending upon insolation quantities, the maximum voltage for various insolation quantities is maintained substantially constant. It is known from Toshiba Review Vol. 35 No. 12 1980 and Figure 4 page 1067 in particular for a power converter apparatus constituted by a chopper and an inverter to utilise a solar battery in order to supply power to a load or power system. Installation of the chopper at the DC input of the inverter allows the chopper to perform a constant output voltage control, and the inverter to perform such a control that a pulse width is maintained at a specified value, whereby the harmonics components in the output voltage of the inverter are reduced. In a power converter system that utilises a solar battery for a power source, there is substantially no period throughout the year in which the power converter apparatus receives an output of maximum power from the solar battery, i.e., the period to perform a full load operation, and the averaged load factor thereof throughout a year is approximately 20 to 80 , so that the efficiency in a light load operation of the power converter apparatus is regarded as of major importance. In addition, a solar battery has an extremely high manufacturing cost per kw, so that it is particularly significant to reduce the loss of the power converter apparatus as compared to a system that utilises a power source, such as a storage battery. However, in the aforementioned conventional power converter apparatus, as described above, the chopper can achieve advantages, such as compactness of the output filter circuit and simplification of the control circuit, whereas this produces disadvantages, such that the loss developed by switching the DC circuit with the chopper is not reduced, even in a light load operation. In general, the total loss P In equation 1 , the steady ON state loss P According to the present invention, a power converter apparatus comprises a chopper connectible to a D.C. power source of variable voltage an inverter connected to receive the D.C. output of the chopper and to supply converted A.C. power to a load means for controlling the operation of the inverter and a voltage control circuit for controlling the operation of the chopper characterised in the provision of an error amplifier connected to receive as an input signal the difference between the output voltage of the converter apparatus and a predetermined reference value and wherein the output of the error amplifier is supplied to both an oscillator of the voltage control circuit to produce a signal having a frequency representative of the output of the error amplifier and to a phase shifter which supplies a switching signal of variable pulse width varied in synchronism with the output signal of said oscillator to the chopper, the arrangement being such that the chopper is switched at a constant frequency except when the output of the error amplifier is less than a predetermined value whereupon the control circuit decreases the frequency of the switching signal applied to the chopper based on the output of the error amplifier to control the output of the apparatus. In order that the invention may be more readily understood, it will now be described, by way of example only, with reference to the accompanying drawings, in which In Figure 2, the DC output of a solar battery 10 is converted into AC power by power converter apparatus 13, and the voltage of the thus converted AC power is converted into a specified voltage by a transformer 14. This AC power at the specified voltage is supplied to a power system 17 through a coupling reactor 15 and switch gear 16. The power converter apparatus 13 is constituted by a chopper 11 and an inverter 12. Connection of the chopper 11 at the DC input of the inverter 12 allows the chopper 11 to perform a constant output voltage control, and the inverter 12 is to perform such a control that a pulse width is maintained to a specified value, whereby the harmonics components in the output voltage of the inverter 12 are reduced. By use of the above described control method, the capacity of an output filter circuit not shown that eliminates the harmonics in the output voltage can be reduced, and the configuration of the control circuit of the inverter 12 can be simplified. In a control circuit 100, a voltage reference 40 and an inverter output voltage 22 are compared so as to produce a difference signal on line 44a which, in turn, is fed through a changeover switch 44 into an error amplifier 43. Similarly, a reactive power reference 41 and an output of a reactive power transducer 42 are compared so as to produce a difference signal on line 44b which, in turn, is fed through the changeover switch 44 into the error amplifier 43, an output of which is fed into a voltage control circuit 45 which generates a gate signal for the chopper 11. In Figure 3, numerals 455 and 456 represent function generators that convert the output signal of the error amplifier circuit 43. Reference 457 is a V F converter that converts the output signal from the function generator 456 into a frequency proportional thereto, 452 is a triangular waveform generator that generates a triangular waveform signal in synchronism with the frequency from the V F converter 457, and 451 is a comparator that compares the output signals of the triangular waveform generator 452 and the function generator 455, respectively. The comparator 451 and the triangular waveform generator 452 together constitute a phase shifter 50. The function generator 456 has characteristics as shown in Figure 4. Within a region in which the output of the error amplifier 43 is smaller than a specified input level e The triangular waveform generator 452 receives an output signal from the oscillator so as to produce a triangular waveform signal in synchronism with the output signal as shown in Figure 6. The output signals of the triangular waveform generator 452 and the function generator 455 are fed into the comparator 451 so as to be compared in magnitude with each other. In Figure 6, f shows the output signal of the V F converter 457 and the frequency thereof is varied in accordance with characteristics shown in Figure 4. In Figure 6, G shows an output signal G₂ of the triangular waveform generator 452 and an output signal G₁ of the function generator 455 that has the characteristics shown in Figure 5, and, during periods when the latter is greater than the former, the comparator 451 produces an output signal of 1 state, as shown in Figure 6 H. When the output signal H of the comparator 451 is in 1 state, it causes the switching elements of the chopper 11 to be conductive through a drive circuit 454. The output signal of the triangular waveform generator 452 has a constant slope so that, in accordance with the magnitude of the output signal of the error amplifier 43, the comparison threshold level of the comparator 451 varies such that the conduction period of the switching element is varied. On the other hand, in the inverter control circuit, the solar battery voltage is detected through a DC amplifier 20 that insulates the control circuit 100 from the main circuit and also adjusts the voltage gain. The thus detected DC voltage value 21 is compared with a DC voltage reference 30 so as to produce a difference signal on line 31a which, in turn, is fed into an error amplifier 31. Reference numeral 32 designates a so called PLL phase locked loop circuit that receives three separate signals such as a signal a which is an output of the error amplifier 31, a signal b which is a phase reference signal derived from a voltage 23 of the power system 17, and a signal c which is an output of a frequency divider 33 that divides the output frequency of the PLL circuit 32. The output frequency is fed into a gate control circuit 34 which generates a gate signal for the inverter 12. Here, the PLL circuit 32, though conventionally well known, will be briefly described. Figure 7 is a block diagram illustrating an example of the PLL circuit 32, which is constituted by a phase error detector PHP, a low pass filter LPF, and a voltage controlled oscillator VCO. The phase error detector PHD produces a signal d proportional to a phase difference between a phase reference signal b and a phase feedback signal c. The signal d proportional to the phase difference is fed into the low pass filter LPF that eliminates the harmonics components thereof, and also amplifies the phase error. The voltage controlled oscillator VCO produces a frequency proportional to the output e of the low pass filter LPF. Output f of the voltage controlled oscillator VCO is fed into the frequency divider 33. If the number of stages in the frequency divider 33 is defined as N, an oscillating frequency of the voltage controlled oscillator VCO is N times the frequency of the phase reference signal b. Here, N is determined as arbitrary integer in accordance with the number of phases of the inverter 12 within the power converter apparatus 13. The output of the frequency divider 33 is fed into the phase error detector PHD as the phase feedback signal c, so that the oscillating frequency of the voltage controlled oscillator VCO is automatically controlled such that the phase of the phase reference signal b coincides with the phase of the phase feedback signal c. Here, the signal a of the PLL circuit 32, which is fed into the low pass filter LPF, functions such that a phase difference between the phase reference signal b and the phase feedback signal c can be arbitrarily determined. Now, referring back to Figure 2, the operations thereof will be described. A phase of the power system 17 is supplied as the phase reference signal b of the PLL circuit 32 so that the output frequency of the PLL circuit is in synchronism with the phase of the power system 17, thus, the phase of the power converter apparatus 13 is also in synchronism with the phase of the power system 17. In the state when the switch gear 16 is opened, the input and output terminals of the error amplifier 31 is shortcircuited by a switching device not shown , as a result, there is not constituted the DC constant voltage control circuit that controls the phase of the inverter 122 by use of the DC voltage difference 31a. Next, when the switch gear 16 is closed, while at the same time the input and output terminals of the error amplifier 31 are released from the shortcircuit, the phase of the power converter apparatus 13 is automatically controlled such that the solar battery voltage becomes equal to the DC voltage reference 30. In addition, when the changeover switch 44 is switched so as to select the difference signal on line 44a, the inverter output voltage 22 of the transformer 14 is automatically controlled so as to equal the voltage reference 40. Further, in the case where the switch gear 16 is closed and the changeover switch 44 selects the difference signal in line 44b, the output voltage of the power converter apparatus 13 is automatically controlled such that the reactive power of the power converter apparatus 13 becomes equal to the reactive power reference 41. As described above, in the method that controls the power converter apparatus 13, there is provided such an advantage that the selection of the DC voltage reference 30 as a reference value, taking into consideration the characteristics of a solar battery to be connected to the power converter apparatus 13, allows the power supply system to invariably operate at a maximum output point of the solar battery 10, regardless of insolation quantities. In the case where the changeover switch 44 selects a difference signal on line 44a, the relationship between the output signal of the error amplifier 43 and a load factor of the power converter apparatus 13 is as follows. When the power converter apparatus 13 supplies a large current in a heavy load operation, the output voltage 22 of the inverter 12 is lowered due to a voltage drop developed in proportion to the output current, so that the error amplifier 43 operates so as to increase the output voltage of the chopper 11, whereby the output signal of the error amplifier 43 is increased. While, on the contrary, when the power converter apparatus 13 is in a light load operation, the output current thereof is small as compared to the heavy load operation so that the amount of the voltage drop in the output voltage 22 of the inverter 12 also becomes small, whereby the error amplifier 43 operates so as to decrease the output voltage of the chopper 11, consequently, the output signal of the error amplifier 43 becomes small and reaches its equilibrium with the voltage reference 40. Here, the relationship between the solar battery voltage Ed₁ and the output voltage Ed₂ of the chopper 11 can be held as follows In accordance with equation 4 , the input variables of the function F are varied in proportion to the output signal e Hereinafter, another embodiment of the present invention, where the chopper 11 is a booster chopper, will be described with reference to the accompanying drawings. The relation between the input voltage and the output voltage of a booster chopper can be expressed by the following equation and has characteristics as shown in Figure 8. The function generator 456 shown in Figure 3 now has characteristics as shown in Figure 9. Within a region in which the output of the error amplifier 43 is smaller than a specified input level e According to this embodiment, there are provided advantages such that the gain of the output voltage of the booster chopper can be a constant value, and that the output voltage of the chopper can be proportional to the output of the error amplifier 43. Further, in this embodiment, it is naturally possible to achieve the same advantage such that the output power of the solar battery can be more efficient as the embodiment shown in Figure 4 and Figure 5. The previous description has been made as to a power converter apparatus that utilises a solar battery as a power source, however, when using a fuel cell which also has large fluctuations in the voltage between no load and full load operations, the same advantages as the aforementioned can be similarly achieved. Further, in the above described embodiments, the circuitry that utilises a triangular waveform generator and a comparator has been described as a specific example of a phase shifter, however, the present invention is not limited to this embodiment. Moreover, in the aforementioned embodiments, the switching elements of the chopper 11 have not specifically been described, however, it is naturally possible to achieve the same advantages by use of such switching elements as transistors, thyristors and gate turn off GTO thyristors that are generally available. As described above, there is provided a power converter apparatus constituted such that the chopper frequency can be varied in accordance with the output signal of the error amplifier, thus, the efficiency of the power converter apparatus can be improved by lowering the chopper frequency in the case of a light load operation, whereby the output power of a solar battery or the like can be more efficiently utilised as compared to the conventional power converter apparatus that utilises a solar battery or the like as a power source.