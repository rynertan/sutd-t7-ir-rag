# Apparatus and methods for analogue to digital and digital to analogue conversion.

## Abstract
In view of the limited speed times accuracy product of A to D and D to A converters, a required digital accuracy or sufficiently smooth analogue waveform cannot always be obtained. The present invention is useful in enhancing available converters. In the A to D version a stepped interpo lation waveform obtained from a generator 13 is added to samples of an analogue waveform obtained from a sample and hold circuit 11 at a frequency 2f

## Claims
U CLAIMS U 1. Apparatus for digital to analogue or analogue to digital conversion comprising holding means for holding values of a signal to be converted one at a time successive values being substituted at a first frequency, combining means for combining the output of the holding means, with an interpolation signal which is periodic at the first frequency or a multiple thereof, a digital to analogue or analogue to digital converter, connected to the addition means, and arranged to operate at a second frequency which is p times the first frequency where p is greater than one, the converter having a quantising interval d1 which is no more than times the magnitude of the change effected by the combining means on the output signal of the holding means in one period of the interpolation signal, and averaging means for averaging the output of the converter. 2. A method of digital to analogue or analogue to digital conversion comprising the steps of holding values of a signal to be converted, one at a time and substituting successive values of the signal at a first frequency, combining an interpolation signal which is periodic at the first frequency or a multiple thereof with each signal value held, to generate a resultant signal, carrying out a digital to analogue or analogue to digital conversion on each resultant signal at a second frequency which is p times the first frequency, the conversion being carried out using a quantising interval d1 which is no more thanEMI times the magnitude of the change effected in one period of the interpolation signal by combining the inter polation signal with one of the signal values held, and averaging the output from the converter. 3. An apparatus or method according to Claim 1 or Claim 2 wherein combining values of the signal to be converted with the interpolation signal is carried out by addition, and the interpolation signal has a EMI B U 2p U B U log B P B U maximum excursion which is at least times the interval d1. An apparatus or a method according to any preceding claim wherein the input for analogue to digital conversion or the output signal after digital to analogue conversion has a band width fB, wherein the first frequency is at least twice fB and p equals 2m where m is a positive integer greater than zero. 5. Apparatus according to Claims 1, 3 or 4 for analogue to digital conversion, wherein the holding means comprises a sample and hold circuit operating at the first frequency, and the converter is an analogue to digital converter. 6. Apparatus according to Claim 5 wherein the combining means in operation, adds an interpolation signal having a sawtooth waveform, and a repetition frequency equal to the first frequency or a multiple thereof, to each value held by the sample and hold circuit to generate sum signals, the combining means also comprising a further sample and hold circuit operating at the second frequency for generating samples of the sum signals as inputs for the analogue to digital converter. 7. Apparatus according to Claim 5 wherein the combining means adds an interpolation signal having a stepped waveform, and a repetition frequency equal to the first frequency, to each value held by the sample and hold circuit, each step having a duration equal to the period of the second frequency and a magnitude equal to at least times the said maximum excursion divided by the number of step transitions. 8. Apparatus according to any of Claims 5, 6 or 7 wherein the averaging means comprises an accumulator circuit which is arranged to be reset at the first frequency. B 7 B 9. Apparatus according to any one of Claims 5, 6 or wherein the averaging means comprises a digital signal processor. 10. Apparatus according to Claim 9 wherein the processor comprises a latch to latch the output of the analogue to digital converter at a sampling frequency 2fB a logic gate and an over sampling clock to provide a counting signal driving a presettable down counter. 11. Apparatus according to Claims 1, 3 or 4 for digital to analogue conversion, wherein the converter is a ditial to analogue converter, and the holding means and the combining means together include an up down counter which is arranged both to be reset at the first frequency to values of the input for conversion, and to be incremented or decremented in each period of the first frequency at the second frequency. B B 12. Apparatus according to Claims 1, 3 or 4 for a digital to analogue conversion wherein the converter is a digital to analogue converter, and the holding means and combining means comprise an n m bit latch and an m bit counter. 13. Apparatus according to Claim ii wherein the converter is capable of converting binary signals having q bits where q is less than the number of bits in the output of the up down converter, and only the q most significant bits are passed from the counter to the converter. 14. Apparatus according to any one of Claims 11 to 13 wherein the averaging means comprises a transversal filter. 15. Apparatus according to Claim 14 including a sample and hold means at the output of the transversal filter. 16. Apparatus according to Claim 14 or Claim 15 in so far as dependent on Claim 4 wherein the transversal filter has unity gain coefficients and 2m 1 delays each having a delay ofEMI 17. Apparatus according to Claim 11 or Claim 13 wherein the averaging means is a low pass filter having a cut off frequency at the top of the desired bandwidth for output signals. 18. Apparatus for analogue to digital conversion substantially as hereinbefore described with reference to the accompanying drawings. 19. Apparatus for digital to analogue conversion substantially as hereinbefore described with reference to the accompanying drawings.

## Description
APPARATUS AND METHODS FOR ANALOGUE TO DIGITAL AND DIGITAL TO ANALOGUE CONVERSION The present invention relates to apparatus and methods for analogue to digital A to D and digital to analogue D to A conversion. The quantising accuracy of A to D and D to A converters is, in general, limited by the accuracy to which electronic components can be manufactured or the speed at which electronic switches can operate. The term converter is used in this specification when a reference is made to either type of converter. A speed times accuracy product can be found which applies to each method of conversion and provides a performance indicator. This indicator is of most importance in monolithic circuit versions of converters. For example, one method such as the flash technique of analogue to digital conversion can produce a quantised output in a very short time and is probably the fastest conversion method. The quantising accuracy is at the moment, however, limited to at most 8 binary digits bits because a potential divider is required to generate reference voltages for the 28 1 comparators required, and with present integrated circuit technology the potential divider cannot be manufactured easily with an accuracy or stability greater than that needed for 8 bit conversion. Techniques such as laser trimming or zener zapping can be used to trim the potential divider to greater accuracy, and this could extend the quantising accuracy to 12 bits, though at increased production cost. The limiting factor with integrated circuit flash converters is the number of comparators which can be accommodated in a high speed integrated circuit within an economic die size, and this limits the quantising accuracy to about B 10 B bits at present. The maximum sampling frequency of a flash 10 bit converter is in the region of 20 MHz, whereas the sampling frequency of a 1 bit converter can be as much as 500 MHz. Converters with a quantising accuracy of 16 bits are at present limited to sampling frequencies in the region of 50 kHz. This higher accuracy can be obtained by using inherently slow speed conversion techniques e.g. the dual slope ramp converter which do not depend on high accuracy resistor networks. The practical constraints of integrated circuit technology therefore enable low quantising distortion up to 16 bits to be achieved but at a low sampling frequency. Alternatively, a very high sampling frequency can be obtained if high quantising distortion 1 bit is acceptable. Oversampling is a well known technique for trading speed for accuracy, in which sampling is carried out at a frequency which is higher than the Nyquist frequency. The r.m.s. sinewave signal to r.m.s. quantising noise ratio in a bandwidth fB produced by an n bit A to D converter at a sampling rate of 2fB is equal to 6n 1.8 dB. If the sampling frequency is greater than the Nyquist 2fB frequency, then the noise within the baseband up to fB is reduced. Every time the sampling frequency is doubled the quantising noise power in the baseband up to fB is reduced by 3dB. It can be seen that a fourfold increase in sampling frequency is necessary to reduce the baseband noise by 6dB equivalent to that given by an analogue to digital converter of 1 bit greater accuracy, sampled at the Nyquist rate. Another problem which occurs in A to D and D to A converters is that of providing equally spaced quantising levels. Due to component tolerances such converters usually have some degree of non uniformity in this respect. According to a first aspect of the present invention there is provided apparatus for digital to analogue or analogue to digital conversion comprising holding means for holding values of a signal to be converted one at a time, successive values being substituted at a first frequency, combining means for combining the output signal of the holding means, with an interpolation signal which is periodic at the first frequency or a multiple thereof, a digital to analogue or analogue to digital converter, connected to the addition means, and arranged to operate at a second frequency which is p times the first frequency where p is greater than one, the converter having a quantising interval d1 which is re than times the magnitude of the change effected by the combining means on the output signal of the holding means in one period of the interpolation signal, and averaging means for averaging the output of the converter. The combining means may comprise addition means for adding the interpolation signal to the output signal of the holding means, the interpolation signal having a maximum excursion which is at least EMI times the interval di. Since subtraction is the addition of a negative number, the word addition as used in the claims of this specification includes subtraction. Alternatively, the combining means may comprise means for multiplying or dividing the output signal of the holding means by a multiplier or divisor which varies periodically at the first frequency or a multiple thereof to provide the required change in magnitude. An important advantage of the present invention as applied to binary A to D converters is that where the converter used has an accuracy when sampling at the second frequency of, for example, n bits, the accuracy of the output obtained from the apparatus according to the invention is m n bits where p equals 2m. In D to A conversion if the converter has a accuracy of n m bits when operating at the second frequency there are more steps in its output signal per unit time than would be available by using an n bit converter at a necessarily slower rate. A smoother output analogue signal can be obtained by averaging a converter output if the converter output has more output steps per unit time. For optimum increase in signal to quantising noise ratio the said maximum excursion should be less than the quantising interval of the converter. However the above mentioned problem of non uniformity in quantising levels can be lessened by employing a maximum excursion which spans several quantising intervals. Such improvement is at the expense of the speed times accuracy product since as the signal at the first frequency has a greater excursion, more time is required to cover this excursion and convert the signal so provided to a digital or an analogue output. In some circumstances p need not equal a power of two since where quantisation in the converter is not binary other integer or even non integer values of p may be found useful. Further, at the expense of the speed times accuracy product, the signal which is added by the addition means may be periodic at a multiple of the first frequency. . When the apparatus is for binary A to D conversion, the holding means may comprise a sample and hold circuit operating at the first frequency. The combining means may add a sawtooth waveform having a repetition frequency equal to the first frequency and the combining means then includes a further sample and hold circuit operating at the second frequency for generating samples of the signals formed by addition for application to the converter. Alternatively the combining means may add a stepped waveform, having a repetition frequency equal to the first frequency and steps of duration equal to the period of the second frequency. Each step may have a magnitude equal to the said maximum excursion of the periodic signal divided by the number of step transitions. The averaging means may comprise an accumulator circuit arranged to be reset at the first frequency. In D to A conversion the said quantising interval is the difference between the magnitudes of adjacent levels in the analogue output before significant smoothing takes place. Where the apparatus is a D to A converter, the holding means and the addition means together may comprise an up down counter which is arranged both to be reset at the first frequency to values of the input for conversion and to be incremented or decremented at the second frequency in each period of the first frequency. The D to A converter may be capable of converting binary signals having q bits where q is less than the number of bits in the output of the up down counter, only the q most significant bits being passed from the counter to the converter. The averaging means may be a low pass filter having a cut off frequency at the top of the desired bandwidth for output signals. According to a second aspect of the present invention there is provided a method of digital to analogue or analogue to digital conversion comprising the steps of holding values of a signal to be converted, one at a time and substituting successive values of the signal at a first frequency, combining an interpolation signal which is periodic at the first frequency or a multiple thereof with each signal value held, to generate a resultant signal, carrying out a digital to analogue or analogue to digital conversion on each resultant signal at a second frequency which is p times the first frequency, the conversion being carried out using a quantising interval di which is no more thanEMI times the magnitude of the change effected in one period of the interpolation signal by combining the interpolation signal with one of the signal values held, and averaging the output from the converter. Certain embodiments of the invention will be described by way of example with reference to the accompanying drawings in which FIGURE 1 is a block diagram of A to D conversion apparatus according to the invention, FIGURE 2 shows an interpolation waveform for use in A to D conversion, FIGURE 3 is a diagram illustrating the way in which averaging takes place in the circuit of Figure 1, FIGURE 4 is a block diagram of a D to A conversion apparatus according to the invention, FIGURE 5 is a diagram illustrating the effect of incrementing the up down converter of Figure FIGURE 6 is a block diagram of a circuit which may be used as an alternative to part of Figure 1 FIGURE 7 is a block diagram of a processor which may be used as an alternative to part of Figure 1, FIGURE 8 is a block diagram of an alternative processor to that of Figure 7, and FIGURES 9 to 12 illustrate interpolation wave 13 forms . FIGURES and 15 are block diagrams of modified arrangements, and FIGURE 14 shows interpolation waveforms using the arrangements of Figures 13 and 15. In the A to D converter apparatus of Figure 1 an input waveform to be digitised is applied to a terminal 10 and thence to a sample and hold circuit 11 sampling at a frequency 2fB where fB is the input bandwidth of the incoming signal. By means of an addition circuit 12 a signal from an interpolation waveform generator 13 is added to the output of the sample and hold circuit 11. One form of interpolation waveform is shown in Figure 2 It has a period of 1 2fB and decreases in steps d2 at the ends of periods 1 fs. The frequency fS is the frequency of conversion in a A to D converter 15, and flyback to the initial magnitude of the inter polation waveform occurs at the end of each period 1 fs. The frequency fs 2m.2fB and therefore there are 2m 1 step transitions in the interpolation wave form excluding flyback. For binary conversion, the maximum excursion of the interpolation waveform should, at least, equal a magnitude d1. 2m 1 2m where d1 is the quantising interval of the converter 15. In the example shown the maximum excursion is equal to d1, and d2 d1 3 since there are three step transitions in each cycle of the interpolation waveform again excluding flyback . The output of the A to D converter 15 contains 2m samples for each sample at the output of the circuit 11 and this increased number of samples is averaged by means of a resettable accumulator 16 which is reset at intervals of 1 2fB. As a result the output of the accumulator 16 contains m n bits. The accumulator adds together the values presented at its two inputs to produce a running sum. Each new input is added to the previous sum provided by way of the feedback path shown. In order to give an m n bit pcm parallel output while the accumulator 16 is operating, it is connected to a parallel output channel 17 by way of an output latch circuit 18 sampled at 2f B. The latch circuit holds the result produced by the accumulator 16 over a period 1 2f B when the accumulator is reset and a new value is derived. Another interpolation waveform which may be used is a sawtooth waveform having a maximum excursion of d1 and an average d.c. value of zero. A further sample and hold circuit not shown , sampling at 2m.2fB, is then connected between the addition circuit 12 and the converter 15. In view of the use of the further sample and hold circuit the maximum excursion d1 cannot be reduced to as for the stepped EMI interpolation waveform. Either of the two previously mentioned waveforms may be used when modified to have a d.c. value equal to d1 2, and either may increase progressively with time, rather than decreasing. A triangle waveform is another suitable inter polation waveform. An input low pass anti aliasing filter not shown of bandwidth fR is connected at the input terminal 10 since a filter of this type is a requirement of all sampled systems. An example of the operation of the apparatus of Figure 1 is now given. In Figure 3 one output level from the sample and hold circuit 11 over the period 1 2fB is shown by a chain dotted line 20. The vertical axis is divided according to decimal code corresponding to magnitude of input level to the converter 15. Only, a portion of the axis is shown over the interval 99 to 103. In a conventional A to D converter the output code corresponding to a given magnitude is given for any input amplitude within a quantising interval of that magnitude for example, any magnitude in the interval 100.5 to 101.5, that is within the shaded area of Figure 3, receives the output code 101. Thus the level 20 corresponds to an output level i01 from the converter 15 but in fact the level could be said to be 100.67 say . When the interpolation waveform is added the resultant is as shown by the continuous line 21 and the samples obtained at the rate fS are 101, 101, 101, 100 and when these samples are averaged by the accumulator 16 the result 100.75 is provided and an increase in accuracy of 2 bits is obtained. In this example since there are 4 1 steps in the quantising signal 2m 4 and m 2. As has already been mentioned at present 16 bit converters operating at 50 KHz and 10 bit converters operating at 20 MHz are, for example, obtainable. If 2fB is 50 KHz then a 16 bit output can be obtained without using the invention or oversampling using the first of these converters. By oversampling at 200 KHz not using the invention a 1 bit increase in accuracy to 17 bits could be obtained if this were possible. On the other hand by using the invention with the converter which samples at 20 MHz, m is between 28 and 29 and therefore the accuracy is n m 18 or 19 bits. An alternative way of combining the output of the sample and hold circuit 11 with the output of the generator 13 is to replace the addition circuit 12 of Figure 1 with the circuit of Figure 6 which employs a multiplier circuit 40, a divider circuit 41 and an addition circuit 42. The output Vw of the sample and hold circuit 11 and the output Vi of the interpolation waveform generator 13 are applied to terminals 43 and 44, respectively. The divider circuit 41 provides an output Vi Vw to which one is added by the circuit 42 which has unity input at a terminal 45. On multi plication by Vw in the multiplier 40, the output Vi Vw 1 of the circuit 42 is converted to Vi w and appears at a terminal 46 for application to the A D converter 15. The divider circuit 41 may be formed, according to a known technique, by a multiplier using a negative feedback loop. The D to A converter of Figure 4 is now described. An up down counter 25 receives an n bit pem signal at a sample rate 2fB by way of a parallel input channel 26. The up down counter is set at intervals 1 2fB to the current value of the n bit pcm and it is counted up by one bit at a frequency of 2m.2fB so that there are 2m times more samples in a given time at the output of the counter 25 than at its input. These samples are passed to an OR function circuit 27 at the rate 2m.2fB but only the n m most significant bits are passed to the OR function circuit. The circuit 27 ensures that the reduced number of bits does not result in all zeros being passed on to a D to A converter 28 when as a result of counting up, the counter 25 resets with all zeros. For this purpose the carry output of the counter 25 is connected to an input of the OR function circuit 27. The circuit 27 comprises n m OR gates each receiving one input from the counter 25 and another input from the carry output from the counter 25. The D to A converter 28 operates at the frequency 2m.2fB and therefore has an output level rate 2m times greater than would be obtained by applying the input at the channel 26 to a D to A converter operating at 2fB. The output from the converter 28 is applied to a transversal filter 30 which carries out signal averaging which is equivalent to that of the accumulator of Figure 1. The transversal filter may have 2m 1 sections in series each imparting a delay of , with the circuit input signal, and the outputs of each section taken to common summing circuit whose output is sampled at The tap coefficient for each summing circuit input is unity. The output of such a filter, when used in the circuit of Figure 4, is the same as that produced by an ideal n bit D to A converter. A smoothing filter 31 is connected at the output of the filter 30 to complete the process of removing quantis ation noise contained in the band above the frequency fB. Alternatively, a single low pass filter with a high degree of attenuation above the frequency fB can be used to smooth the output of the D to A converter 28. An example of the operation of Figure 4 will now be given. Suppose three samples of a 5 bit input signal are applied to channel 26 and the three samples have values 10000, 10110 and 11001 as shown in Figure 5 by the dashed line 33. The states taken up by the counter 25 are then as shown by the solid line 34 so that after truncation to provide an n m input for the converter 28 the following samples are provided in the interval in which the three original samples occurred 100, 100, 100, 100, 101, 101, 110, 110, 110, 110, 110 and 111. These signals are applied to the converter 28 and the resulting output signal has more changes per unit time than the original signal. A relatively smooth analogue output is therefore obtained from the filter 31. The outputs of the converter 28 are summed in groups of four 2m by the transversal filter 30 to give 10000, 10110 and 11001 for the samples mentioned above, and these are the values which a 5 bit converter would have provided. To contrast the invention with the prior art, if a 16 bit D to A converter is available, then without using the invention one of 216 output levels could be obtained at a rate of 50 KHz for smoothing. However, if a 10 bit converter which operates at 20 MHz is used according to the invention, n m 10 and m is between 8 and 9. Thus 210 possible output levels at a rate of 20 MHz are provided and after smoothing between 218 and 219 possible output levels are obtained at a rate of 50 KHz. The up down converter 25 may be connected to count down during each period of i 2fB, but a d.c. offset then occurs in the output signal. This is unimportant for conversion of audio signals and can be removed, if required, by the use of a coupling capacitor. Two features of the A to D converter ADC output used as part of the proposed interpolative encoding system enable a logical processing stage to replace the digital accumulator 16 to obtain higher resolution PCM output words. These features are the monotonic and bivalued nature of the output stream. Consider an n bit ADC oversampled at M times 2n M 2m for every input sampled, the ADC produces an output stream X EMI Because of the type of interpolation waveform used linear staircase of amplitude less than 1 .s.b. there is provided EMI Therefore, in general, the ADC output stream during each sampling period consists of two values a set of .e values, k, followed by a set of M values, K 1,. 2211 EMI B 1000 B The function of the accumulator 16 is to add this stream EMI B A B Y x n B 3 B EMI so computing the sum is equivalent to multiplying the first value in the stream by M. This can be achieved by shifting the binary value of k by m bits to the left. The binary k constitutes the n most significant bits of the output. The remainder M e consists the m least significant bits. This can be computed by latching the first input of any stream and comparing it with subsequent values to obtain l. M l can be computed by decrementing a counter presetted to M. A circuit for the implementation of this idea is in Figure 7. An alternative arrangement which can be implemented using a smaller number of available integrated circuits is depicted in Figure 8. The arrangement of Figure 7 requires less gates and would therefore be of interest when the arrangement is manufactured as a single integrated circuit, as it would require less silicon area than the arrangement of Figure 8. This system avoids the use of adders. An implicit multiplication is performed 4 , and can be implemented at higher speeds than the accumulator 16. This is because features of the ADC output stream are utilized to enable simpler, and hence faster, logic circuitry to be employed. The limitation of this approach is in that it assumes the ADC is being used with an interpolation waveform amplitude of less than 1 e.s.b., i.e. the threshold positions of the ADC are near ideal. If an ADC with significant threshold errors is used, then it would be normal to use an interpolation waveform amplitude of more than 1 l.s.b. The system described here could be extended using more complex logic circuitry to cope with this situation, but at the expense of speed of operation. The optimum choice between this approach and the use of a resettable accumulator 16 is one involving engineering judgement. The circuit illustrated in Figure 7 implements the summation operation of equation 4 using latches, logic gates and one presettable counter. The output of the ADC is latched in the n bit latch 48 at the sampling frequency 2fB. This value is then compared with successive values of ADC which are produced at the oversampling frequency fS. This comparison is performed using n exclusive or gates and inverters 50. The output of these gates and the oversampling clock are added together to give the counting signal driving the presettable down counter 52. The counter is presetted to M 1 by wiring a11 its m preset inputs to 1. The comparison circuit will then produce 1 1 counts for the first e ADC outputs that are the same. Using these counts to decrement the counter a value of M 1 e 1 M 3 is obtained at the output of the counter. This is the second term in the Equation 4. The first term is obtained by the output of the n bit latch 48. These two partial results are latched together in an n m bit latch 54 and can be clocked at 2fB to produce the output stream. The output of the down counter 52 is ready when Q 1 down counts are made that is the ADC output has changed. Therefore in general the output is ready before the M oversampled ADC outputs have arrived and been compared. A data ready signal can be provided to indicate the end of the accumulation process. EMI Referring to Figure 8, 56 is an m n bit presettable down counter. The most significant n bits are fed from the oversampling ADC output. The remaining m bits are tied to logic 1 . Block 58 is an m n bit latch which provides stable parallel output signals during 2fB periods. CIRCUIT OPERATION Consider the case when n 2 and m 2. In this situation a four times sampling frequency will result in the gain of 2 bits. At the start of the 2fB cycle the first sample will be preset in the counter. Due to the synchron isation of the 2fB and 2m.2fB clocks, the counter will not be decremented at this time. At time 1 2m.2fB later, the next sample will be available. This is compared with the first sample by the ex OR gate. Since there are used only up to 1.s.b. of inter fB period polation, any change in the samples in any will be limited to 1 l.s.b. and hence can be observed in a change in the e.s.b. of the new sample. If this value is the same as the first one, then the counter will be decremented. During subsequent samples in the fB period the counter is decremented at F 2m.2fB until an input transition is recorded. To complete the f B period, the final value reached is latched at the output. Consider the code sequence 1,1,1,2. over one cycle at intervals to, ti, t2, t3, EMI OR consider the sequence 2,3,3,3 EMI The analogue transversal filter 30 should have a sample and hold at its output, i.e. between the tranversal filter 30 and the smoothing filter 31, operating at a rate of 2fB for its action to be a direct equivalent of the resettable accumulator used in the A to D converter. Resampling is essential in order to obtain a full one bit per octave increase in resolution with wide band input signals. If the signal bandwidth is very much less than fB, then neither the transversal filter 30 nor resampling would be necessary and a very simple low pass filter is all that would be required. Other sampled data analogue filters could be implemented which would provide the same result as the transversal filter plus sample and hold. The optimum arrangement would depend on the engineering trade offs which proved most suitable for a given application. Resampling when used at the output of the transversal filter 30 is a process by which some of the analogue sample values produced by the D A converter are ignored. The transversal filter 30 in effect adds together a fixed number of sample values. As with the digital accumulation, the correct sum is only present at certain points in time, and it must be acquired using the sample hold. The action of this sample hold is equivalent to that of the digital latch 18 in Figure 1. The purpose of the oversampling dock fs 2m 2m. 2fB in the circuit which can replace accumulator 16 in Figure 1 is to ensure that the addition or subtraction action of the counter 56 in Figure 8 or 52 in Figure 7 is at the same rate as the addition operations which would take place in the accumulator 16. USE OF 2n m r LEVEL A to D AND D to A CONVERTER One feature of this conversion technique is that a small loss of input dynamic range occurs when a 2n m level converter is employed in the system. Ideally, an n bit converter should provide outputs which correspond to 2n different levels with this system, some of these levels are lost because the 2n m level dynamic range must be used partly for the inter polation signal and partly for the main signal. If one Y.s.b. of interpolation is used, then the number of levels which the main signal can excurse is 2n m 1 . This loss of range may be unimportant when, for example, n m 16. In an integrated circuit implementation of this system, it would be advantageous to use a 2m n r level converter, where r is small and equals the number of A.s.b. s of interpolation used. This is preferable to using a 2m n 1 level converter as a much less silicon area is needed, and b faster effective operation of the converter becomes possible by making use of the much reduced one f.s.b. conversion time as explained under increased performance using improved f.s.b. conversion times . It is instrumentally easier to achieve fast one I.s.b. conversion times in an r level converter where the r levels change one at a time than in a conventional binary converter partic ularly for D to A conversion . For example, a 2m n 1 level flash A to D could be produced by adding only one extra comparator and a 2m n 1 level binary weighted current D to A could be produced by adding an extra one X.s.b. current source. The r level part of the converter would be controlled separately from the 2m n level part. In the D to A application this separate control would reduce the amplitude of switching transients. A conventional binary D to A is not optimum for obtaining minimum one e.s.b. conversion time as the worst case figure must be used and due to the m.s.b. switching transient, this occurs at the one A.s.b. code change of 01111.... to 1000...., a full scale conversion time would be measured with a code change of 0000.... to 1111.... . With conventional binary D A converters, major bit transistors such as 01111 to 10000 can occur with an effective one f.s.b. change in signal level. The switching transients which correspond to these changes are at amplitudes near the m.s.b. level rather than the I.s.b. level. The extra r levels change only one A.s.b. at a time and any switching transients introduced are always smaller than those due to m.s.b. transitions. Additional control logic will be required in order to select the r level portion of the D A converter. Many arrangements are possible, depending on the value of r, but in its simplest form, the carry output of the counter 25 can be used to select the extra X.s.b. when r 1. SIMPLIFICATION OF D to A DIGITAL CIRCUITRY Simplification of the counter circuit is also possible when a 2m n 1 level D to A is used instead of an n bit counter, an n m bit latch plus an m bit counter can be used. The n m most significant bits of the input word would go straight to the n m binary input portion of the D A. The m least significant bits of the n bit input words would preset an m bit up counter, and the carry output of this counter would control the e.s.b. portion of the D A. This approach can be extended to cover the r level case and offers a saving in logic circuitry and the possibility of faster circuit operation. IMPROVING THE FIGURE OF MERIT OF DIGITAL TO ANALOGUE CONVERTERS BY USING INTERPOLATION Indexing terms digital to analogue conversion, interpolation An interpolative scheme is described which enables increased resolution to be obtained by utilizing the potentially fast settling time of one least significant bit LSB change in a digital to analogue converter DAC . Results of experimental measurements indicate close to theoretical improvement is achievable in practice. The use of the arrangement in an integrated circuit design is likely to offer significant advantages in terms of lower production and testing costs than a conventional DAC of equivalent performance. There is reported preliminary results of work aimed at improving the performance of an interpolative DAC. Interpolation achieves increased resolution from a DAC by alternately switching its output between adjacent levels. Time averaging of the DAC output using appropriate filtering can enable additional levels to be resolved between the DAC output levels and this has been likened to a process of linear interpolation 1. Previous work reported in this area has been aimed mainly at the development of integrated circuit codecs for speech transmission using companded pulse code modulator 2. Maximum conversion speed and scope of of this approach was limited by a need for relatively complex digital circuitry and a special purpose DAC which converted on a level at a time basis. In contrast with this earlier work, this letter describes an arrangement which offers the promise of much higher conversion speeds and a wider field of application because very simple digital circuitry is used and the arrangement works with conventional DAC designs. The definition of figure of merit of an analogue to digital converter as used in the specification is the resolution in bits multiplied by conversion frequency. For a digital to analogue converter the figure of merit is the product of its resolution in bits and the inverse of its full scale settling time bits x hertz . Linear interpolation can be thought of as trading a reduction in effective conversion speed Hertz for an increase in effective resolution bits , with no alteration in the figure of merit. The theoretical rate of exchange being therefore a one bit increase for every octave of speed reduction. Whilst this exchange rate can be an attractive proposition for many applications, there are of course some in which the consequent increase in full scale conversion time would be unacceptable. An arrangement is proposed which should enable a very much better rate of exchange to be obtained, resulting in an increase in the figure of merit. EXPERIMENT Figure 13 shows the experimental arrange ment. The digital circuitry required consists of a presettable up down counter 60. In the experiment a commercially available 16 bit DAC 62 was used to examine the practical limits of the technique. The test signal source was a low distortion digital sinewave generator 64 which produced data words at a rate of 50,000 per second. Experimental measurements were first made using only the eight most significant bits of the DAC in order to minimise the influence of DAC linearity errors and switching transients. This was followed by measurements using sinewave data which generated an output waveform of peak amplitude 40dB relative to maximum available from the DAC, and centred on the mid scale point of the DAC. In this quantising noise ratios were measured using a total harmonic distortion analyzer. RESULTS A computer program was written which used signal flow graph theory 3 to predict the likely improvement in baseband signal to quantising noise ratio and the amplitude frequency distribution of the quantising noise. This analysis predicted a baseband improvement of 4.26dB with interpolation waveform 1 shown in Figure 14 a , 5.80dB with waveform 2 in Figure 14 b and 5.99dB with waveform 3 in Figure 14 c after the waveforms were low pass filtered. Each of these waveforms has an average value of one half an LSB and in theory the use of an integrate and dump filter at the DAC output would enable the ideal figure of 6dB improvement to be obtained with any of the waveforms. Practical measurements using the eight most significant bits of the DAC and a 20kHz low pass filter with a stop band attenuation of better than 96dB, gave signal to quantising noise ratio improvements of a 4.2dB, b 5.8dB, c 5.85dB for waveforms 1, 2 and 3 respect ively, showing very close agreement with the predicted values. In the 40dB test, signal to quantising noise ratios significantly worse than theoretical were obtained and investigations revealed that this was due primarily to switching transients glitches occurring when data inputs changed. The output data rate of the counter can be up to eight times more than its input rate and therefore the repetition frequency of the DAC transients can be up to 400 kHz. The importance of using a track hold to remove such glitches is well recognised, particularly with DACs intended for digital audio. In higher speed applications, this requirement for a fast track hold may be undesirable as the design of such a device can present significant problems. FIGURE OF MERIT IMPROVEMENT The minimum time between the n bit input words conversion time in the inter polative arrangement of Figure 13 is simply the full scale settling time plus the time required for the sequence of LSB changes needed to produce the inter polation waveform. With most conventional DACs, the worst case LSB settling time is comparable with the full scale settling time owing to glitches which occur at input code changes. In practice, therefore, a figure of merit is calculated using a conversion time based on the full scale settling figure. The 2m 1 level DAC arrangement of Figure 15 together with a simplified up down counter system is suggested as a way of increasing the figure of merit available by using interpolation. In the proposed system, the m most significant bits of the n bit word are presented to the m bit conventional section of the DAC for the duration of the conversion period. The n m least significant bits are loaded into an n m stage pre settable up down counter and with the use of appropriate control signals the carry output of the counter provides the waveform to control the interpolation stage of the DAC. Glitches are now no worse a problem than with a conventional DAC as the interpolation stage is inherently glitch free. The settling time for the interpolation stage should therefore be very much less than the LSB settling time for the conventional section of the DAC. This should reduce the total conversion time required significantly, with a corresponding increase in the figure of merit. Ideally the inter polation stage should be matched to the LSB stage of the conventional part of the DAC and therefore the proposed arrangement is likely to be of most use in an integrated circuit. The reduced complexity of the counter should facilitate faster operation at the integrated circuit level and reduce the area of silicon required. Very good agreement has been obtained between theoretical predictions of signal to quantising noise ratios produced by an interpolative decoder and experimental measurements. Code dependent switching transients have been found to be a major limitation to the application of interpolative techniques to high speed digital to analogue conversion. In the light of this work a modified LSB switching arrangement has been proposed which would eliminate the switching transient problem at the LSB level. Owing to the much reduced LSB settling time, it would enable far better resolution to be obtained for a given full scale settling figure than previously reported interpolative arrangements. It is likely that the area of silicon required for the proposed interpolative DAC will be much less than for a conventional DAC with an equivalent resolution and full scale settling time. In the limit, it is in principle possible to use an extremely fast low resolution DAC to suit a wide range of lower speed higher resolution applications. An added advantage is that high resolution conventional DACs ideally require time consuming level at a time tests in order to fully characterise their performance. Because of this, full testing of high resolution DACs in a production environment can be uneconomic. As the analogue section of an interpolative DAC is ideally of low resolution, full testing of this can be accomplished in a relatively short time and as the time required to test the remaining digital circuitry is insignificant it should prove economic to undertake full testing of interpolative DAC integrated circuits on a routine basis. U REFERENCES U 1 RITCHIE G.R., CANDY J.C., and NINKE W.H. Inter polative digital to analog converters , IEEE Trans actions on Communications, 1974, 22, pp. 1797 1806. 2 WOOLEY B.A., FOWLIS D.C., HENRY J.L., WILLIAMS C.E. An interpolative PCM decoder , IEEE Journal of Solid State Circuits, 1979, 14, pp. 20 25. 3 HUGGINS W.H. Signal flow graphs and random signals , Proc. IRE, 1957, 45, pp. 74 86. INCREASED PERFORMANCE USING IMPROVED LSB CONVERSION TIMES Most practical D to A converters are able to convert a signal change of one I.s.b. amplitude in less time than a signal change of full scale amplitude. All previous estimates of the improvements available using the method described in the patent specification have been based on only full scale conversion times as this is the conventional measure of conversion speed. If the full scale conversion time is TL and the time available for conversion is TC f S then the improvement in resolution would be log bits. By making use of the fact that the one l.s.b. conversion time is always less than the full scale conversion time, a further improvement in resolution can be obtained. In order to calculate this improve ment, assume TC 2m.TL, TL 2k.TS, and TC 2m k.TS, where TS is the one e.s.b. conversion time. The first conversion must be able to cope with up to a full scale change and therefore the time remaining for e.s.b, conversions is TC TL. An improvement of q bits more than can be obtained with just using TL is shown by the following equations. EMI One conclusion which can be deduced from this equation is that if m is large, then it is possible to increase the resolution by up to k bits, giving a total improvement of almost m k bits. In a given application it may be beneficial to increase the linearity of the converter at the expense of some of the m k bits improvement in resolution. INTERPOLATION WAVEFORM AMPLITUDE The following information has been obtained on the amplitude of the interpolation waveform from the generator 13 in Figure 1. This information has been obtained as a result of simulations with a 5 bit ideal quantizer. Neglecting the effect of over load iw Ideal interpolation waveform amplitude step size. iw 3dB Waveform range that gives 3dB SNR of the maximum. iw3dB Oct Waveform range that gives better than 3dB Octave improvement. Approximate amplitude ranges as a function of N over sampling factor. First Cycle These results are illustrated in Figures 9 to 12. Now that embodiments of the invention have been described, it will be clear that the invention can be put into practice in many other ways. For a further increase in accuracy or better smoothing the present invention may be combined with the previously mentioned known apparatus and methods of oversampling. An application of the improvement of resolution can be obtained by making use of a system which combines a fast one e.s.b. conversion with a conventional full scale conversion. The improvement available can be seen by way of the following example Using the prior art of oversampling, an 8 bit A to D converter with a full scale conversion time of 100ns can be used to provide a 12 bit resolution conversion by averaging 256 successive full scale conversions, giving a total conversion time of 25,600ns. i.e. nanoseconds. With the technique described in Application 8320534 12 bit resolution could be obtained from the same A to D by using 32 successive full scale conversions, giving a total conversion time of 3,200ns. In an A to D converter system which provides for both conversion of sull scale signals and successive signals which are different in amplitude by only one l.s.b., two types of A to D converters are usually required. In this case, a one e.s.b. conversion may typically be completed in one tenth of the time for a full scale conversion. By making use of this faster one L.s.b. conversion in the present example, 12 bit resolution could be obtained by making one full scale 8 bit conversion in 100ns followed by 31 successive one X.s.b. conversions each taking 10ns . The total conversion time is now reduced to 410ns demonstrating a significant improvement in conversion speed over both prior art and the previous specification. If, instead of reducing the conversion time, the aim were to obtain the maximum resolution for a given conversion time e.g. 25,600ns , then this comparison would give the following results Prior art 12 bits UK Application No.8320534 16 bits this Application 19 bits.