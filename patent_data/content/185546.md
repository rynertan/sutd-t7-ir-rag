# CONTROL DEVICE FOR CHOPPER APPARATUS

## Claims
Regeleinrichtung f√ºr eine mehrere, zwischen einer Gleichstromquelle und einer Last 9 parallel geschaltete Zerhackerkreise 4, 5, 6, 7 aufweisende Zerhackervorrichtung mit mehreren, Gleichstrom Detektorkreisen 8 zum Erfassen jedes Zerhackerstroms der Zerhackerkreise und Umsetzen dieses Zerhakkerstroms in ein Spannungssignal, einem Ausgangsspannung Detektorkreis 10 zum Erfassen der Ausgangsspannung der Zerhackervorrichtung und einem Regelsignal Erzeugerkreis 12,13 zum Vergleichen des Ausgangs des Ausgangsspannung Detektorkreises mit einer Bezugsspannung 11 und Erzeugen eines Spannungsregelsignales,

## Description
The present invention relates to a chopper apparatus and more particularly, to a control device for a chopper apparatus for balancing currents flowing through a plurality of choppers connected in parallel. Choppers are used as converters for converting a DC voltage into another DC voltage having a desired voltage value and are widely used in various applications such as a constant voltage device. The basic arrangement of a chopper is of a single phase type. This type however is associated with a problem that a large amount of ripples is included in a supply current fed from a DC source to the chopper. Therefore, a two phase type chopper is commonly used. The chopper of a two phase type however is associated with a problem that it is difficult to balance currents of the choppers driven at different phases. Therefore, various countermeasures have been required heretofore. DE A 2356452 discloses a current balance control for a plurality of voltage conversion choppers connected in parallel. This document does not however disclose any signal transmission between the respective choppers as part of the balance control. The balance control depends on the linearity of an impedance element in the characteristic of the impedance vs current value for each chopper, careful selection of the impedance element is therefore required and if a set impedance value is inadequate, the balance control will not be effected. US A 3956638, on the other hand, discloses a system for balancing the individual battery currents from a plurality of batteries connected in parallel. Within the battery paralleling system, sharing circuits are used which average the current flow from each of the batteries. The use made of the average value for controlling the system is however different to that required for balancing the current through a plurality of choppers. US A 3913000 discloses an apparatus with parallel connected circuits with an unique differential current transducer for balancing the current in the choppers. It is an object of the present invention to provide the chopper apparatus capable readily of balancing currents flowing through a plurality of choppers with a low cost and simple circuit arrangement. The present invention provides therefore a control device for a chopper apparatus having a plurality of chopper circuits connected in parallel between a DC power source and a load, comprising a plurality of DC current detection circuits for detecting each chopper current of said chopper circuits and converting said chopper current into a voltage signal an output voltage detection circuit for detecting the output of voltage of said chopper apparatus and a control signal generation circuit for comparing the output of said output voltage detection circuit with a voltage reference and generating a voltage control signal characterised by a controlling circuit for generating a respective control signal for each of said chopper circuits, an average value calculation circuit for calculating an average value by summing the outputs from said DC current detection circuits and dividing the summed result by the number of said DC current detection circuits a deviation deriving circuit for comparing the output of said average value calculation circuit with each output of said DC current detection circuits and deriving a current deviation signal for each of said DC current detection circuits said controlling circuit being arranged to respond to the combination of each of said current deviation signals and to said voltage control signal. According to a first aspect of the present invention and in order to achieve the above object, the control device for the chopper apparatus is constructed in such a way that chopper currents flowing through the choppers are derived from preset positions of the chopper circuit, the deviations of the chopper currents from an average chopper current are detected, and the deviations are inputted to a chopper output voltage control system to balance the chopper currents. According to a second aspect of the present invention and in order to achieve the above object, the control device for the chopper apparatus is constructed in such a way that chopper currents are derived either from the input side or the output side of a plurality of choppers connected in parallel, the deviations between the chopper currents are detected, and the deviations are inputted to a chopper output voltage control system to balance the chopper currents of the plurality of the choppers. In the accompanying drawings The prior art will first be described with reference to Figs. 6 to 9, and thereafter the preferred embodiments of the present invention will be described with reference to Figs. 1 to 5. Fig. 6 is a circuit diagram showing an example of the prior art step up and single phase chopper, and Fig. 7 is a timing chart for explaining the operation of the circuit of Fig. 6. Prior to the description of the present invention, the basic operation of a step up chopper will be described. In Fig. 6, reference numeral 1 denotes a DC power source, reference 4a stands for a DC reactor, 5a for a diode, 6 for a capacitor and 7a for a gate turn off thyristor hereinafter referred to as GTO . A DC voltage detection circuit 10 detects the output voltage of the step up chopper, converts it into a proper isolation control circuit voltage level, and outputs a voltage of a negative value. Reference numeral 11 represents a reference voltage. A comparator 12 compares the output voltage of the DC voltage detection circuit 10 with the reference voltage 11. An error amplifier 13 amplifies a difference voltage obtained through comparison by the comparator 12. A phase shifter 21a shifts the phase of the pulse signal from an oscillator 14 in accordance with the output level of the error amplifier 13. A pulse amplifier circuit 22a isolates the output pulse of the phase shifter 21a, amplifies and supplies it to GTO 7a. A control circuit 50a is constructed of the DC voltage detection circuit 10, comparator 12, error amplifier 13, phase shifter 21a and pulse amplifier circuit 22a. In Fig. 7, E During a steady state, as shown in Fig. 7, the current I In the step up chopper of Fig. 6, it is here assumed that the ON period of GTO 7a is T As apparent from the equation 1 , the shorter the OFF period, i.e., the longer the ON period, the higher the chopper output voltage becomes. Conversely, the longer the OFF period T Next, the operation of the control circuit 50a will be described. In Fig. 6, the control circuiit 50a operates to always maintain the chopper output voltage E The prior art step up chopper described above, however, has the following disadvantages. For instance, as apparent from Fig. 7, since the ripple component of the chopper input current I Therefore, to reduce the ripple component of the chopper input current I In case a plurality of step up choppers are driven in parallel with respective phases shifted as described above, there is a problem that it is difficult to balance currents of the choppers. That is, as apparent from the equation 1 , if there is a difference in switching times of the switching elements of the choppers, i.e., a difference in the OFF periods, the output voltages E As seen from the foregoing description, according to the prior art, it is necessary to select the switching elements of the choppers so as to make the switching times as equal as possible, or to have a large resistance value of the DC reactor. Selecting the switching elements of the choppers so as to make the switching times as equal as possible is not so easy in actual manufacture of the chopper apparatus and also makes the apparatus expensive. Having a large resistance value of the DC reactor results in a remarkable degradation of efficiency and a bulky dimension of the apparatus, which is not beneficial in practical use. Even though the countermeasures as described above are employed, the fact is that it has been difficult heretofore to balance currents of the choppers. An embodiment of the present invention will be described by referring to Fig 1. The element labels and their operational functions in Fig. 1 designated by the same references as of Fig. 8 are the same as of the corresponding elements of Fig. 8. In Fig. 1, DC current detectors 8a and 8b detect the chopper currents. DC voltage detection circuits 23a and 23b convert the output currents of the DC current detectors 8a and 8b into voltage. An adder 30 adds the chopper currents to obtain an input current of the chopper apparatus. An inverter circuit 31 inverts the polarity of the output from the adder 30. A voltage divider 32 divides the output of the inverter circuit 31 by half and obtains an average value of the input current I Referring now to Fig. 1, the operation of the control circuit 50c will be described as to how the chopper currents I As seen from the foregoing description of the embodiment, it is not necessary to select the switching elements of the choppers so as to have the same switching times for balance of the chopper currents. Thus, selection of the switching elements is far more easy as compared with the prior art. In addition, it contributes to reduction of the apparatus cost. Furthermore, the resistance value of the DC reactor can be made small, resulting in a compact apparatus and a remarkable improvement in efficiency of the apparatus. Next, referring to Fig. 2, a second embodiment of the present invention will be described. The operation of the control circuit 50c will be described as to how the chopper currents I Fig. 4 shows a current balance control circuit for balancing the two choppers of the embodiment of Fig. 2. In this circuit, the control object is two choppers constructed of the elements 104 to 107 and 109 corresponding to the elements 4 to 7 and 9 of the two choppers shown in Fig. 2, wherein reference numerals 104 to 107 and 109 have been designated by adding 100 to the corresponding reference numerals 4 to 7 and 9, and a suffix a or b shows respective one side of the two choppers. The state of balance of currents between both choppers is detected by comparing the chopper currents, i.e., the load currents in case of Fig. 4, and the conduction angles of the GTOs for the chopper apparatus are controlled. The load current of each chopper is detected by a current transformer 111 and converted into voltage by a converter 112. The output of the converter 112 is represented by a battery 113. A resistive voltage divider circuit made of resistors 114 and 115 are connected across both terminals of the battery 113. One end of the voltage divider circuit is connected to an input terminal of an operational amplifier 118 via resistors 116 and 117. The center connections of the respective resistive voltage divider circuits of the chopper apparatus are connected together, and the respective interconnections of the resistors 116 and 117 are also connected together. Thus, a closed loop designated by a broken line, whose arrows indicate the direction of current, is constructed of the resistors 115a, 115b, 116b and 116a. The direction of current shown in Fig. 4 is obtained when the voltage of the battery 113a is larger than that of the battery 113b. This occurs when the load current I In this case, it is necessary to control the load current I The output of the adder 121a is supplied through an operational amplifier 122a to a conduction angle control circuit 123a. The conduction angle control circuit 123a constructed of a phase shifter and a pulse amplifier controls the conduction angle of GTO 107a as previously described. Thus, the load current I Contrary to the above operation, if the load current I Fig. 5 shows part of a current imbalance detection circuit for controlling the current balance between three choppers of the chopper apparatus. The circuit is constructed of the elements designated by reference numerals in the 200 s corresponding to the elements designated by the 100 s in Fig. 4. The elements having the same lower two digits in Figs. 5 and 4 correspond to each other. In this circuit, the center connections of the respective voltage divider circuits are connected together, and the respective interconnections of the resistors 116 and 117 are also connected together. In this circuit, if an imbalance of the chopper currents occurs, current loops as shown in Fig. 5 by a broken line, one dot chain line and two dot chain line are formed. In particular, these loops stand for three pairs of choppers assorted from the three choppers. In the respective loops, signals corresponding in magnitude of the chopper load currents appear across the corresponding resistors 216a, 216b and 216c. The voltages corresponding to the total currents flowing through the three loops practically appear across the resistors 216a, 216b and 216c. These voltages are applied through the resistors 217a, 217b and 217c to the operational amplifiers 218a, 218b and 218c. As a result, the operation similar to that shown in Fig. 4 is effected. As described above, according to the present invention, it is not necessary to select the switching elements with the same switching time so as to balance the chopper currents. Therefore, the requirements in selecting the switching elements are moderated. Furthermore, it is not necessary to make the resistance value of the DC reactor large so as to balance the chopper currents. Therefore, a compact and low cost apparatus with an improved efficiency is possible. In the above embodiments, two chopper circuits have been used and the error detection amplifier 13 for voltage control has been used in common for the two chopper circuits. However, as shown in Fig. 3, the present invention is also applicable to the chopper apparatus having separate error amplifiers 13a and 13b. Also in Fig. 3, the current deviation signals 25a and 25b may be supplied to comparators 12a and 12b whose outputs are inputted to the error amplifiers 13a and 13b. Instead of the chopper apparatus having two choppers, a chopper apparatus having choppers more than three may be applied. Parallel drive of the chopper apparatus more than two is also applicalbe. In the above embodiments, GTOS have been used as the switching elements of the chopper circuits. However, any switching elements such as transistors, thyristors may also be used. It is obvious that a step down chopper may be used instead of a step up chopper. It is obvious that various modifications and practice in reduction may be possible without limiting only to the above embodiments. For instance, more than three chopper circuits may be used instead of the two chopper circuits as of the embodiments. In the embodiments, although a chopper circuit using GTO has been described, a chopper circuit using another semiconductor switching element may be used. Furthermore, in the above embodiments, to obtain the average value of the chopper currents, the sum of the chopper currents is first obtained and thereafter the sum is divided by half. However, another method may be used wherein the input current to the chopper apparatus is directly detected and thereafter the detected input current is divided by half to obtain the average value. According to the present invention described above, it is not necessary to make the impedance value of the DC reactor higher than required and to limit the switching characteristic of the element to be used. Therefore, the current balance of a plurality of choppers can be conducted with a simple circuit arrangement and the requirements for the circuit elements are remarkably moderated. Thus, it is possible to realize a compact and low cost apparatus with an improved efficiency.