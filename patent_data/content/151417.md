# Method for correcting systems of coordinates in a robot having visual sensor device and apparatus therefor.

## Abstract
The co ordinates system correction apparatus, incorpo rated in a robot system having a visual sensor for measuring two or three dimensional position and posture data, corrects a visual sensor co ordinates system and a robot co ordinates systems. The apparatus corrects the co ordinates systems by means of a correction of parameters representing a relation ship between the co ordinates systems. The parameter correction is caused by calculating parameter errors from a deviation between calculated position and posture data and measured position and posture data.

## Claims
CLAIMS 1. A robot system having a visual sensor comprising a robot having a first co ordinates system provided in at least one of a robot body and a robot hand a visual sensor device having a second coordinates system for detecting a position and or posture of an object means for measuring parameters determining a relationship between said second co ordinates system and said first co ordinates system means for storing said parameters measured by means of said measuring means and means for transforming a detected position and or posture information of the object in said second coordinates system into an information in said first coordinates system through said measured parameters. 2. A robot system as claimed in Claim 1, wherein said parameters for co ordinates transformation includes a plurality of sets of parameters each set corresponding to a respective visual sensor devices whereby a corresponding co ordinates transformation parameter set may be assigned even if the visual sensor device is replaced by another visual sensor device. 3. A robot system as claimed in Claim 2, wherein said co ordinates transformation parameter sets include one for a visual sensor device mounted on said robot hand and one for a visual sensor device mounted fixedly on a base on which said robot is installed. 4. A robot system as claimed in Claim 1, wherein said co ordinates transformation parameters are determined by a matrix. 5. A robot system as claimed in Claim 1, wherein said first co ordinates system is established in said robot hand, and after an information in said second co ordinates system is transformed into an information in said first co ordinates system, said transformed information is further transformed into an information in a co ordinates system of said robot body. 6. A robot system as claimed in Claim 1, wherein said parameter measuring means comprises first means for moving said robot to a fixed point on the fixed object to be measured with said robot being kept in a constant position and posture, and for calculating a position and posture of said robot hand moved said fixed point, second means for measuring a position and posture of said fixed point with a visual sensor device, and third means for calculating co ordinates transformation parameters by means of data obtained by said first means and of data obtained by said second means. 7. A robot system as claimed in Claim 6, wherein said visual sensor device includes a wrist visual sensor device mounted on said robot hand. 8. A robot system as claimed in Claim 1, wherein said parameter measuring means comprises first means for moving said robot to a commanded position and for calculating a position and posture in said commanded position, second means for measuring a position and posture of said robot after movement through said visual sensor device, and third means for calculating co ordinates transformation parameters by means of said calculation result obtained by said first means and of said measurement result obtained by said second means. 9. A robot system as claimed in Claim 8, wherein said visual sensor device includes a stationary visual sensor device fixed to a base on which said robot is installed. 10. A co ordinates system correction apparatus comprising a robot having a first co ordinates system provided in at least one of a robot body and a robot hand a visual sensor device mounted on a distal end portion of said robot or a base on which said robot is installed, said visual sensor device having a second co ordinates system and a function for measuring a position and or a posture of an object visual data storing means for storing a position and or a posture information measured by said visual sensor device, robot data storing means for storing data representing a position and or a posture of said robot in said first co ordinates system when said visual data are measured parameter measuring means for measuring parameters giving a relationship between said first coordinates system and said second co ordinates system by means of said visual data storing means and said robot data storing means parameter storing means for storing said measured parameters and means for transforming an information of a position and or a posture of an object in said second coordinates system into an information in said first coordinates system by using said parameters. 11. A method for correcting a robot visual sensor co ordinates system for a robot system including a robot, a stationary visual sensor device fixed close to said robot, an image processor for processing image data from said sensor device, an error calculating device and a robot control unit for controlling and processing said components and data, said method comprising the steps of moving said robot to a commanded position under a control of said robot control unit, measuring a position and posture of said robot in a stationary visual sensor co ordinates system by means of said stationary visual sensor device and said image processor after movement of said robot, calculating a commanded position and posture of said robot in said stationary visual sensor co ordinates system by means of said error calculating device, calculating errors in mounting said stationary visual sensor device from a deviation between said calculated and said measured position and posture of said robot, and correcting the deviation between a robot coordinates system and said stationary visual sensor coordinates system, which caused by said mounting errors. 12. A method for correcting a robot wrist visual sensor co ordinates system for a robot system including a robot, a sensor device mounted on a robot wrist, an image processor for processing image data from said wrist sensor device, a mounting error measuring device and a robot control unit for controlling and processing said components and data, said method comprising the steps of moving said robot to a commanded point close to a fixed point of a stationary object to be measuredfixed in a constant position and posture under a control of said robot control unit, calculating a position and posture of said robot hand, measuring a position and posture of said fixed point in a robot wrist visual sensor co ordinates system by means of said robot wrist visual sensor device and said image processor, calculating mounting errors of said robot wrist visual sensor from said measured and said calculated position and posture of said robot wrist by means of said mounting error calculating device, and correcting a deviation between said robot wrist co ordinates system and said robot wrist visual sensor co ordinates system.

## Description
METHOD FOR CORRECTING SYSTEMS OF COORDINATES IN A ROBOT HAVING VISUAL SENSOR DEVICE AND APPARATUS THEREFOR BACXGROUND OF THE INVENTIONFIELD OF THE INVENTION The present invention relates to a control means for a robot having a visual sensor device for measuring a position and posture of an object in a twoor three dimension, and more particularly to a coordinates system correction method and apparatus in which deviations between a visual co ordinates system and a robot co ordinates system are corrected whereby the operation of the robot with the visual sensor device may be carried out with high accuracy.DESCRIPTION OF THE PRIOR ART In general, environmental data from a visual sensor are defined by a proper co ordinates system fixed to the visual sensor. This is because the position and posture of an object are detected as the position and posture of the object in the proper co ordinates system fixed to the visual sensor. For instance, Japanese PatentPublication No. 36374 75 discloses a method for measuring a position of an object by using a television camera in a triangular surveying manner. Also, in this case, the position of the object is known by using a co ordinates system related to the television camera in accordance with the obtained video signals. On the other hand, it is convenient for carrying out various works that the robot works are defined by the movements of a tool mounted on a wrist of the robot.Therefore, it is desirable that the movement of the tool is defined in a proper co ordinates system fixed to the wrist. Also, in the case where characteristics of the robot per se, such as, for example, a speed command value of the robot are desired to be calculated on the basis of the co ordinates system proper to the robot body. Thus, it is desirable to use the co ordinates systems proper to the wrist and the body of the robot and the visual sensor, respectively, in order to control the operations of the wrist, the body and the visual sensor. However, in the prior art, almost no attempt has been made to adopt the respective co ordinate systems. Thus, in the conventional robot control system, the respective co ordinates systems have not been used.Therefore, the most preferable co ordinates system has not always been used for the respective structural components. In this connection, in the conventional robot system having a visual sensor, specific data types corresponding to the respective visual sensor components have been used whereby the data are represented to variously drive the robot. Therefore, it is necessary to provide various data types for the various visual sensor components and prepare various soft wares for driving the robot. Namely, if, for example, the co ordinates system for the visual sensor device is solely used, even if the same robot body and wrist are used, it is necessary to reform the overall data system for the co ordinates system of the visual sensor device. Further, in the prior art, the specific data system for the various visual sensor units is used.As a result, upon controlling the robot, such a difficulty would be encountered that a command signal for the sensor feedback control in a standardized manner with the robot language is given. Also, in the prior art, in the case where the robot is operated by use of the visual sensor, a planar binary or multivalue image is recognized by the visual sensor and the handling is carried out in accordance with such a recognition. Therefore, it is only possible to handle a planar object having a constant posture. At this time, it is sufficient to consider the parallel movement on a plane and the rotation in the plane as errors between the co ordinates system of the robot and the co ordinates system of the visual sensor as shown inUSP 3,986,007, and it is relatively easy to correct the co ordinates system. Such a correction is carried out in a recent planar visual sensor device which is available on the market.However, as the handling operation of the robot is increased and a object having complicated shape must be handled, it becomes necessary to recognize a three dimensional object having a non fixed position and posture as well as a planar object. In order to meet this requirement, there has been proposed a threedimensional recognition method using a dual visual sensor or distant image. In such a three dimensional visual sensor, it is necessary to correct spacial errors between the co ordinates systems of the robot and of the visual sensor. However, such a technique has never been proposed or realized.SUMMARY OF THE INVENTION An object of the present invention to provide a co ordinates system correction method capable of effectively utilizing data from a visual sensor means by using the respective co ordinates systems for the respective structural components and an apparatus for carrying out the same. Another object of the invention is to provide a co ordinates system correction apparatus capable of readily coping with the position change of the visual sensor device and or with the replacement of the visual sensor device. Still another object of the invention is to provide a co ordinates system correction method and apparatus capable of obtaining with ease and high accuracy a spacial relationship between the visual sensor coordinates system and at least one of the co ordinates systems of the robot body and the robot hand. In order to attain the above mentioned objects, according to the invention there is provided a co ordinates system correction apparatus in which a co ordinates system is setted in at least one of robot body and a robot hand, the apparatus comprising visual sensor means to which a proper co ordinates system is setted, means for detecting a position and or posture of the object in the co ordinate system in the visual sensor means, and parameter storing means for storing parameters determining a relationship between the co ordinates system of the visual sensor means and at least one of the coordinates systems of the robot body and the robot hand, wherein by using the co ordinates transformation parameters, the position and or posture of the object in the coordinates system of the visual sensor means are transformed into one in the co ordinates system of the robot hand and or the co ordinates system of the robot body, or transformed into one in the co ordinates system of the robot body and further transformed into one in the coordinates system of the robot body. According to the present invention, transformation parameters are established in the three co ordinates systems of the visual sensor means, the robot hand, and the robot body or in the two co ordinates systems if the co ordinates systems of the robot hand and the robot body are the same , so that the environmental data in the proper co ordinates system established in the visual sensor means may be used in other co ordinates system.Therefore, it is advantageous that the respective coordinates systems may be used for the respective structural components. In addition, the environmental data obtained from the visual sensor means may be effectively used. According to another aspect of the invention, a plural kinds of the co ordinates transformation parameters are set and stored in the storing means whereby even if the visual sensor means is replaced by another visual one, the co ordinates transformation parameters corresponding thereto may be assigned. In accordance with the specific embodiment, since plural kinds of transformation parameters are prepared, any parameter may be assigned corresponding to the various visual sensor means. Such a various correspondence to the various kinds of visual sensor means is actually available. It is necessary to fix the visual sensor means anywhere in the robot body. However, the visual sensor means is not limited to a single visual sensor means, and it is general that the position where the visual sensor means is fixed is different in accordance with an object to be handled.Therefore, it is necessary to install the visual sensor means to a different position in accordance with the respective mounting positions and to use different visual sensor means. It is therefore preferable to assign the corresponding parameters in accordance with the respective positions. As in the embodiment of the invention, if plural kinds of parameters are stored, when the visual sensor means is replaced by new one or changed in its position, it is possible to assigne the parameters corresponding to the changes. This is very convenient. Also, it is necessary to measure the position and posture of the object and direct the robot hand to the posture direction in order to handle the object in any position and posture. To meet this requirement, it is necessary to accurately correct a deviation of the visual sensor co ordinates system for measuring the position and posture of the object from the robot body or robot hand co ordinates system in accordance with the parameters. By the way, even if the robot is moved in accordance with the position and posture information measured by the visual sensor device, the robot is moved to a position and posture deviated from the practical position and posture of the object.Therefore, by utilizing this feature inversely, in the robot body and or robot hand co ordinates systems, the position and posture of the object known in advance are measured by the visual sensor means, and it is possible to obtain the parameters giving a relationship between the robot visual sensor and the robot body or hand co ordinates systems from the errors between the measured values and the calculated values. In accordance with the present invention, by using the parameters in this manner, the correction between the robot body or hand co ordinates system and the visual sensor co ordinates system may be attained. BRIEF DESCRIPTION OF THE DRAWING8 Fig. 1 is a schematic view showing a robot system to which one embodiment of the invention is applied Fig. 2 is a perspective view showing a coordinates system of a visual sensor shown in Fig. 1 Fig. 3 is a perspective view showing a coordinates system fixed to the object shown in Fig. 2 Fig. 4 is a schematic view illustrating a robot system to which a three dimensional stationary visual sensor device is fixed Figs. 5 and 6 are views showing a relationship between the robot co ordinates system and the stationary visual sensor co ordinates system Fig. 7 is a block diagram showing the functions of the components of the system shown in Fig. 4 Fig. 8 is a view showing one robot system having a three dimensional visual sensor Fig. 9 is a view showing a relationship between the robot hand co ordinates system and the robot visual sensor co ordinates system Fig. 10 is a view showing a relationship between the object and the robot hand with a visual sensor and Fig. 11 is a block diagram showing the functions of the components of the system shown in Fig. 8.DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS A preferred embodiment of the invention will now be described with reference to the accompanying drawings. In Fig. 1, there is shown a robot system provided with a co ordinates system correction device in accordance with the preferred embodiment. Two visual devices 1 and 2 are provided in this robot system. The stationary visual device 1 is secured to a base 5 on which a robot 3 is installed. The wrist visual device 2 is mounted on a wrist portion of the robot 3. The robot system shown has six degrees of freedom in motion. In this robot system, the visual devices 1 and 2 may detect a position and a posture of an object 4.A co ordinates system is set in a robot body. More specifically, stationary co ordinates XYZ is fixed in a stationary portion between the robot 3 and the base 5.Another co ordinates system is set in the wrist portion of the robot 3 and is, in particular, composed of coordinates iyhzh of a hand 6. On the other hand, proper co ordinates systems are established for the visual devices 1 and 2, respectively. Namely, a co ordinates system xlylzl is fixed for the stationary visual device 1 and a co ordinates system x2y2z2 is fixed for the wrist visual device 2. When the object 4 are detected on the basis of the co ordinates systems xlylzl and x2y2z2 by the visual devices 1 and 2 through an image processor 8, the data from the visual devices 1 and 2 on the basis of the visual device co ordinates systems are transformed into the data on the basis of the co ordinates systems of the robot 3 through parameters giving relationships between the co ordinates systems of the visual devices 1 and 2, and the stationary co ordinates XYZ and the co ordinates xht Yht Zh of the hand 6. Thus, the data detected by the visual devices 1 and 2 on the basis of their own co ordinates systems are transformed into the data on the basis of the co ordinates systems of the robot body and of the wrist of the robot.The robot operates on the basis of such transformed data. In this manner, the structural components can desirably operate on the basis of the respective co ordinates systems. The abovedescribed parameters are stored in a parameter storing means incorporated in a robot control unit 7. In this embodiment, a plural sets of parameters are provided and stored in the parameter storing means so as to readily cope with the position changes of the visual devices and or the replacement of the visual devices. The construction and the operation of the embodiment will now be described in more detail. As described above, in this embodiment, a visual sensor system includes two visual devices 1 and 2.The stationary visual device 1 is fixed to the base 5 and the wrist visual device 2 is mounted on the wrist portion of the robot 3. Each of the visual devices is composed of, e.g. a camera having a slit light source.The stationary visual device 1 is a two or three dimensional visual sensor and can recognize the position and the posture of the object 4. For instance, if the stationary visual device 1 is a two dimensional visual sensor, a position p of the object 4 in the co ordinates system fixed to the visual device 1 as shown in Fig. 2 is defined by the components Px1 Py1 Pzl of the x1 y1 z1 axes and is expressed in the following equation 1 . P Px1 i1 Pyl j1 Pzl k1 ..... 1 where l1 j1 and k1 are the unit vectors in parallel to the xl, y1 and z1 axes, respectively. When the stationary visual device 1 is the two dimensional sensor, in general, a direction of the z1 axis is determined by the mounting position of the visual sensor and the componentPz1 is a constant. On the other hand, the posture of the object 4 is expressed by cosine components of the two axes fixed thereto and intersected at a right angle with each other as shown in Fig. 3. The cosine compo nents are given by unit vectors f and g. When the object 4 shown in Fig. 3 is viewed from above the axis f with the two dimensional visual sensor, the posture is given as follows. k1 g gx1 i1 gy1 j1 EMI12.1 tb SEP 1 SEP 0 SEP 0 SEP 1 SEP 0 SEP 0 tb SEP PX SEP fX SEP gX SEP Px1 SEP fx1 SEP gx1 tb SEP SEP SEP A SEP SEP SEP .... SEP 7 tb SEP PY SEP fY SEP gY SEP Py1 SEP fy1 SEP gy1 tb SEP Pz SEP fz SEP gz SEP Pz1 SEP fz1 SEP gz1 tb where A is a matrix of 4 x 4 and its all elements are constants. If the stationary visual device 1 is of the three dimensional type, it is possible to recognize any positions and postures of the object. In this case, the 9 nine parameters of Pxl Pylr ., gy1 and in the following equations may be detected. P Px1 i1 Py1 j1 Pz1 k1 .... 4 f fx1 i1 fy1 j1 fz1 k1 .... 5 g gx1 i1 gy1 j1 gz1 k1 .... 6 Since the stationary visual device 1 is fixed to the base 5, the relationship between to co ordinates system of the stationary visual device 1 and the stationary co ordinates XYZ is unchangeable a fixed manner, and then the cosine components PX PY PZ , fX fY fZ , gX gY gZ of p, f, g in the co ordinates XYZ are given by the following relationship with using the data from the visual device 1. In the same manner, the wrist visual device 2 mounted on the wrist portion of the robot may detect the position and posture components Px2 Py2 Pz2 , fx2 fy2 fz2 , gx2 gy2 gz2 of the object on the basis of the characteristic co ordinates system x2 y2 z2 fixed in the visual device 2. Since the visual device 2 is fixed to the wrist of the robot, the co ordinates system of the visual device 2 is in an unchangeable relation with the co ordinates xh yh, Zh of the hand 6 also fixed to the wrist portion. The data of the position and posture of the object from the wrist visual device 2 are transformed into the data on the basis of the hand coordinates system through the following relationship.EMI13.1 tb 1 SEP 0 SEP 0 SEP 1 SEP 0 SEP 0 tb Pxh SEP fxh SEP gxh SEP Px2 SEP fx2 SEP gx2 tb SEP SEP SEP SEP B SEP SEP SEP SEP .... SEP 8 tb Pyh SEP fyh SEP gyh SEP Py2 SEP fy2 SEP gy2 tb Pzh SEP fzh SEP gzh SEP Pz2 SEP fz2 SEP gz2 tb where B is a matrix of 4 x 4 and its all elements are constants. As described above, in this embodiment, the relationship between the co ordinates system xl, y1, z1 of the stationary visual device 1 and the stationary co ordinates system X Y Z is given by the parameters determined by the matrix A. Also, the relationship between the co ordinates system x2, y2 z2 of the wrist visual device 2 and the co ordinates system xh Yh, zh of the hand 6 is given by the parameters determined by the matrix B. Therefore, the data which the visual devices 1 and 2 recognize with their own co ordinates systems, respectively, are transformed into the data on basis of the co ordinates systems of the robot 3 and the hand 6 fixed to the wrist of the robot 3 through the abovedescribed parameters. The robot operates on such transformed data.These parameters are stored in the parameter storing means of the robot control unit 7. The embodied apparatus with such a construction will operate as follows with respect of the control of the robot. For instance, when it is assumed that the hand 6 of the robot is controlled to be positioned in the same place as the position and the posture of the object are recognized by the visual sensors. In this case, it is preferable that the position and posture p, f, g of the hand 6 be given by the stationary co ordinates system. Therefore, when the stationary visual device 1 is used, the data from the visual device 1 are multiplied by the matrix A of parameter and are transformed into the data on the stationary co ordinates. This makes it possible to control the hand 6 by means of usage of such transformed data.When the wrist visual device 2 is used, in the same manner, the data from the visual device 2 is used, in the same manner, the data from the visual device 2 are multiplied by the matrix B of parameter and are transformed into the data on the hand co ordinates system. In this case, the transformed data may be further transformed into the data on the stationary co ordinates system by using another parameters. These another parameters may be expressed by a matrix C, the matrix C is of 4 x 4 type and its elements are functions of 6 six displacements of a kinematic pair 1, 2, ..., 6, i.e. cij fij 1 2 ..., 6 . From the values of p, f and g thus transformed into the stationary co ordinates system, the displacements of the kinematic pair 1f 2f .., 66f are calculated, each of which corresponds to the respective transformed values. Then, an actuator for driving the kinematic pair is controlled so that each dispacement of the respective pairing elements becomes the corresponding calculated value. An explanation has been made as to the example of a robot system having two visual sensors. However, any number of the visual sensors may be used as far as parameters determining a relationship between the coordinates fixed to each visual sensor and the robot coordinates are defined. In this case, if the visual sensors are numbered and then the number of a desired visual sensor is called out by a robot language or the like, the control unit 7 generates a drive signal to the desired visual sensor. Then, the data from visual sensors are multiplied by a matrix parameters stored in advance and corresponding to the called visual sensor, so that the data for controlling the robot may be obtained. As described above, in the co ordinates system correction apparatus in accordance with this embodiment, since the visual devices 1 and 2 are provided with the respective co ordinates system therefor and the relationships between the sensor co ordinates systems and the robot co ordinates systems are determined by the matrixes, the same drive soft ware may control the robot in accordance with each signal of the sensors even for the robot system having a plurality of visual sensors.Therefore, it is possible to standardize the drive soft ware. Also, if the matrices each corresponding to the respective sensors are stored in the control unit 7 in advance, it is possible to carry out the feedback control of the robot simply by calling the desired sensor number in terms of the robot language. A complicated robot language command may not be required. Further, if the parameters for data transformation are represented in a matrix form, it is possible to attain a high speed calculation through an array processor. If the matrix is simple, it is of course possible to make the data trans formation through a particular sub routine. In the preceding embodiments, although there is not shown a specific method for obtaining the transformation matrixes A or B in the case where the visual device 1 or 2 is of a three dimensional visual sensor type, the co ordinates system correction apparatus in accordance with the present invention may be used for that case. A method for obtaining the matrix A will now be described in accordance with another embodiment. Fig. 4 is an illustration of one embodiment showing a parameter measuring method in relation to a three dimensional visual sensor. Fig. 5 is a schematic view showing a relationship between the robot and the stationary visual sensor. Fig. 6 shows a relationship between the co ordinates systems of the robot and the stationary visual sensor. Fig. 7 is a block diagram illustrating functions of components of the embodiment shown in Fig. 4. In these figures, a reference numeral 1 designates a stationary visual device or sensor fixedly mounted onto a base 5 on which a robot 3 is installed.The robot 3 is provided at a distal end portion thereof with a hand 6. The stationary visual device 1 and the robot 3 are associated with a robot control unit 8, an image processor 8, and a parameter calculator 9. It is assumed, as shown in Fig. 5 that the OR is an origin of the robot co ordinates system comprising the axes of xp, yp and zp, and the Oy is an origin of v R the stationary visual sensor co ordinates system comprising the axes of xy, yy and zy, the relationship between the robot co ordinates system and the stationary visual sensor co ordinates system may be expressed by the following equations EMI17.1 EMI18.1 where L Lx, Ly, Lz is a vector representing the displacement from the origin OR of the robot co ordinates system to the origin av of the stationary visual sensor co ordinates system, and M gamma , Mss, and Ma are matrixes representing the three rotational displacements between the co ordinate systems.These matrixes are expressed as follows, when angles of rotation a, ss, and y are selected as shown in Fig. 6 EMI18.2 tb SEP 1 SEP 0 SEP 0 SEP cosss SEP 0 SEP sinss tb M alpha SEP SEP SEP SEP 0 SEP cos alpha SEP SEP sin alpha SEP SEP SEP , SEP Mss SEP SEP SEP SEP 0 SEP 1 SEP 0 tb SEP 0 SEP sin alpha SEP SEP cos alpha SEP SEP sinss SEP 0 SEP cosss tb SEP cosY SEP sinY SEP 01 SEP tb My SEP SEP sinY SEP cosY SEP O SEP .... SEP 11 tb SEP O SEP 0 SEP 1 tb The robot control unit 7 commands the robot 3 to move to the position X x, y, z and posture f fy, fz in terms of the robot co ordinates system. If the parameters Lx, Ly, Lz, a, a, and y are the same values as the designed one and include no error, the robot must be moved to the following points X x xR y yR z zR OR .... 12 f fx xR fy yR fz zR .... 13 To the contrary, in case that these position and the posture are calculated with using the data from the stationary visual sensor 1 and the calculated position and posture are expressed as X x , y , z , f fy , fy , fz . X x xv y yv z zv Ov .... 14 f fz, xv fy, yv fz, zv .... 15 The relationships between x, y, z and x , y , z , and between fx, fy, fz and fx , fy , fz are determined from the equations 9 to 11 . However, if the stationary visual sensor 1 is not accurately mounted on the predetermined portion of the robot system, the errors are expressed as Lx of Ly, ALz, Aa, ss, and Ay. In this case, the parameters in the equations 9 to 11 become Lx Lx , , a ha and the like. Therefore, even if the robot is commanded to move to X x, y, z , f fx, fyr fz , the robot can not reside in the position and posture x x , y , z , f fx , fy , fz but in X x , y , z , f fx , fy , fz which are deviated from x , f .Therefore, if the respective deviations between x , yl, z and x , y , z , and between fx , fy , fz and fx , fy , are are measured, ALx, ALy, ALz, Aa, ss, ty may be obtained from the equations 9 to 11 . The construction and operation of the embodiment shown in Fig. 4 will now be described with reference toFig. 7 The robot 3 is moved in accordance with the position and posture command vectors X, f from the robot control unit 7 step 101 . The stationary visual sensor 1 picks up an image of the robot 3 after the movement thereof and feed the image information to the image processor 8 step 102 . The position and posture X , f of the robot 3 as viewed from the stationary visual sensor 1 are measured in the image processor 8 step 103 . On the other hand, the parameter calculator 9 calculates the position and posture X , f equations 14 and 15 in the stationary visual co ordinates system by using the equations 9 , 10 and 11 on the basis of the command signals or vectors X, from the robot control unit 7 step 104 . If the stationary visual sensor 1 is accurately mounted on the predetermined portion of the robot system, the position X and posture fll of the robot measured by the stationary sensor 1 coinside with the calculated position X and posture f of the robot.To the contrary, if the stationary sensor 1 is not accurately mounted on the predetermined portion of the robot system, the measured position X and posture are deviated from the calculated position X and posture t by some deviations caused by such unaccurate mounting of the robot. Namely, the measured position X and posture f have the deviations from the practical position and posture of the robot, which are caused by the parameter errors, e.g. ALx. Accordingly, the correct parameters may be obtained from the respective deviations between X and Z , and between and t steps 105, 106 . Also, in the above described measurement of the parameters, even if the visual device is fixed to the wrist of the robot as the visual sensor 2, the matrix B may be obtained in the same manner. Fig. 8 is a schematic view illustrating one embodiment of a robot system having a three dimensional movable visual sensor, Fig. 9 shows the relationship between the robot hand co ordinates system and the robot visual sensor co ordinates system, Fig. 10 shows the relationship between the object and the robot hand with the visual sensor more specifically, and Fig. 11 is a block diagram showing the functions of the components of the system shown in Fig. 8. In these figures, a reference numeral 2 designates a wrist visual sensor mounted on a distal end portion of the robot for sensing an object 4 to be measured.The other elements and components are the same as shown in Fig. 4. As shown in Fig. 9, the parameters to be used upon mounting the robot wrist visual sensor 2 on the robot wrist include 6 six parameters such as a vector L , L , Lz representing a displacement between the originOh f the robot hand co ordinates system and the origin of the robot wrist visual sensor co ordinates system, and angles of rotation a, ss, y representing the respective rotational displacement between the corresponding axes of the co ordinates systems.In this case, the relationships between the origin Oh of the robot hand co ordinates system and the origin Oy of the wrist visual sensor coordinates system, and between the axes xh, yh, Zh of the robot hand co ordinates system and the axes xv, yv, of the wrist visual sensor co ordinates system are V represented by the following equations Ov Oh Lx xh Ly yh Lz zh .... 16 EMI22.1 where Ma, Ma and MY are the 3x3 matrixes representing the rotations about xhr Yh and Zh, respectively, and are given as follows EMI22.2 tb SEP 1 SEP 0 SEP 0 tb M alpha SEP SEP 0 SEP cos alpha SEP SEP sin alpha SEP SEP , tb SEP 0 SEP sin alpha SEP SEP cos alpha tb EMI23.1 tb SEP cosss SEP 0 SEP sinss tb 0 SEP 1 SEP 0 tb SEP sina SEP O SEP cosa SEP tb EMI23.2 tb SEP cos gamma SEP sin gamma SEP 0 tb M gamma SEP SEP SEP SEP SEP sin gamma SEP SEP cos gamma SEP 0 SEP SEP tb SEP 0 SEP 0 SEP 1 SEP .... SEP 18 tb As shown in Fig. 10, if the normal vector fixed to the object 4 as viewed from the robot wrist visual sensor co ordinates system is expressed asEMI23.3 EMI23.4 the following equation is obtained EMI23.5 In order to express this vector in terms of the robot hand co ordinates system, the vector is transformed into the following equation by expressing xv, yv, zv by xh, yh, in accordance with the equations 17 and 18 EMI23.6 where the normal vector as viewed from the robot hand co ordinates system is expressed byEMI23.7 Also, when a point on the object 4 is viewed from the visual sensor co ordinate system, if the point is viewed as X xv, YVZ ZV , the following equation is given X xv xv yv yv zv zv .... 21 If the scaling ratios of the television camera of the robot wrist visual sensor 2 are expressed by Sx, Syl with respect to the respective directions xv, yv, zv,X is viewed from the robot wrist co ordinate system, and is expressed in accordance with the equation 16 as follows X Lx Xh Ly yh Lz zh sx xv xv sy yv yv sv zv zv .... 22 xv, yv, zv in this equation are represented by xh, yh, zh in accordance with the equations 17 and 18 and are substituted thereby.Then, the following equation is given X xh xh yh yh zh zh .... 23 If the equation 22 is thus transformed, the fixed point as viewed from the robot wrist co ordinate system is positioned as X xh, yh, zh AS potential errors which would be generated when the robot wrist visual sensor 2 is mounted on the robot hand, errors Lx, Ly, Lz, alpha , ss, gamma would be considered with respect to Lx, Ly, Lz, a, ss, y, respectively.When these errors would be present, the parameters in the equations 16 to 18 such as Lx are replaced by Lx ALx and the like. In this case, the equations 16 and 17 may be rewritten as follows EMI25.1 The element gi of the matrix G includes errors Lx and the like. If gij is known, ALX, ALy, Lz, Aa, ss, Ay may be known by conducting suitable calculations. Unless errors exist, the object 4 which resides in a position X xv, yv, zv and in a posture f EMI25.2 as viewed through the robot wrist visual sensor 2 may reside in a position X xht yh, zh and a postureEMI25.3 as viewed through the robot hand co ordinates. However, actually, due to the errors such as ALx, it is measured that the object 4 resides in a position X x h, Yh, z h and in a postureEMI25.4 EMI25.5 By these deviations of the position and posture, the equations 16 and 17 are deformed into the equation 24 . Accordingly, by measuring the deviations in position and posture, it is possible to determine the elements gij of the matrix G.If the elements gij are known, the errors such as Lx may be obtained. The construction and operation of the specific embodiment will now be described with reference to Figs.8 and 11. The robot 3 is moved close to the fixed point on the object 4 in accordance with the command signals of the position and posture from the robot control unit 7 step 201 . Thereafter, the image information is inputted into the robot wrist visual sensor 2 and fed to the image processor 8 step 202 . The position and posture X and t are measured in the image processor 8 step 203 . On the other hand, the position and posture of the fixed point on the object is inputted in advance in the parameter calculator 9 step 204 . On the basis of the wrist position and posture information step 205 from the robot control unit 7, the position and postureX and f of the fixed point as viewed from the robot wrist visual sensor co ordinates system are calculated in accordance with the equations 16 , 17 and 18 step 206 . Upon the calculation of X, f, it is made on the basis of that there is no error in the parameters whereas the X , f measured by the robot wrist visual sensor 2 include the parameter errors. Therefore, the vectors X and X and f and t are different from each other.Then, if the matrix G in the equation 24 is obtained in accordance with X , t step 207 , the parameters included in the respective components of the matrix G include errors. Accordingly, by comparing the parameters in the equations 16 and 17 to the parameters in the matrix G, it is possible to obtain the parameter errors step 208 As described above, in accordance with the present invention, in a co ordinate system correction apparatus including visual sensor means for detecting a position and or posture of an object, the apparatus comprises means for setting a co ordinate system in at least one of a robot body and a robot wrist, setting a proper co ordinate system in the visual sensor means and detecting the position and or posture of the object in the co ordinate system in the visual sensor means, and parameter storing means for storing parameters determining a relationship between the co ordinate system of the visual sensor means and at least one of the co ordinate systems of the robot body and the robot wrist. By using the co ordinate transformation parameters, the position and or posture of the object in the co ordinate system of the visual sensor means are transformed into the co ordinate system of the robot wrist and the co ordinate system of the robot body, or otherwise into the co ordinate system of the robot body and further transformed into the co ordinate system of the robot body.Accordingly, the respective structural elements such as the visual sensor means are operated by the respective co ordinate systems.Thus, by the operation in a desired condition, it is advantageous that the obtained data are effectively utilized. Also, it is easy to carry out the co ordinate transformation with the parameters. By storing the parameters in the parameter storing means, it is possible to always correspond to the transformation of the data from the visual sensor means. Furthermore, according to the invention, by preparing and using a plurality of parameters, it is possible to correspond to the case where the visual sensor is changed in position and another visual sensor is used. Also, it is possible to construct the robot system so as to command the robot in a standardized manner with a simple robot language. Moreover, in accordance with the present invention, since three dimensional mounting parameters generated when the visual sensor is fixed to the robot co ordinates system may be obtained by moving the robot, the following meritorious advantages can be obtained. 1 By obtaining the three dimensional mounting parameters and using them, it is possible to handle with high accuracy a three dimensional object taking any position and posture as well as a planar object by means of the visual sensors. 2 Also, the mounting parameters may be obtained simply by measuring the object while moving the robot. Accordingly, the correction work can be made more readily than the measurement of the mounting parameters with a measuring tools. This leads to enhancement in accuracy of the robot operation and in efficiency. It is apparent that the present invention is not limited to the embodiments shown but various changes or modification are possible for those skilled in the art.