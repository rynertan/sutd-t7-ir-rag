# Programmable memory device provided with test means.

## Abstract
A programmable device which is capable of being prog rammed by its user in the field but which is also capable of being tested during manufacture, before it is programmed, has a memory cell array 1 , including regular bit lines 11 , regular word lines 12 , regular memory cells 13 connected at the crossing points of the regular bit lines 11 and regular word lines 12 , test bit or test word lines, and nonconducting and conducting test memory cells 16 connected at the cros sing points of the regular bit or regular word lines and test word line 15 or test bit line 14 . The conductivity of the test memory cells 16 is determined by the 1 or 0 of the address signal by which the test word line 15 or test bit line 14 to which the test memory cell is connected is selected so that peripheral circuits 2, 3, 4, 5, 6, 7 of the device may be tested for all of their functions before programming the regu lar memory cells 13 .

## Claims
C L A I M S 1. A programmable device having a memory cell array including regular bit lines, regular word lines, regular memory cells connected at the crossing points of the regular bit lines and the regular word lines and test bit or test word lines adjacent to a group of the regular bit or regular word lines and connected to test memory cells, characterised in that nonconducting test memory cells are connected at the crossing points of the regular bit or regular word lines selected by Wne address signal 0 and one of the test bit or test word lines, and conducting test memory cells are connected at the crossing points of the regular bit or regular word lines selected by the address signal 1 and one of the test bit or test word lines. 2. A programmable device according to claim 15 further characterised in that the order of the conductivity of the test memory cells for the regular bit or regular word lines due to the introduction of the Nth address signal is the reverse of the order of the conductivity for the test memory cells for the regular bit or regular word lines corresponding the first through N l th address signals. 3. A programmable device according to claim 1 or 2, further characterised in that the conductivity of the test memory cell connected to the crossing point of a second test bit or a second test word line and a regular word or a regular bit line is the reverse of the conductivity of the test memory cell connected to the crossing point of the first test bit or the first test word line and the regular word or the regular bit line. 4. A programmable device according to claim 1, 2 or 3 further characterised in that the conductivity of the test memory cell connected to the crossing point of one regular bit or regular word line and a test word or a test bit line is the reverse of the conductivity of the test memory cell connected to the crossing point of the regular bit or the regular word line adjacent to said one regular bit or regular word line and the test word or test bit line. 5. A programmable device according to any one of the preceding claims, further characterised in that the programmable element of the non conducting test memory cell is arranged so that no writing in of information occurs when it is addressed by the regular writing in current for a regular memory cell. 6. A programmable device according to any one of the preceding claims, further characterised in that resistors are connected in series with the conducting test memory cells. 7. A programmable device according to any one of the preceding claims, further characterised in that it includes a logic circuit comprising a level sensing circuit connected to an address signal input for producing a high level output when a signal having a level higher than the high level is applied to the address signal input, a NOR gate. connected to the output of an inverter connected to the address signal input, the output of the level sensing circuit being applied to an input of the NOR gate, and decoders which are connected to the test bit or test word lines and are supplied with the output signals from the level sensing circuit and the inverter. 8. A logic circuit for selecting test bit lines or test word lines of a programmable device having a memory cell array including test memory cells connected to test bit or test word lines, comprising a level sensing circuit connected to an address signal input for producing a high level output when a signal having a level higher than the high level is applied to the address signal input, a NOR gate connected to the output of an inverter connected to the address signal input, the output of the level sensing circuit being applied to an input of the NOR gate, and decoders which are connected to the test bit or test word lines and are applied with the output signals from the level sensing circuit and the inverter. 9. A programmable device having a memory cell array including regular bit lines, regular word lines, regular memory cells connected at the crossing points of the regular bit lines and the regular word lines, test bit or test word lines adjacent to a group of the regular bit or regular word lines, and test memory cells connected at the crossing points of the test bit or test word lines and the regular word or regular bit lines, in whlcli the programmable element of the non conducting test memory cell is arranged so that no writing in of ildormation occurs when it is addressed by the regular writing in current for a regular memory cell. 10. A programmable device having a memory cell array including regular bit lines5 regular word lines, regular memory cells connected at the crossing points of the regular bit lines and the regular word lines, test bit or test word lines adjacent to a group of the regular bit or regular word lines, and test memory cells connected at the crossing points of the test bit or test word lines and the regular word or regular bit lines, in which resistors are connected in series with the conducting test memory cells.

## Description
A PROGRAMMABLE DEVICE The present invention relates to a programmable device and more particularly a programmable device for being programmed in the field by its user but which is capable of being tested during manufacture. The programmable devices to which the present invention relates include, for example, a ROM Read Only Memory , aPROM Programmable Read Only Memory and a FPLA FieldProgrammable Logic Array . Such devices usually include a memory cell array with a number of peripheral circuits to address, program and read out the memory cell array. In the existing systems for testing programmable devices, only tests for a limited number of types of faults in the peripheral circuits are possible. It is impossible to carry out a wide range of tests covering various types of faults in the peripheral circuits which makes it difficult to carry out reliable testing of the programmable devices before they have been programmed. According to this invention, a programmable device having a memory cell array including regular bit lines, regular word lines, regular memory cells connected at the crossing points of the regular bit lines and the regular word lines and test bit or test word lines adjacent to a group of the regular bit or regular word lines and connected to test memory cells is characterised in that non conducting test memory cells are connected at the crossing points of the regular bit or regular word lines selected by the address signal O and one of the test bit or test word lines, and conducting test memory cells are connected at the crossing points of the regular bit or regular word lines selected by the address signal all and one of the test bit or test word lines. Particular examples of programmable devices in accordance with this invention will now be described and contrasted with the prior art with reference to the accompanying drawings in which Figure 1 is a block diagram of a conventional programmable device Figure 2 is a circuit diagram of the arrangement of the memory cells in the memory cell array of a conventional programmable device Figure 3 is a circuit diagram of the address inverter corresponding to an address signal used in a conventional programmable device Figure 4 is a circuit diagram of an example of the connection of test memory cells to a test bit line Figure 5 is a circuit diagram of the connection of test memory cells to a test bit line for a single address signal input in accordance with an embodiment of the present invention Figure 6 is a circuit diagram of the connection of test memory cells to a test bit line for two address signal inputs in accordance with an embodiment of the present invention Figure 7 illustrates the arrangement of test memory cells to be connected to a test bit line for four address signal inputs in accordance with an embodiment of the present invention Figure 8 is a circuit diagram illustrating an arrangement of test memory cells connected to test bit lines to enable the carrying out of an alternating current characteristic test Figure 9 is a circuit diagram showing an arrangement of test memory cells connected to a test bit line to enable the detection of a short circuit in conductors of the device Figure 10 is a logic circuit diagram of a circuit for selecting test word lines or test bit lines which is particularly suitable for testing the programmable device in accordance with the present invention Figure 11 is a logic circuit diagram of a conventional circuit for selecting test word lines or test bit lines and, Figures 12 and 13 are circuit diagrams showing the arrangement of test memory cells connected to test word lines for eliminating an incorrect test caused by a leakage of current in the device in accordance with the present invention. A programmable device, in general, as illustrated in Figures 1 and 2, comprises a memory cell array 1, an X direction address inverter 2, a Y direction address inverter 4, an X direction decoder driver 3, a multiplexer 5, a programming circuit 7 and an output circuit 6. In the memory cell array 1, regular memory cells 13 are connected between bit lines 11 and word lines 12 at crossing points of the bit lines 11 and the word lines 12 Before forwarding this programmable device to a user, it is necessary to test it to check for faults in the peripheral circuits, such as the X and Ydirection address inverters 2, 4, the decoder driver 3 the programming circuit 7, the multiplexer 5 and the output circuit 6.The regular memory cells 13 in the memory cell array 1 are in their original state in which no writing in of information has occurred when the programmable device including the memory cell array 1 is supplied from a manufacturer to a user. Therefore it is necessary to provide test bit lines 14, test word lines 15 and test memory cells 16 adjacent to the group of the the bit lines 11 and the word lines 12 for enabling the detection of faults in the peripheral circuits. In the past these test memory cells 16 have been selectively placed in a conducting or non conducting state as a rest of applications of predetermined data signals. In accordance with the present invention, the connection of either a conductive test memory cell C or a non conductive test memory cell NC is established as illustrated in Fig. 5. In order to understand the connection shown in Fig. 5, it is necessary to analyse the possible defective operations in inverters Il and 12 of the address inverter 2. In Fig. 3 a circuit of the inverters I1 and 12 which receives an address input A0 to the address inverter 2 is illustrated. An inverter can be in one of three states the normal state, an abnormal state in which the output signal of the inverter is always 1 a fixed 1 , and an abnormal state in which the output signal of the inverter is always 0 a fixed 0 .The possible combinations of the states of the inverter I1 and the inverter 12 are shown in Table 1, below. Table 1Case N3. I1 2 1 normal normal 2 normal fixed 1 3 normal fixed 0 4 fixed 1 normal 5 fixed 1 fixed 1 6 fixed 1 fixed 0 7 fixed 0 normal 8 fixed 0 fixed 1 9 fixed 0 fixed 0 With regard to the circuit of Fig 3, the outputs of the inverters I1 and 12 in accordance with the signals 1 and O of the address input Ao are tabulated inTable 2, below, as they correspond to each of the CaseNos. 1 through 9 of Table 1. Table 2 I1 Output Case No. I1 Output I2 Output A0 l A0 0 A0 1 A0 0 1 11011 11111 11111 11011 2 11011 11111 11111 3 11011 1 11011 0 4 1 11111 11011 11011 5 1 1 1 1 6 1 1 0 0 7 0 0 1 1 8 0 0 1 1 9 0 0 0 0 Fig. 4 illustrates the case where a conductive test memory cell C is connected between a word line W0 and the test bit line 14, and a non conductive test memory cell NC is connected between a word line W1 and the test bit line 14. The word line W0 is connected through a NAND gate 310 to the output of the inverter I1 and the word line W1 is connected through a NAND gate 311 to the output of the inverter I2. 2 The conduction or the non conduction of a current from the test bit lines to either of the word lines W0 and W1 in accordance with signals 1 and 0 of the address input Ao are tabulated in Table 3, below, as they correspond to each of the Case Nos. 1 through 9 ofTable 2. It should be noted the conduction occurs only through a conductive test memory cell C connected between the test bit line 14 and a word line only when the level of said word line is 0 . Table 3Case No. A0 l A0 0 1 Non conduction Conduction 2 Non conduction Conduction 3 Non conduction Conduction 4 Conduction Conduction 5 Conduction Conduction 6 Conduction Conduction 7 Non conduction Non conduction 8 Non conduction Ison conduction 9 Non conduction Non conduction Table 3 indicates that it is impossible to distinguish the Case No, 1, which corresponds to the normal states of both inverters 11 and 12 Table 1 , because the combination of the son conduction for Ao l and the Conduction forA0 0 occurs identically in the case No. 2 and the CaseNo. 3.Accordingly, it is impossible to detect the defective operations of the inverters Il and I2 by means of the connections of the test memory cells illustrated in Fig. 4. In accordance with the present invention, a non conductive test memory cell NC is connected between the word line wO 0 and the test bit line 14 and a conductive test memory cell C is connected between the word line W1 and the test bit line 14. The word line W0 is connected through a NAND gate 310 to the output of the inverter I1 and the word line W1 is connected through a NAND gate 311 to the output of the inverter I2. 2 A word line is selected when the level of said word line is caused to be 0 level in accordance with address signals. In this case the following Table 4 is obtained. Table 4 Case No. 1 A0 11, 1 Conduction Non oonduction 2 Conduction Conduction 3 Non conduction Non oonduction 4 Non conduction Non conduction 5 Conduction Conduction 6 Non conduction Non conduction 7 Conduction Conduction 8 Conduction Conduction 9 Non conduction Non conduction In Table 4, the combination of the Conduction for A o l and the Non conduction for At 10 only occurs in the Case No. 1. This indicates that it is possibleto distinguish the Case No. 1, which corresponds to the normal states of both inverters I1 and 12 Fig. 1 , and accordingly, it is possible to detect a fault in the address inverter with the aid of the test bit line 14. The above description refers to the case where the number of the address inputs is one. In the case where the number of the address inputs is N, the order of the conductivity of the test memory cells for the extended word lines due to the introduction of the Nth address signal is the reverse of the order of the conductivity of the test memory cells for the word lines corresponding the first through N l th address signals, in accordance with the present invention. Examples of the case where the number of the address input is N are illustrated in Figs. 6 and 7. The number of the address input is two in Fig. 6 and four in Fig. 7.In Fig. 6, the order C, NC of the test memory cells connected to the word lines W2 and W3 , which are added in accordance with the second address input A1 , is the reverse of the order NC, C of the test memory cells connected to the word lines W0 and W1. In Fig. 7, the order C, NC, NC, C from the fifth test memory cell to the eight test memory cell, which are added in accordance with the third address input A2 , is the reverse of the order NC, C, C, NC from the first test memory cell to the fourth test memory cell, which correspond to the first and the second address inputs Ao and A1.Also, the order C, NC, NC, C, NC, C, C, NC from the ninth test memory cell to the sixteenth test memory cell, which are added in accordance with the fourth address input A3 , is the reverse of the order inc, C, C, sc, C, sc, NC, C from the first test memory cell to the eighth test memory cell, which correspond to the first, the second and the third address inputs Ao , A1 and A2. It is preferable that a test of the alternate current characteristic of the field programmable device under test be conducted in addition to a test of the direct current characteristic of the same. The direct current characteristic relates to, for example, the level of the output signals of the logic circuits of the device, while the alternate current characteristic relates to, for example, the rising time or the falling time of the output signals of the logic circuits of the device. The circuit which allows this alternate current test to be conducted in accordance with an embodiment of the present invention is illustrated in Fig. 8.In the circuit of Fig. 8, a first test bit line tbl and a second test bit line tb2 are provided and the conductivity of a test memory cell connected to the second test bit line tb2 is the reverse of a test memory cell connected to the first test bit line tbl. For example, a conductive test memory cell C is connected between the word line WO and the test bit line tb2, while a non conductive test memory cell NC is connected between the word line W0 and the test bit line tbl. Thus, at least one conductive test memory cell is connected to each of the word lines. In the circuit of Fig. 8, the test of the alternate current characteristic and the writing in abilities for the entire decoder drivers and the address inverters is performed with the aid of the test bit lines.If no second test bit line is provided, conductive test memory cells are connected to only one half of all of the word lines. In such a case, only a test for one half of all of the decoder drivers is possible. It is preferable to eliminate an incorrect test caused by a short circuit of the conductors in a field programmable device under test. The circuit for eliminating such an incorrect test in accordance with an embodiment of the present invention is illustrated in Fig. 9. In the circuit of Fig. 9, one of the neighboring word lines, to both of which the test memory cells of the same conductivity are connected respectively, exchanges its position with the next word line. That is, in the case where the order of the test memory cells is NC, C, C, NC , corresponding to the word lines O , W1 , W2 and W3 , the order of the word lines is caused to be who , W1 , N3 , w2 by exchanging the position of the word line W2 and W3.In the circuit of Fig. 9, an incorrect test due to a short circuit between, for example, the neighboring word lines W1 and W3 is eliminated, because a short circuit between the word lines Nl and N 3 can be detected because of the reverse conductivity between the test memory cells connected to the word lines W1 and N3. If the original order who , N1 , N21 , W3 of the word lines is maintained, an incorrect test result is obtained when a short circuit occurs between the word lines W1 and W2 , to both of which the memory cells of the same conductivity are connected. The above explanations of the embodiments of the present invention with reference to Figs. 5, 6, 7, 8 and 9 are set forth mainly with respect to test bit lines.However, the present invention is also applicable to a field programmable device which provides test word lines and test memory cells connected between the test word lines and the bit lines. A logic circuit for selecting a test word line or a test bit line which is particularly suitable for the above described embodiments of the present invention is illustrated in Fig. 10. In the circuit of Fig. 10, a level sensing circuit 28 consisting, for example, of a zener diode 281 and a resistor 282 is connected to the address signal input Ao , and a NOR gate 29 is connected to the output of the inverter Il , connected to the address signal input Ao The output of the level sensing circuit 28 is supplied to an input of the NOR gate 29.NAND gates 331, 332 of the decoder driver, which are selected by the output signal of the level sensing circuit and the output signal of the address inverter, are connected to the test word lines twl and tw2 For address signal inputs Ao A1 , in addition to the ordinary 0 signal and 1 signal, a third signal 1H , which is higher than 1X and makes the level sensing circuit produce a signal as high as 1 , is used for selecting the test word lines twl and tw2. In the circuit of Fig. 10, th address signal input Ao is caused to be 1H in order to select the test word lines twl and tw2. Then, the output of the level sensing circuit 28 becomes 1 , after which the output of the NOR gate 29 becomes 0, and the output of the inverter Il is O . Accordingly, at least one input of each of theNAND gates 310, 311, 312 and 313 is 0 , and therefore, none of the word lines WO , W1 , N2 and W3 is selected.The ouptut signal 1 of the level sensing circuit is supplied to the amplifier 27, and accordingly, an input of each of the NAND gates 331 and 332 becomes 1 . In this case, if the address signal input A1 is 0 , the output of the NAND gate 332 is caused to be O , and accordingly, the test word line tw2 is selected while, if the address signal input A1 is 1 , the output of the NAND gate 331 is caused to be 0 , and accordingly, the test word line twl is selected. If this circuit of Fig. 10 is not used, disadvantages in the production of the field programmable device are unavoidable. These disadvantages are explained with reference to a prior art circuit illustrated in Fig. 11.In the circuit of Fig. 11, the level sensing circuit 28A and 28B are connected to the address signal inputs Ao andA1 , respectively. When the address signal input Ao is lH , the output of the inverter 121 is caused to be O and the output 0 of the inverter I21 is supplied to theNAND gate 311, and accordingly, no selection of the word line wl is effected. While, when the address signal inputA1 is lah , the output of the inverter 123 is caused to be O and the output 0 of the inverter I23 is supplied to the NAND gate 312, and accordingly, no selection of the word line 2 is effected.In this way, in the circuit ofFig. 11, it is possible to perform the selection of the test word line. However, in the circuit of Fig. 11, it is necessary to provide a level sensing circuit and inverters for each of the address signal inputs, and connecting conductors between the outputs of level sensing circuits and inputs of the HAND gates of the decoder driver. This results in the disadvantages of a reduction of the degree of integration of the integrated circuit of the fieled programmable device and an increase in the cost of production of the field programmable device, because the number of the circuit elements is increased and the circuit connections become complicated. Although the circuit of Fig. 10 is used for the selection of the test word line, it is possible to construct a circuit for selecting the test bit line. Also, although the circuit of Fig. 10 is applicable ko the device having two test word lines, it is also possible to construct a circuit which is applicable to the device having three or more than three test word lines. A modified structure which may be applied to the above described embodiments of the present invention for eliminating an incorrect test due to current leakage in the device is illustrated in Figs. 12 and 13. In the circuits of Figs. 12 and 13, writing in currents are supplied through programming circuits 71, 72 to test memory cells, having either a conductive C or non conductive NC characteristic, which are connected at the cross points of the test word lines twl, tw2 and the bit lines bl , b2. In the circuit of Fig. 12, the structure of the non conductive S C test memory cells is such that no writing in is effected by the regular writing in current for the regular memory cells 13 connected at the cross points of the bit lines 11 and the word lines 12 Fig. 2 .This structure is determined by, for example, the area of the emitter, the depth of the base or melting point of the electrode material of the programmable element PE of the non conductive test memory cell NC . When the structure is determined by the area of the emitter, the area of the emitter of the programmable element put of the test memory cell is greater than that of the regular memory cell. In the circuit of Fig. 12, no writing in of the non conductive test memory cell is effected by supplying a test writing in current of, for exar le, 12 mA.Accordingly, it is possible to perform the test by sin this non conductive test memory cell in which no writing in is effected In the circuit of Fig. 13, a resistor R5 is connected in series with the conductive test memory C . It is possible to detect a current leakage in programming circuits 71, 72, which occurs only when the applied voltage exceeds a predetermined value, by using the voltage drop across the resistor Rs when the test current passes through the resistor Rs. Accordingly, it is possible to perform the test by using these series connected conductive test memory cell and the resistor. If the circuits of Figs. 12 and 13 are not used, an incorrect test due to current leakage in the device is unavoidable. The reason for the incorrect test can be explained by assuming that there is a defect causing current leakage only when the applied voltage exceeds a predetermined level in the programming circuits. In such a case, when writing in by the regular writing in current to the test memory cell is effected, it is possible to perform the test because the test is performed by passing the current through the conductive element without causing current leakage in the programming circuits. However, it is impossible to effect the writing in of the regular memory cells because of the interruption of the collector current of transistors 711, 721 of the programming circuits 71, 72 due to the shortage of the base current of said transistors 711, 712. Similarly, if no resistor is connected in series with the conductive test memory cell, it is impossible to perform the correct test. Although the above explanation of the embodiments of the present invention is mainly directed to the operation of the X direction address inverter and the X direction decoder driver, it is possible to apply the present invention to a field programmable device using the Y direction address inverter, the Y direction decoder driver and the multiplexer.