# Method of indicating the cause of a malfunction in a reproduction machine.

## Abstract
The system displays 70 an appropriate two digit fault code if a predetermined push button 132 on the operator keyboard is pressed while a status code is displayed. When the push button is released, the display 70 returns to the status code. The fault codes identify sources of malfunc tions rather than status code remedies for efficient fault diagnosis and correction.

## Claims
CLAIMS 1. A method of indicating the cause of a malfunction in a reproduction machine characterised by identifying the particular malfunction by a fault code storing the fault code in a temporary register determining if the fault code is the first fault storing the fault code in a random access memory location accessing the contents of the memory location and displaying an indication of the fault. 2. The method of claim 1 wherein the step of identifying the fault code includes the step of scanning a table of faults to determine the fault having highest priority. 3. The method of claim 1 wherein there are a plurality of machine malfunction possibilities, each possibility being associated with at least one memory location wherein the step of displaying the malfunction includes the step of displaying a manifestation associated with the contents of one of said memory locations. 4. A method of indicating the cause of a malfunction in a reproduction machine having a controller characterised by recognising the machine malfunction identifying the machine malfunction by means of a code related to the machine malfunction identifying other fault codes related to machine malfunctions identifying the first occurrence of a machine malfunction storing the code representing the first occurrence of a machine malfunction in a memory location, and displaying a manifestation of the first occurrence code upon request. 5. The method of claim 4 including displaying status codes, each status code being associated with at least one of the fault codes, the status codes indicating a corrective action related to the machine malfunction, and each fault code indicating the source of the machine malfunction, the method including the steps of first displaying a status code and then displaying a fault code. 6. The method of claim 5 wherein the step of displaying the fault code includes the step of activating a fault code request during a status code display. 7. The method of claim 6 including the step of activating an unlabelled push button.

## Description
Method of Indicating the Cause of a Malfunction in a Reproduction Machine This invention relates to a method of indicating the cause of a m alfunction in a reproduction machine. The invention is particularly, although not exclusively, useful in xerographic copying machines which are microprocessor controlled. It is generally known to display instruction or status codes to indicate malfunction or improper or invalid operation. U SPatent 3 062 061 assigned to the same assignee as the present invention, teaches the use of a fault record and code display to identify fault locations.Each code generally instructs the operator to perform specific corrective actions related to the specific code to clear the machine for operation. In many instances, however, the instructions or status codes only provide a clearance procedure for a malfunction but do not identify the exact source of the malfunction. It would be desirable, therefore, to be able to identify the origin or cause of the malfunction rather than to merely provide a clearance procedure. In addition, particularly in multiple fault occurrences, it would be desirable to identify the first fault or highest priority fault occurrence. The present invention is intended to provide a method of indicating such malfunctions, and in particular first or highest priority faults, and is characterised by identifying the particular malfunction by a fault code storing the fault code in a temporary register determining if the fault code is the first fault storing the fault code in a random access memory location accessing the contents of the memory location, and displaying an indication of the fault. In a preferred embodiment of the present invention, if a predetermined push button on the operator keyboard is pressed while a status code is displayed, the system then displays an appropriate two digit fault code. When the push button is released, the display returns to the status code. A method in accordance with the invention will now be described, by way of example, with reference to the accompanying drawings, in which Figure 1 is a block diagram of a controller for a xerographic copying machine Figure 2 is an illustration of the control panel for the controller of Figure 1 Figure 3 is an illustration of the functional relationships of various elements of a reproduction machine with the controller board and control panel board illustrated in Figure 1 Figure 4 is an elevational view of a reproduction machine controlled in accordance with the present invention Figures 5 and 6 are a flow chart of first fault recovery in accordance with the present invention and Figure 7 is an alternative embodiment of fault recovery. With reference to Figure 1, there is generally shown a controller 10 for a xerographic reproduction machine, including a computer memory board CMB 12, an input board 14, an output board 16, power driver board 18, and a solid state driver board 20 located in a card cage in the reproduction machine. The reproduction machine also includes a control panel board 22 and other not shown boards, for example, a fuser controller board and an automatic toner controller board. The CMB 12, input board 14, and output board 16 are interconnected through a common bus. With reference to Figure 2, there is shown the operator control console 54 illustrating selection switches and indicators. Upon selection of a particular mode, the appropriate lamps illuminate to indicate selection and the controller 10 will respond by controlling the machine for the mode selected. When an operator selects a particular mode of operation, an indicator lamp is turned on to inform the operator of the mode selected, and the normal copying mode is altered to allow the machine to control the mode selected e.g. auxiliary tray feeding versus normal main tray feeding . Each mode selection switch serves a dual on off function. Pressing a particular switch with the mode off will cause the mode to be selected. Pressing a particular switch with the mode already on will cause the mode to be cleared, eliminating the need for an additional mode clear switch. In the normal copy mode, copy paper is fed from a main tray for one sided copies. Six other modes are available. In particular, pressing an auxiliary paper tray switch 56 will cause the auxiliary paper tray lamp to turn on, and will signal the controller 10 to allow the processor to feed from an auxiliary tray. Pressing the two sidedcopies switch 58 will cause the two sided copying lamp and the copy side 1 lamp 60 to turn on and will also signal the controller 10 to allow the processor to automatically make two sided copies. Selection of this mode signals the controller 10 to allow a document handler, if used, to operate in the two sided copies mode. Pressing the twosided documents switeh 62, will cause the twosided documents lamp to turn on, and will also signal the controller to automatically make copies of two sided documents. Since making one sided copies of two sided documents is a disallowed mode of operation, selecting twosided documents will automatically cause the two sided copying mode to be selected. Pressing theicopy lighter switch 64 will cause the copy lighter lamp to turn on, and will automatically clear the copy darker mode if it was previously selected. Pressing the copy darker switch 66 will cause the copy darker lamp to turn on, and will automatically clear the copy lighter mode if it was selected. The normal copying mode output is stacks or offset sets. The stacks mode is defined as a number of copies in the copy output receiving area and each copy is made from the same original. The sets mode is defined as a number of copies in the copy output receiving area and each copy is made from a different original. Pressing the stapled sets switch 68 will cause the stapled sets lamp to turn on, and will also signal the controller 10 to allow the finisher to staple each completed set before depositing it into a lower output tray. The ready lamp is on, in standby, when the system is ready to go into the print state thehlease waittand and see instruction indicators are not on . Thegready lamp is also on during the normal system shutdown cycle of manual platen input jobs within .5 seconds after the last required exposure scan of the original on the platen is complete. It can also be on when the system is in a diagnostic mode and is off during normal print cycles and wherein please wait or see instruction indicators are on. It also goes off in normal manual platen system shutdown cycles if the start print is pushed to restart a new job. Standby state is defined as any time none of the major subsystem drive motors is energied RDH, processor, or finisher . It generally means the ready lamp is lit or the see instruction lamp is lit. The see instruction lamp 196is lit in conjunction with the display of predetermined status codes and a malfunction situation exists. The please wait lamp is on anytime the controller 10 detects that the fuser roll is under temperature or the controller detects a fault and is in a jam shutdown state. It is also on when the system is in the diagnostic mode and off at all other times. The see instruction lamp is on when any instruction codes must be displayed to the operator. This indicator will turn on in conjunction with any given instruction code and will turn off when all instruction codes are cleared. While the instruction code is being displayed, both the see instruction indicator and the quantity display will blink on and off.This indicator will be off at all other times. The quantity display 70 will provide different types of information.In particular, if the system is in standby or ready the display 70 indicates the number of sets selected in the offset sets or stapled sets modes and indicates the number of copies selected if system is in stacks output mode. If the system is in a run cycle, the display indicates the number of the copy set being imaged in the offset sets or stapled sets modes and indicates the number of copies which have been imaged in the manual platen mode. If the see instruction indicator is illuminated, the display 70 indicates the appropriate instruction code.And finally, if the system is in a job recovery condition with the ready indicator illuminated, the display indicates the number of completed sets in process in offset sets or stapled sets output modes or indicates the number of completed copies if the system is operating in the manual platen mode. When the computer memory board CMB 12 receives the binary coded data BCD signals from the keyboard decoding circuit, it provides appropriate output signals, also in BCD form, to the digital display 70. The control panel board 22 latches and decodes these signals and displays the appropriate digit in the units position.When a second pushbutton is pressed, the sequence is repeated and the appropriate digit is displayed in the units position and the previous number D shifted to the tens position. Further keyboard selections will be ignored by the controller 10 until after the clear button is pressed. The mode selector switches interconnect with CMB 12 in other conventional arrangements. The functional operation of the controller 10 is illustrated with reference to Figure 3. It should be understood that the controller 10 encompasses the various boards shown in Figure 1, including CMB 12.Controller 10 receives operator mode selections 74 and keyboard 72 data, monitors machine conditions with monitor signals 76 and prevents machine operation until conditions are satisfactory. When satisfactory, a ready indication 78 is provided. Upon activation of the start button, 80, the controller 10 controls the operation of the process with signals 82, including a document handler and finisher if provided. The diagnostic control 83 is used for entering the diagnostic mode, entering diagnostic programs, and displaying fault codes on the digital display 70. Diagnostic control is obtained by activating a not shown diagnostic enter switch. The controller 10 detects its input and causes the digital display 70 to indicate dc . In the diagnostic mode, an engineer can select five diagnostic programs, namely, component control, processor dead cycle, machine clock test, document handler exercise and controller self test.The diagnostic push button 132 the unlabeled key 132 on the keyboard switch has three functions namely, 1 when the machine is in stand by and the digital display indicates a status code, the button is pressed to cause the display to show the appropriate fault code, 2 when the diagnostic mode is selected, the button is used together with the keyboard clear button to enter a specific diagnostic program into the CMB 12 memory, and 3 when the component control diagnostic program is selected, the button is used to enter a specific input selection into the controller memory. The controller 10 also monitors machine states with monitor signals 76 and the operation of the various components for example, the clutches, solenoids, power supplies CMB 12 of controller 10 also receives appropriate count signals 86 and timing signals 84 from machine timing 88 to control and synchronize operation and activates appropriate billing meters 90. Billing meters 90 comprise 3 separate meters. In particular, a first billing meter counts the total number of paper feeds made from any of the processor paper feeders, main tray llO, auxiliary tray 1l2 or duplex tray 120 Fig 4 . A seond billing meter counts the total number of stapled sets completed by the finisher. The stapled sets meter signal is produced by the CMB 12 each time the CMB 12 energizes a not shown staple clutch in the finisher.A third billing meter counts side two copies by advancing one count each time a sheet is fed from the duplex tray 120. During a machine copy cycle, a sequence of precisely timed events must occur in order to produce an output copy. The sequence starts when the start push button is pressed. The machine timing 88 of most of the reproduction machine elements is controlled by a suitable not shown optical encoder assembly preferably including a clear plastic disc with 144 equally spaced black sections. The disc is mounted between a light source or LED and a phototransistor driver and the disc is driven by a shaft that makes exactly two revolutions per photoreceptor drum revolution. Upon disc rotation, the light beam from the LED is interrupted by the black sections of the disc. The phototransistor converts the light pulses into electrical pulses and these pulses are the machine clock timing signals 84. The CMB 12 contains an internal counter that counts the number of machine clock pulses as the disc rotates. A timing reset signal is generated once for every pitch or copy cycle 2 pitches per drum revolution in order that the controller timing can be synchronized with the machine timing. The timing reset signal is generated by a switch located on the optical encoder assembly and is actuated once every revolution of the disc drive shaft. The controller counts 144 machine clock pulses every revolution of the disc. The machine clock pulses are used for sequencing most of the processor events during a copy cycle and also timing of paper travel through the processor for jam detection. At specific times, after a copy cycle has been initiated, a sheet of paper must be at a specific point in the paper path.The position of the sheet of paper is monitored by switches and sensors and the timing is monitored by the controller counter. The controller uses this information to detect if the sheet has arrived or departed at a particular point at the proper time. In operation, in general, the controller monitors the state of input signals and makes decisions to turn the processor components on and off at the proper time to produce output copies. Processor operation is prevented until certain conditions are met, for example, fuser ready. When all necessary conditions are satisfactory, pressing the start print button will initiate the operation. A 120 hertz clock input signal is generated by a clock circuit on the power driver board 18.. This clock is synchronized with a 60 hertz 24 VAC input and is used in the CMB 12 as a control signal to turn on outputs from the output board 16. The count signal 86 to CMB 12 is a set counter sensor signal located in the recirculating document handler RDH to be described. The CMB 12 also increments a count internally each time a copy paper feed is scheduled from various machine trays. The controller 10 also contains a real time clock circuit controlling among other functions, a four minute timer. This timer will automatically be started when the machine is in the standby state and either of the following conditions exist Ready lamp is on with any mode selected, job recovery condition does not exist and the digital display is displaying any number other than one or see instruction is on relating to certain instruction codes. With reference to Figure 4, there is illustrated a xerographic reproduction machine operating under control of controller 10. There is generally shown an imaging station of a pre collation recirculating document handling unit RDH 102. Also shown is an optics system 104 for imaging each document image onto a photoreceptor 106. The photoreceptor 106 has the normal imaging, development, transfer, stripping, and cleaning stations to develop the document image on the photoreceptor 106 with fusable toner material and to transfer that toner image to one side of a copy sheet at a transfer station 108. The transferred copy page image is then fused to the copy sheet at the fusing station Ill. Clean unimaged copy sheets may be fed into the transfer station 108 from either of two copy sheet trays 1l0 or 112.After the transfer and fusing of the copy sheet image has been accomplished on one side, the copy paper output path transports it on transport 1l7 toward an exit area. However, first it passes by a movable gate or deflector 1l4. Depending on the position of this sheet deflector 114, the copy sheet will either continue on transport 1l8, or be temporarily captured and stored in a duplex buffer tray or bin 120. After the sheets have been duplexed or if the copier is being operated in a simplex copying mode the copy sheets exit the copier processor through the output transport 1l8 rather than being deflected into the duplex bin 120. As illusfrated, the transport 1l8 conveys sheets to the finishing area generally indicated at 1l5. In particular sheets are conveyed through baffle 1l9 to offset and drive rolls 121, 122. A deflector 124 provides for selecting between a catch tray 126 or compiler tray 128. It should be noted that the compiler tray 128 is only required for those machines having a stapler 181. The recirculating document handler RDH 102 is selected by placing a set of documents face up into the input tray 134 defined by paper guide 136. The number of desired copy sets is entered via the control console keyboard 72. When start is pressed, the document handler moves each document starting with the bottom document of the set from the input tray 134 to the platen 100, then returns the document to the input tray.One completed copy set is produced when the last document of the set top document is exposed on platen 100 and transported back to the document handler input tray 134. If more than one copy set is requested, the process will be repeated until the desired number of copy sets has been produced. The document handler operates in three modes 1 one sided copies from one sided originals, 2 two sided copies from one sided originals and 3 two sided copies from two sided originals. A document counter is used to detect if more than 50 one sided documents or 25 two sided documents are present in the input tray 134, whether an odd or even number of documents is present in the input tray in the one sided document two sided copy mode, and if a multifeed a feed of 2 or more originals at one time has occurred. The CMB 12 monitors document movement and shuts down the document handler and displays a status code if a document jam or multifeed occurs. A fault code indicating the exact cause of the fault, is displayed upon activation of the unmarked keyboard 132 button. The paper feed and registration system accepts copy paper loaded by the operator and delivers it at the proper time to meet the lead edge of the developed image on the photoreceptor surface 106 at the transfer station 108.For single sided copies the copy paper is fed from either the main tray or auxiliary tray 110, 112. For two sided copies, the side one copies are fed from the duplex tray 120. The duplex tray 120 has a capacity of 25 side 1 copies, and is located above the auxiliary tray 1l2. The duplex tray 120, main tray 1l0 and auxiliary tray 112 have width and length adjustments guides. These guides actuate suitable switches producing signals to CMB 12 manifesting the paper size the tray is set to receive. If Two Sided Copying is selected, and the duplex tray 120 and the main or auxiliary tray 110, 112 lengths and widths are not set the same, the machine will not print. When a machine is in stand by and the see instructions lamp is lit, the CMB 12 provides the necessary data bit output to display an appropriate alpha numeric status code. It is generally known to display instruction or status codes to indicate malfunction or improper or invalid operation. Each code instructs the operator to perform specific corrective actions related to the specific code to clear the machine for operation. In a specific embodiment, codes lA 9A are related to RDH and input operation codes 1C 9C and lE 9E relate to the processor operation including paper paths, codes 1F 6F relate to finisher and output operation, and code CC is a special instruction. For example, code 1A is displayed when any RDH document jam is detected or enabled after power up if paper is sensed under any of the RDH paper path sensors. The code instructs the operator to clear the entire RDH paper path, remove the original set from the input tray, reorder the originals in their initial order, and reposition the original set in the input tray. The code clears when all RDH covers are closed, no paper is sensed under any of the RDH paper path sensors and no originals are sensed in the input tray. In many instances, however, the instructions or status codes only provide a remedy to a malfunction but do not identify the exact source of the malfunction. Therefore, in accordance with the present invention, the operator or engineer can display a fault code to more precisely identify the malfunction. This fault code identifies the first fault detected in the machine and more precisely identifies the source of the malfunction. In a,ccordance with the present invention, if the unlabeled push button 132 on the keyboard 72 is pressed while a status code is displayed, theCMB 12 then provides the necessary data bit outputs to display an appropriate two digit fault code. When the push button is released, the display returns to the status code. In a preferred embodiment, there are approximately ninety fault codes available for display. For example, fault codes 3 through 7 cover 3 document failed to clear the RDH wait station sensor 148 in time, 4 document failed to arrive at the RDH platen exit sensor 158 in time, 5 document failed to clear the RDH platen exit sensor 158 in time, 6 document failed to arrive at the RDH input tray sensor 138 in time, and 7 document failed to clear theRDH input tray sensor 138 in time. With reference to the flow charts in Figures 5 and 6 the procedure for storing and capturing first fault identification is illustrated. For example, there may be a failure of the document in the RDH to arrive at the platen exit sensor. This failure would initiate a fault detection and in turn a fault code would be recognized and stored in a temporary register, preferably the B register in the CMB 12. A determination would then be made if the fault was in fact the first fault detected. If the fault was the first fault, the appropriate fault code would then be stored in a suitable RAM location. It should be under stood also that specific memory locations could be assigned to record. To display the fault code, it is necessary to press the unlabeled push button 132 on the keyboard 72. The display 70 will then indicate a code corresponding to a specific fault in particular the first fault instead of the normal status code display. Of course if the specific RAM location containing a fault code is empty, there will be no display and the procedure will exit. It should also be noted that it is within the skill of the art to display contents of successive RAM locations corresponding to first fault and successive faults. With respect to Figure 7, there is illustrated an additional alternative embodiment of the first fault capture and storage. Instead of or in addition to directly capturing the first fault detected and storing, faults are stored in a fault table for example a table of 14 8 bit bytes. The faults are stored in priority locations and after the detection of the first fault, the table is scanned to identify the fault and store it in the appropriate RAM memory location. In this system, the highest priority fault is stored in the RAM memory location. Of course in this system the highest priority fault might not necessarily be thce first fault. The importance of first fault detection is the fact that specific status code for operator correction may correspond to several separate fault possibilities. The status code does not convey the precise location of the fault that caused the malfunction. The status code may be generally used to indicate to the operator the steps that must be taken to restore the copier system to a Ready status, whereas the first fault may be more appropriately used to diagnose the cause of the shutdown either by an engineer at the copier site or remotely by a phone conversation by the engineer with the operator. The capturing of the fault is independent of any clearance.Thus, even after the machine has been restored to a Ready status or cleared of status codes, the most recent first or highest priority fault is displayable.