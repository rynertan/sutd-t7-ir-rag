# DISPLAY CONTROLLER

## Abstract
The display controller incorporates means microprocessor 22 to position the cursor on a screen 28 rapidly from its present location to operator selectable fields, whose positions are indicated by special codes in the refresh buffer 24 . A special selectable field tab key 33 is provided in the keyboard to activate this function.

## Claims
1. Display controller comprising a refresh buffer 4 24 , cursor control means 3 26 and a keyboard interface 8 29 characterized in that there are provided

## Description
This invention relates to a display controller in accordance with the preamble of claim 1. Of a plurality of information fields displayed on the display screen, a field containing information selectable by an operator is called a selectable field. In a display having a light pen, it is arranged to be possible to select information by positioning the light pen to the selectable field. On the other hand, in a display without the light pen, it is necessary to first move the cursor to a desired selectable field by operating a cursor control key, and to select information by pressing a cursor select key. This operation to move the cursor to the selectable field by the cursor control key in the display without the light pen selector pen is slow and cumbersome because the movement speed is restricted by the speed of machine or retry is required if it fails to move the cursor to a correct position. It is therefore the object of the present invention to provide a display controller that allows to position the cursor rapidly to preselected fields on the display screen and which can be implemented without great expense. This object is achieved by the invention as described in claim 1 embodiments of the invention are characterized in the dependent claims. According to the invention, a control key called a selectable field tab key is provided for the keyboard so as to allow rapid movement of the cursor to the selectable field. Upon operation of the control key, the selectable field identification code in a code store refresh buffer is searched starting from the current cursor position and the cursor address modified according to the storage location of the detected code. The invention allows to move the cursor to a selectable field more rapidly and accurately than in the prior art using the cursor control keys. Embodiments of the invention are now described in detail with reference to the accompanying drawings, where Referring to Figure 1, it illustrates a basic configuration of the display controller of the invention. A video control means 2 has a function to display the cursor on the screen of a CRT display 1 corresponding to a cursor address stored in a cursor address storage means 3. That is, the cursor is displayed at a display position indicated by the cursor address. The video control means 2 has a function to display characters indicated by character codes stored in the code storage means 4 on the screen. The code storage means 4 has a plurality of storage locations corresponding to a plurality of display positions on the screen and stores not only the character codes but also various control codes such as attributes. Stored in the top storage location of the selectable field is a selectable field identification code SF identification code . The key input means 9 is provided with a special control key 10 for immediately moving the cursor to the top of selectable field being displayed on the screen. When the key operation detector means 8 connected to the key input means 9 detects pressing of the control key, it supplies an output signal indicating it to the access means 5. Responsive to it, the access means 5 reads out the codes from locations in the code storage means 4 that succeed one another in a predetermined direction from a location corresponding to a current cursor display location, and supplies them to the the identification code detector means 6. When the identification code detector means 6 detects an SF identification code, it supplies an output signal indicating it to the access means 5 and the cursor address modification means 7. Responsive to it, the access means 5 stops reading of codes. On the other hand, the cursor address modification means 7 modifies the cursor address in the cursor address storage means 3 so as to display the cursor on the screen of CRT 1 at a display position corresponding to a location in the code storage means 4 where the detected SF identification code is stored. Now referring to Figure 2, it shows a more detailed embodiment of the invention, wherein the functions of the access means 5, the identification code detector means 6, the cursor address modification means 7 and the key operation detector means 8 in the basic configuration of Figure 1 are materialized by a microprocessor MPU 20 and microprograms. The MPU 20 has an arrangement that contains various circuits including an address register AR 21 and a register group 22. Since such an arrangement is well known in the art, its detailed description is omitted herein. Connected to a bus 34 extending from the MPU 20 are a control storage 23, a refresh buffer 24, a video control circuit 25 and a keyboard interface circuit 29. The bus 34 includes a data bus, an address bus and a control line. The control storage 23 stores microprograms for controlling various operations of the MPU 20. The refresh buffer 24 corresponds to the code storage means 4 in Figure 1, and stores not only said SF identification code but also various codes for display. The video control circuit 25 has functions to take out character dot pattern data from a character generator 27 in response to character codes taken out from the refresh buffer 24, and to display them on a CRT screen 28. The video control circuit 25 has also a cursor address register CAR 26 and functions to display a cursor C at a display position corresponding to its content. The keyboard interface circuit 29 is connected with a keyboard 31 that has various keys. When any key is operated, the keyboard interface circuit 29 sets a scan code indicating that key in a scan code register 30, and supplies an interrupt request signal requesting reading of the scan code to the MPU through a line 35. The MPU 20 can perform read or write operation by setting a suitable address in the AR 21 for selectively specifying not only the control storage 23 and the refresh buffer 24 but also the CAR 26 and the scan code register 30. Included in the keys of the keyboard 31 are a cursor select key 32 and a selectable field tab SFT key 33 that is provided according to the invention. That is, the SFT key corresponds to the control key 10 of Figure 1, and is for moving the cursor to the selectable field. Now cursor movement control operation is described in more detail by referring to Figures 2 and 3, the latter of which shows sequence of operation of the MPU 20 when an operator presses the SFT key 33. When detecting the operation of the SFT key 33, the keyboard interface circuit 29 sets a scan code corresponding to the SFT key in the scan code register 30 and generates an interrupt request signal on the line 35. Responsive to the interrupt request signal, the MPU 20 takes out successive instructions of microprogram for keyboard interruption from the control storage 23, and reads the scan code in the scan code register 30 according to these instructions Step 40 in Figure 3 to determine whether or not it is a scan code for the SFT key 33 Step 41 . If it is not the scan code of the SFT key 33, the MPU 20 performs suitable operation by taking out a microprogram corresponding to the code. However, if it detects the scan code of the SFT key 33, it performs the following operation by taking out a microprogram relating to the SFT key 33. First, it reads a cursor address in the CAR 26 of the video control circuit 25 into a register 22a of the register group 22 in the MPU 20 Step 42 . In the embodiment, it is arranged that an address itself indicating a storage location in the refresh buffer 24 is used as a cursor address indicating a display position on the CRT screen 28. Therefore, the cursor address read into the register 22a also indicates a storage location corresponding to a current cursor display position. Also, since, in the embodiment, the SFT key 33 is established to instruct cursor movement to a selectable field after the current cursor position, or in a direction where the address increases gradually, in searching the SF identification code, the cursor address in the register 22a is added with 1 and set in the AR 21 Step 43 , which is used for reading a code in the refresh buffer 24 to be stored in a register 22b of the register group 22 Step 44 . Then, it is examined whether or not the code in the register 22b is an SF identification code Step 45 . This examination is performed in such a manner that an SF identification code is previously stored in another register 22c, which is compared with the code in the register 22b. If an SF identification code is not detected, the address in the AR 21 is incremented to repeat reading codes from the refresh buffer 24 until it is detected Step 46 . If an SF identification code is detected, the address in the AR 21 is written in the CAR 26 as a new address Step 47 . The video control circuit 25 displays the cursor C at a display position specified by the content of CAR 26, or at the top of selectable field. Figure 2 shows a simple example where three selectable fields 36, 37 and 38 are displayed on the CRT screen. If the SFT key 33 is pressed in a status where the cursor C is at the indicated position, it moves immediately to the display position P at the top of selectable field 36. Pressing the SFT key 33 again causes the cursor C to moves to the display position Q at the top of selectable field 37. Pressing the SFT key once again causes it to move to the display position R at the top of uppermost field 38. In this case, the address is circulated to specify a storage location corresponding to a display position at the upper left corner of the CRT screen 28 following a storage location corresponding to a display position at the lower right corner in reading code from the refresh buffer 24 for searching an SF identification code. After positioning the cursor C at a desired selectable field, the operator can select information in the selectable field by pressing the cursor select key 32. Although the above described embodiment has one SFT key 33 for moving the cursor C only in one direction, it is possible to provide two SFT keys, one of which is for the forward movement as above, the other for the backward movement. In such case, it becomes required to modify Steps 41, 42 and 43 in Figure 3 so as to determine which of the forward SFT or the backward SFT is pressed, the address to be set in the AR 21 according to the result of control, and whether the address is updated incrementally or decrementally. Actual experiment on operation for moving the cursor to a desired selectable field provided such data that the operation with the cursor control keys took 1 minute and 44 seconds in average, while the operation with the SFT key of the invention took only 48 seconds in average. This average of 48 seconds for the cursor movement operation was close to the time when a light pen was used. That is, according to the invention, it is possible to attain efficiency of work similar to that of the light pen that requires an expensive mechanism.