# Line deflection system

## Abstract
In a synchronized digital horizontal deflection system operating at 2 f

## Claims
1. An apparatus for generating in each period of a line synchronizing input signal, deflection output signals of a line deflection circuit 253,54,41 for controlling the timings of the deflection cycles thereof, characterized bya phase lock loop circuit 20 responsive to said line synchronizing input signal H s for generating, in each period thereof, first CMa and second CMb periodic signals separated by corresponding constant intervals from said input signal H s means part of 41 coupled to said deflection circuit 253,54, 41 for developing a delection cycle indicative signal FLYBACK a phase control loop circuit 120 responsive to said deflection cycle indicative signal FLYBACK and to at least one of said first CMa and second CMb periodic signals for generating first and second deflection output signals first and second alternate pulses of HORDRIVE during each period of said lin e synchronizing input signal H s anda line output stage 41 of said line deflection circuit 253,54,41 for generating a cycle of line deflection current upon the occurrence of each one of said first and second deflection output signals HORDRIVE .

## Description
The invention relates to a circuit that generates a train of higher frequency pulses synchronized to input synchronization pulses,such as may be used in a television apparatus. Recently there has been an interest in displaying an interlaced type video signal such as of the NTSC standard, in a non interlaced scanning format for reducing the effects of artifacts. Such display format generally requires deflection current switching at a frequency which is a multiple of the horizontal frequency, f In some prior art circuits, the doubling of the horizontal rate frequency is accomplished by a phase lock loop circuit that includes a voltage controlled oscillator VCO . The output frequency of the VCO is equal to a multiple of the horizontal rate. In digital television, for example, it is desirable to generate the deflection current using signals that are derived from a common system clock, rather than from a VCO. In an apparatus embodying an aspect of the invention, a phase lock loop circuit responsive to a periodic line synchronizing input signal is used for generating, at the same relative times, respectively, to the input signal, and in each period of the input signal, synchronized first and second periodic signals respectively. In accordance with an aspect of the invention, a phase control loop circuit is responsive to a deflection cycle indicative signal of a deflection circuit and to at least one of said first and second periodic signals for generating first and second deflection output signals each period of the line synchronizing input signal. An output stage of the deflection circuit is used for generating a cycle of deflection current upon the occurrence of each one of the first and second deflection output signals. In carrying out a specific embodiment of the invention, for example, the circuit doubles the frequency of the sync pulses to obtain, in the output stage, deflection current at the frequency of 2 f The timings of each of the first and second periodic signals is defined with a resolution of a fraction of a common clock signal period. Each period of the synchronizing input signal results in a corresponding sequence of states in the phase lock loop circuit. Each state is produced synchronously with the common clock signal. The phase lock loop circuit supplies the first and second periodic signals that are indicative of a first and second periodic events, respectively, to a phase control loop circuit for generating the first and second deflection output signals, respectively, therefrom. In accordance with another aspect of the invention, the phase control loop circuit receives a retrace signal from the deflection circuit output stage for correcting, illustratively, only once during a given period of the synchronizing input signal, and in accordance with the timings of one signal of the first and second signals, the timings of the output signals. The output signals timings are corrected, so as to make the timings of alternate deflection cycles correspond with the first and second periodic events, respectively. In accordance with yet another aspect of the invention, the tracking response time, in the phase control loop circuit, with respect to phase variations of the retrace signal is faster than the corresponding tracking response, in the phase lock loop circuit, with respect to phase variations of the synchronizing input signal that contains the sync pulses. This is so, because the phase control loop circuit is optimized to accommodate fast switching time variations in the output stage that may occur because of fast changing electron beam current whereas the phase lock loop circuit is optimized to reject noise or jitter accompanying the sync pulses. In the drawing FIGURE 1. illustrates a block diagram of a horizontal deflection circuit including a phase lock loop circuit 20. It includes a sequential counter 21 that has the analogous function of a VCO of a conventional phase lock loop circuit. Counter 21 is a programmable counter that is incremented after each leading edge of a clock pulse CK having a period t Illustratively, a digital word herein is represented as a base 2 number that includes an integer, a fraction or a combination of an integer and a fraction. A negative number is represented as a 2 s complement number. Horizontal sync pulses H Variable fraction f is contained in a 1H skew word SK that is also coupled to phase detector 202. Phase detector 202 generates a period length adjusting word LPFO. Word LPFO is combined, in a horizontal period length generator 33, with a constant word PR to produce a word DPW. Word PR, for example, equals the value 910 where 910 t Word DPW contains the calculated estimate, or computed, binary value of the actual period H of pulses H Words CT are coupled through a programmable time shifter or delay 42 to provide delayed words Ca. The delay of programmable delay 42 is controlled by an external word NPW that is coupled from a source not shown in the FIGURES. A word CMa, defined to include words SK and Ca that provide the fraction and integer parts, respectively, of word CMa, is coupled to a programmable delay 203. A word CMao is defined as the state of word CMa in which word Ca 0. Word CMao defines a periodic event e Horizontal period length word DPW is coupled to a divide by 2 unit 46 that divides the value of word DPW by the factor 2 to produce word HDPW that is indicative of one half the horizontal period length H. Word HDPW is coupled to the control port of programmable delay 203 that delays event e A word CMb, the output word of programmable delay 203 includes a skew word SKB and a word Cb, providing the fraction and integer parts, respectively, of word CMb. A word CMbo is defined as the state of word CMb in which word Cb 0. Word CMbo defines a periodic event e Words CMa and CMb are coupled to ports 40a and 40b, respectively of a multiplexer 40. Multiplexer 40 couples, alternately, words CMa and CMb to input port 51a of a programmable time shifter or delay 51 of a phase control loop circuit 120. Words CMI and CMP, at an output port 51c of programmable delay 51, represent an integer and a fraction, respectively, of clock CK period t It should be understood that an arrangement similar to the arrangement of FIGURE 1 may be used for generating a signal analogous to signal HORDRIVE of Figure 1 having a different multiple of the frequency f Signal HORDRIVE is coupled to an input terminal 41a of a 2f When phase control loop circuit 120 is perfectly phase locked to flyback pulses FLYBACK, the leading edge of each pulse MS , that is also coupled to phase detector 202 , occurs substantially coincidentally with the last clock CK edge before the center time of the respective pulse FLYBACK. Pulse MS is generated by a decoder 23 when a predetermined value of word Ca is detected. The center of pulse FLYBACK occurs fraction f of clock CK period t Phase detector 202 generates a word LPFO that controls the delay time of programmable delay 51. Programmable delay 51 is capable of providing a positive or negative phase shift, or time delay, as explained later on. The center of 2f FIGURE 2 illustrates a more detailed block diagram of the arrangement of FIGURE 1. Similar numerals and symbols in FIGURES 1 and 2 illustrate similar items or functions. FIGURES 4a 4r illustrate timing diagrams of a typical steady state example, showing three consecutive periods, or sequences, N Assume that word DPW, at an input port 34a of an adder 34 of FIGURE 2, contains the calculated estimate value of period H of horizontal sync pulses H Skew word SK, representing fraction f, at an output port 38b of a latch 38 of FIGURE 2, is coupled, right justified, to an input port 34b of adder 34, where it is summed up with right justified word DPW. A word CNTPR appears at an output port 34c of adder 34 to represent the integer part of the addition result. Each bit of word CNTPR is at the same numerical weight as the corresponding bit of the integer part, M, of word DPW. Word CNTPR is coupled to an input port 35a of a latch 35. Latch 35 stores the value of word CNTPR, at a time T Counter 21 output word CT of FIGURE 2 is coupled to an input port 36b of subtractor 36 where it is subtracted from word PERIOD to form, in a port 36c, a word RS. Word RS is coupled to a zero detector 37. Zero detector 37 issue pulse RESET, as illustrated in FIGURE 4j, when word RS of FIGURE 2 is equal to zero. Thus, when counter 21 word CT is equal to counter 21 period word PERIOD, counter 21 is reset and the next counter 21 word CT is equal to 1, the initial counting state. Word PERIOD expresses, in multiples of clock CK periods t Word Ca, illustratively 10 bit wide, is obtained by subtracting, in a subtractor that represents programmable delay 42 of FIGURE 1, the current word CT of counter 21 of FIGURE 2 from constant word NPW. FIGURE 4c illustrates an example of the corresponding sequence that is represented by words Ca. When word CT is equal to word NPW, word Ca is equal to 0. Similarly, when word CT exceeds word NPW by 1, word Ca is equal to 1023, in accordance with conventional 2 s complement arithmetic. In each counter 21 sequence N, the states Ca 1, Ca 0 and Ca 1023 occur, respectively, as counter 21 of FIGURE 2 is incremented sequentially. The time in which word Ca of FIGURE 4c becomes zero is defined as time t The arrangement of FIGURE 2 computes the timing of the next event e Assume, hypothetically, that prior to time T Assume, in a second hypothetical example, that prior to time T Assume, in a third hypothetical example, that prior to time T The above calculations lead to the conclusion that the interval t At time t Word Cb is equal to 0 during the length of clock CK period t As explained before, programmable delay 203 of FIGURE 1 that is controlled by word HDPW, delays the occurrence of event e During counter 21 period N Each f FIGURES 3a 3g illustrate schematically timing diagrams useful in explaining the synchronization of phase lock loop circuit 20 of FIGURE 2. Similar symbols and numerals in FIGURES 2, 3a 3g, and 4a 4r illustrate similar items or functions. FIGURE 3a illustrates an example of successive digitized sync words SY of FIGURE 2 that result from digitizing an idealized trapezoidal horizontal sync pulse H Decoder 23 of FIGURE 2 produces control pulse MS at time T FIgure 5 illustrates schematically a block diagram of phase comparator 22. Similar symbols and numerals in FIGURES 1, 2, 3a 3g, 4a 4r and 5 indicate similar items or functions. Phase comparator 22 of FIGURE 5 includes an accumulator 26 that substractively accumulates, from an initial value of zero, successive sync words SY of FIGURE 3a from time T In a second timing example of FIGURE 3a, sync words SY, referred to as sync words SY2, are illustrated schematically by vertical arrows that define an envelope 2. Envelope 2, that is illustrated by the dotted lines, has a leading edge 70 and a trailing edge 71, that are similar to the respective edges in envelope 1. Words SY2 are provided within an interval Tâ‚‚ that is equal in length to interval T. A center point T Output word ACW of accumulator 26 of FIGURE 5 is coupled to an input port 28a of a scaler 28. Scaler 28 generates from word ACW a word SCW that expresses the time difference, T Word SK of FIGURE 2, that contains fraction f, is coupled to a port 22d of subtractor 30 of FIGURE 5 where it is subtracted from word SCW to form a word SCWD at an input port 22g of a register 31. Register 31 stores each word SCWD and transfers it to an output port 22e to provide a phase word PH of FIGURE 5. Phase word PH, that is, consequently, equal to T A time T Phase word PH is coupled through a conventionally built digital low pass filter 32 of Figure 2 to an input port 33b of an adder 33 to form filter 32 output word LPFO. Filter 32 may comprise an accumulator that additively accumulates individual phase words PH, under the control of a horizontal rate pulse CLPF generated by decoder 23 at a corresponding time T Assume, hypothetically, that actual center time T When output signal TOGGLE, of flip flop unit 55 at select terminal 40c of multiplexer 40 of FIGURE 2, is at the first logical state, words CMa in port 40a are coupled right adjusted to input port 51a of programmable delay 51 that comprises an adder. Phase shifting word LPFO of phase control loop circuit 120 is coupled, right adjusted, to port 51b of the adder of programmable delay 51. Word CMI at output port 51c of delay 51, representing the integer part of the result of the addition in programmable delay 51, as illustrated schematically in FIGURE 4k, is coupled to a zero detector 52. Zero detector 52 generates a pulse START at time T Gate delay 54 may include a delay line of t After, for example, the occurrence of the trailing edge of pulse h Each pulse FLYBACK of output stage 41 having illustratively, a trapezoidal shape, as illustrated in FIGURE 4q, and derived from horizontal flyback pulses, may be digitized in a digitizer unit 61 , that is analogous to digitizer unit 61, to form successive digitized flyback words SY at an input port 22a of a phase comparator 22 . Flyback words SY of phase control loop circuit 120 are analogous to sync words SY of phase lock loop circuit 20. Phase comparator 22 may be constructed similarly to phase comparator 22 of phase lock loop circuit 20. Thus, ports 22a 22e of phase comparator 22 respectively, are functionally equivalent to ports 22a 22e, respectively, of phase comparator 22. A decoder 23 decodes corresponding predetermined values of words Ca for generating pulses MS CAC , CC and CLPF , respectively, that are analogous to pulses MS, CAC, CC and CLPF, respectively, of decoder 23. Pulse CC , for example, is coupled to terminal 22c . Skew word SK is similarly coupled to port 22d of phase comparator 22 . Assume that flyback words SY , representing a trapezoidal envelope that is similar to envelope 1 of sync words SY of FIGURE 3a, for example, are consecutively generated during a retrace interval T of FIGURE 4q that has an actual center time T Phase word PH of FIGURE 2 is coupled to a sign complementing unit 58 that provides a sign complemented word PHi. When word PH is negative, for example, word PHi is positive and of, illustratively, the same absolute value as word PH . Words PHi are coupled to a low pass digital filter 32 that is analogous to filter 32 of phase lock loop circuit 20. Filter 32 output word LPFO has a shorter response time to phase variations of pulses FLYBACK of FIGURE 4q than the response time of low pass filter 32 to phase variations of pulses H Word NPW of FIGURE 2, that is coupled to the adder of programmable delay 42, controls the relative timing between pulse MS of decoder 23 and the corresponding pulse MS of decoder 23. By changing the value of word NPW a corresponding change of the duration between, for example, center times T As a result of a beam current change in the picture tube, the ultor current changes. The change in ultor current drawn from to the flyback transformer of output stage 41 causes the delay between pulse f In accordance with an aspect of the invention, the same value of word LPFO of FIGURE 2 controls the timings of successive pulses h When sync pulses H