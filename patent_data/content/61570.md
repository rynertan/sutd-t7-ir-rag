# Store in cache multiprocessor system with checkpoint feature.

## Abstract
A lock array 10 is provided with bit positions corres ponding to each line entry in an associated cache directory PD . When a lock bit L is on, it inhibits the castout, replacement, or invalidation of the associated cache line. Lock array controls 12 operate with a slot replacement selection circuit 42 which may be conventional to elimin ate each locked slot from being a replacement candidate in its congruence class in a set associative store in cache SIC in a multiprocessor MP . The lock array enables simul taneous reset of all lock bits at each checkpoint without disturbing the associated cache directory. A special type of processor operand request, called a store interrogate SI request, is used to lock the accessed line, whether or not the SI request hits or misses in the cache. Any locked line can continue to receive any fetch, SI, or store cache request from its own processor. Any line remains unlocked as long as it is not accessed by a SI request. Castout or invalidation of unlocked cache lines is performed during a checkpoint interval.