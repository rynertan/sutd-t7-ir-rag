# Method and apparatus for identifying the location of a change in state of a part of an electrical circuit.

## Abstract
An electrical circuit arrangement including a plurality of bistate devices such as vibration detection devices 2 to 7 connected therein, each occupying a particular posi tion in the circuit, and each having a resistor R₂ to R₇ asso ciated therewith, such that a predertermined value of resis tance normally prevails and the value is changed when any de vice changes state, comparison means 13 to 17 for compar ing a parameter such as the current in the circuit with a refer ence parameter to indicate the identity of any device which has changed state and the position in the circuit of any changed state device. In a second embodiment the bistate devices 2 to 6 30 to 34 and resistors R₁ to R₆ are connected in a multi terminal network 1, 1 35, 36 and connected to monitoring means 39 such as a microprocessor via a switching unit 40 , the monitoring means 39 being operable in a plurality of dif ferent modes to monitor the devices 2 to 6 30 to 34 across different combinations of pairs of terminals 1, 1 35, 36 such as to identify the position of any changed state device in the circuit and to identify any failed or faulty device and to allow the circuit to continue to operate despite any failed or faulty de vice.

## Claims
CLAIMS 1. An electrical circuit arrangement including a plurality of bi state devices 2 to 7 connected therein, each occupying a particular position in the circuit and each having an impedance element R2 to R7, D2 to D7 associated therewith such that a predetermined value of impedance prevails in the circuit when all said bi state devices 2 to 7 are in one state and a value of impedance different from said predetermined value prevails when any of said bi state devices 2 to 7 are caused to change from said one state to a second state, and means 13 for comparing a parameter of the circuit with a reference parameter to provide an indication of the identity of any bi state device 2 to 7 which has changed from said one state to said second state and to identify the position of said changed state device in the circuit. 2. An electrical circuit arrangement including a plurality of bi state devices 2 to 6, 30 to 34 connected therein, each occupying a particular position in the circuit and each having an impedance element R2 to R6 associated therewith such that a predetermined value of impedance prevails in the circuit when all said bi state devices 2 to 6, 30 to 34 are in one state and a value of impedance different from said predetermined value prevails when any of said bi state devices 2 to 6, 30 to 34 are caused to change from said one state to a second state, and means 39 for comparing a parameter of the circuit with a reference parameter to provide an indication of the identity of any bistate device 2 to 6, 30 to 34 which has changed from said one state to said second state and to identify the position of said changed state device in the circuit, said bistate devices 2 to 6, 30 to 34 being included in a multi terminal I ,l , 35,36 network, and monitoring means 39 operable in accordance with a plurality of modes for monitoring said bistate devices 2 to 6, 30 to 34 across different combinations of pairs of terminals of said network, to allow not only the particular device which has changed state to be identified and the position thereof to be located, but to allow devices which have failed or are faulty to be identified and the circuit, to be utilised irrespective of the failure of, or fault in any such device. 3. An electrical circuit as claimed in claim 1 or claim 2 wherein each said impedance element is a resistor R2 to R7 . 4. An electrical circuit as claimed in claim l or claim 2 wherein each said impedance element is a diode D2 to D7 , zener diode, transistor or other such semiconductor. 5. An electrical circuit arrangement as claimed in any preceding claim including means 11 for applying an e.m.f. across the circuit, means 13 for measuring the current flowing through the circuit and means 13 for comparing the current flowing through the circuit with a reference current derived from a reference source 16 . 6. An electrical circuit arrangement as claimed in any preceding claim wherein said bistate devices 2 to 7 are security detection devices 2 to 7 having a quiescent state and a second state to which the devices are actuated in response to the occurrence of an abnormal security situation. 7. An electrical circuit arrangement as claimed in claim 3 or claim 4 wherein said means 13 for comparing a parameter of the circuit with a reference parameter comprises a comparator device 13 responsive to current flowing through said circuit and having a value in accordance with the resistance of the circuit, and responsive also to a reference current derived from a chain of resistors 16 corresponding to the resistors R2 to R7 associated with said bistate devices 2 to 7 , said reference current being supplied to the comparator device 13 via a scanning circuit 17 and bistable state device 15 having an output connected to one input of the comparator device 13 , the arrangement being such that when identity exists between the measured current and the reference current, an output signal is produced by said comparator device to identify any bistate device which has changed state. 8. A circuit arrangement as claimed in claim 7 wherein an output signal from the circuit is supplied via the scanning circuit 17 to frequency measuring apparatus 19 arranged to supply the signal of an audio 21 and or visual warning indicator 20 via a further scanning circuit 18 such that should the frequency of the signal be within certain predetermined limits, an indication of the particular bistate device which has changed state is provided by said visual indicator. 9. A circuit arrangement as claimed in either claim 3 or claim 4 when appendant to claim 2 wherein said bistate devices 2 to 6, 30 to 34 include a first series of devices 2 to 6 connected by a first conductor 28 to a first terminal 1 and a second series of devices 3 to 34 connected by a second conductor 29 to a second terminal 1 , the respective resistors R2 to R6 of the bistate devices being connected between said first and second conductors 28, 29 each conductor having an additional terminal 35, 36 connected together with said first and second terminals to respective first contacts of a switching unit 40 , second contacts of said switching unit being connected to said monitoring means 39 operable in accordance with said plurality of modes to monitor the first and second series of devices 2 to 6, 30 to 34 across different combinations of pairs of said first, second and additional terminals 1,1 ,35,36 to identify any device 2 to 6, 30 to 34 which has changed state and any device which has failed or is faulty. 10. A circuit arrangement as claimed in claim 9 wherein the monitoring means 39 comprises a microprocessor 39 connected to said first, second 1,1 and additional terminals 35, 36 via the first and second contacts of said switching unit 40 . 11. A circuit arrangement as claimed in claim 9 or 10 wherein the contacts of the switching unit 40 are connected to the monitoring means 39 via respective analogue to digital 42 converters such that signals on said first and second conductors 1,1 present on any pair of said first, second and additional terminals are converted to digital signals for presentation to the said monitoring means. 12. A circuit arrangement as claimed in any of claims 2, 3, at 9, 10 or 11 wherein a visual display 20 device is connected to an output of the monitoring means 18 to provide a visual indication of any faulty device and the position in the circuit of any device which has changed state.

## Description
This invention relates to a method and apparatus for identifying the location of a change in state of a portion of an electrical circuit and particularly, but not exclusively relates to a method and apparatus for identifying which part of a protective circuit has been caused to change state.In protective circuits used in intruder protection systems and fire and bandit warning systems including intruder detection and warning devices and fire and bandit warning alarms and detectors capable of providing a warning indication of any abnormal occurrence such as the entry of any intruder into a building or the outbreak of heat smoke or fire by a change of state of a device, it has not previously been possible, where a number of detector devices are included in the protective circuit, to readily identify which particular detector device has been caused to change state, without installing expensive control apparatus, or wiring each detector device separately to the control apparatus. An object of the present invention is to provide a method and apparatus for identifying the location in an electrical circuit of a part of the circuit which has been caused to change state.According to one aspect of the invention, there is provided an electrical circuit arrangement including a plurality of bi state devices connected therein, each occupying a particular position in the circuit and each having an impedance element associated therewith such that a predetermined value of impedance prevails in the circuit when all said bi state devices are in one state and a value of impedance different from said predetermined value prevails when any of said bi state devices are caused to change from said one state to a second state, and means for comparing a parameter of the circuit with a reference parameter to provide an indication of the identity of any bi state device which has changed from said one state to said second state and to identify the position of said changed state device in the circuit.The advantages of the invention are many. One particular advantage is that it is possible to locate a part of an electrical circuit which has changed state. Accordingly, a component which has changed state as a result of a change in its environment or a faulty component or component which has failed can readily easily be identified and corrective action as desired may be taken, or in the case of a failed component it may be replaced.When the method and apparatus are used in a security circuit comprising a number of intruder detecting devices, the location of a device which has changed state as a result of, for example, detecting an intruder, can be immediately identified even when the devices are wired in series.Similarly, faulty or failed devices can be immediately identified.A further advantage of the invention is that it permits intruder detecting devices or switches of a security circuit to be wired in series, while each individual device can still be identified. This leads to considerable simplicity of installation of the devices and also considerably reduces installation and wiring costs.A further advantage of the invention is that it permits the security circuit to be remotely monitored by, for example, a phone line or the like. Additionally, when the intruder devices are mounted on, for example, doors or windows, if a memory is added to the circuit, the memory may be used to record and store the times at which the doors and windows were opened and closed. Indeed, the opening and closing of each door may be individually and separately monitored.An additional advantage of the invention is that it permits the location of any bi stable device to be located in an electrical circuit, whether or not the device is wired in series with other devices.Not only is it advantageous to identify the particular location where a device of the circuit has changed state, but it would also be an advantage not only to identify the changed state device, but also to identify a failed or faulty device and to continue to utilise the circuit containing the failed or faulty device.According to another aspect of the invention there is provided an electrical circuit arrangement including a plurality of bi state devices connected therein, each occupying a particular position in the circuit and each having an impedance element associated therewith such that a predetermined value of impedance prevails in the circuit when all said bi state devices are in one state and a value of impedance different from said predetermined value prevails when any of said bi state devices are caused to change from said one state to a second state, and means for comparing a parameter of the circuit with a reference parameter to provide an indication of the identity of any bistate device which has changed from said one state to said second state and to identify the position of said changed state device in the circuit, said bistate devices being included in a multi terminal network, and monitoring means operable in accordance with a plurality of modes for monitoring said bistate devices across different combinations of pairs of terminals of said network, to allow not only the particular device which has changed state to be identified and the position thereof to be located, but to allow devices which have failed or are faulty to be identified and the circuit, to be utilised irrespective of the failure of, or fault in any such device.The advantages of this feature of the invention is that when one of the bi state devices becomes faulty or fails, it permits monitoring of the remaining devices. In one embodiment of the invention each said impedance element is a resistor.The advantage of using resistors is that DC current may be used in monitoring the circuit. This leads to a relatively inexpensive means for monitoring the circuit.In another embodiment of the invention, each said impedance element is a diode, zener diode, transistor or other such semiconductor.The advantage of using diodes is that the circuit is stable.In one embodiment of the invention, the electrical circuit includes a plurality of bistate devices and associated resistors, means for applying an e.m.f. across the circuit, further means for measuring the current flawing through the circuit, and means for comparing the current in the circuit with a reference current to provide an indication of a change of state of any of the bistate devices.The advantages of this feature of the invention is that it provides a relatively inexpensive means of monitoring the circuit.In a further embodiment of the invention said bistate devices are security detection devices having a quiescent state and a second state to which the devices are actuated in response to the occurrence of an abnormal security situation. The advantage of this feature of the invention is that it permits the invention to be applied to an electrical security circuit for monitoring a. building or the like and it permits an intruder detecting device.to be readily identified if the device changes state.Preferably, said means for comparing a parameter of the circuit with a reference parameter comprises a comparator device responsive to current flowing through said circuit and having a value in accordance with the resistance of the circuit, and responsive also to a reference current derived from a chain of resistors corresponding to the resistors associated with said bistate devices, said reference current being supplied to the comparator device via a scanning circuit and bistable state device having an output connected to one input of the comparator device, the arrangement being such that when identity exists between the measured current and the reference current, an output signal is produced by said comparator device to identify any bistate device which has changed state.The advantages of this feature of the invention is that it leads to an inexpensive. apparatus for monitoring the circuits. Advantageously, an output signal from the circuit is supplied via the scanning circuit to frequency measuring apparatus arranged to supply the signal to an audio and or visual warning indicator via a further scanning circuit such that should the frequency of the signal be within certain predetermined limits, an indication of the particular bistate device which has changed state is provide by said visual indicator.The advantages of this feature of the invention is that it permits a device in the electrical circuit which has changec state to be immediately identified, and. only permits an alarm to be sounded when the device is vibrating within certain pre determined limits thereby minimising the risk of false alarms. In a further embodiment of the invention said bistate devices include a first series of devices connected by a first conductor to a first terminal and a second series of devices connected by a second conductor to a second terminal, the respective resistors of the bistate devices being connected between said first and second conductors, each conductor having an additional terminal connected together with said first and second terminals to respective first contacts of a switching unit, second contacts of said switching unit being connected to said monitoring me ans operable in accordance with said plurality of modes to monitor the first and second series of devices across different combinations of pairs of said first, second and additional terminals to identify any device which has changed state and any device which has failed or is faulty.The advantage of this feature of the invention is that as well permitting any one of a number of devices or switches to be identified when the device or switch has changed state, it also permits monitoring of the remaining devices or switches after one or more have changed state or failed. Advantageously, the monitoring means comprises a microprocessor connected to said first, second and additional terminals via the first and second contacts of said switching unit.The advantage of this feature of the invention is that it permits ready identification of the device which has changed state.In a further embodiment of the invention the contacts of of the switching unit are connected to the monitoring means via respective analogue to digital converters such that signals on said first and second conducters present on any pair of said first, second and additional terminals are converted to digital signals for presentation to the said monitoring means.The advantage of this feature of the invention is that it permits easy monitoring of the circuit.Preferably a visual display device is connected to an output of the monitoring means to provide a visual indication of any faulty device and the position in the circuit of any device which has changed state. The advantage of this feature of the invention is that it permits easy identification of the device which has changed state.The invention will now be described by way of example only, with particular reference to the accompanying drawings wherein Figure 1 is a circuit diagram of an electrical protective system incorporating means for identifying the location of any part of the system undergoing a change in state, Figure 2 is a circuit diagram of another embodiment of the invention, Figure 3 is a circuit diagram of a further embodiment of the invention, and Figure 4 is a circuit diagram of a still further embodiment of the invention.Referring initially to Figure 1, there is illustrated an electrical protective circuit employing a number of vibration sensitive devices arranged to change state in response to the detection of vibration in a structure or in part of the structure such as in a window or door of a building and with which the vibration sensing device is associated. The protective circuit designated A has a pair of input terminals 1, 1 to which a control circuit designated B is arranged to be connected. A resistor R1 is connected across terminals 1, 7 , for a purpose hereinafter defined. The protective circuit includes six vibration detection devices 2 to 7 inclusive for detecting vibrations in a window, door or other structure of a building, and may be similar to the detection devices referred to in British Patent Specification No 2000377.The vibration detection devices 2 to 7 are connected in series as shown and each device 2 to 7 has an associated resistor R2 to R7 respectively connected between an output terminal 8 of each device and an earthed line 9. Each device is provided with an input terminal 10 connected to the output terminal 8 of the next adjacent device such that the devices 2 to 7 are connected in series.The arrangement is such that the resistance of the protective circuit A between the terminals 1, 1 , varies in accordance with the particular vibration detection device which changes state. Each of the resistors R1 to R7 are preferably of 1 megaohm and the resistor Rl is connected across the terminals 1 , 1 , to provide a current path through the protective circuit, should the vibration detection device 2 change state.The control circuit B, includes control apparatus 11 for identifying the location in the protective circuit A of any device 2 to 7 which undergoes a change in state. The control circuit B also includes control apparatus 12 for monitoring the frequency of vibration of any of the vibration detection devices 2 to 7 and should the frequency be within certain predetermined limits, the apparatus 12 effects energisation of a relay 21 of a visual or audible warning device not shown to provide an alarm indication. Control apparatus 11 includes means not shown for applying an e.m.f. typically 6 volts, across the input terminals 1, 1 , of the protective circuit A. A comparator 13 is provided with a pair of inputs, one of which is connected to protective circuit A and the other of which is connected to a reference circuit 14 via a bistable state device 15. The comparator 13 compares the current flowing through the protective circuit A with a reference current generated by device 14 and which comprises a bank of resistors 16 corresponding to the resistors R2 to R7 of the protective circuit A.The reference current is supplied via the scanning circuit 17 and bistable device 15 to one input of the comparator 13.As the scanning circuit 17 scans the resistors 16, for correspondence between the current flowing in the protective circuit A and the instantaneous reference current, the particular vibration detection device which has changed state is identified by the control circuit 12.The signal from the protective circuit A is passed from the scanning circuit 17 to a multiplex scanning unit 18 via respective integrator circuits 19 which provide a signal indicative of the frequency of the signal. If the signal is within certain predetermined limits, the signal passes to the multiplex scanning unit 18 and an output signal therefrom initiates energisation of relay 21 and is supplied to the digital display device 20 such that a visual indication is provided of the particular vibration detection device 2 to 7 which has changed state.When the vibration detection devices 2 to 7 are in their quiescent state, current will flow through all the devices and the resistance measured across the input terminals l, l , will be R1 R2 R3 R4 R6 R6 R7 R 1.R2.R3.R4.R5.R6.R7If, for example, vibration detection device 5 begins to vibrate and interrupts the current flow through the protective circuit l, the portion of the circuit A beyond device 5 is isolated and device 5 itself will be in an bpen circuit state.Accordingly the resistance of the protective circuit A monitored by the control circuit B is R1 R2 R3 R4 R1.R2.R3.R4The resistance monitored will clearly indicate that it is vibration detection device 5 that has changed from a quiescent state to an open circuit state and the display device 20 will indicate in digital form, device 5.In the embodiment of the invention illustrated in Figure 2, the protective citcuit A of Figure 1 is provided with, in addition to the vibration detection devices, a respective anti tamper device, all housed within one unit.Thus, referring to Figure 2, five series connected vibration detection devices are shown at 2, 3, 4, 5, 6, with the input terminals 1, 1 , and the resistor R1 connected between lines 28, 29 and the resistors R2, R3,R4, R5, R6 connected respectively between the output terminals of the devices 2 to 6 and the line 29. In addition to the vibration detection devices 2 to 6, anti tamper devices 30 to 34 are provided. The vibration detection devices 2 to 6 in addition to the anti tamper devices 30 to 34 are connected in series, and the input terminals 1, 1 , are arranged such that an e.m.f. can be applied to the protective circuit A so that the resistance of the circuit can be measured.In addition to the input terminals 1, 1 , terminals 35, 36 are provided in loops 37, 38 containing the vibration detection devices 2 to 6 and the anti tamper devices 30 to 34 respectively. The additional terminals allow the resistance of the circuit to be measured from either end of the loops in the event of a change of state of one of the vibration detection devices 2 to 6 on one of the anti tamper devices 30 to 34. A microprocessor 39 is connected to the terminals 1 , 1 and 35, 36 via a bilateral switch unit 40 and connections 41. The terminals 1 , 1 35, 36 are also connected via the bilateral switch unit 40, to four respective alanogue digital converters 42, the outputs of which are connected to respective terminals of the microprocessor 39. The analogue digital converters 42 allow signals from the respective terminals 1, 1 35, 36 to be converted to digital signals for the microprocessor 39.A display panel not shown is connected to an output of the microprocessor 39, to provide a visual indication whether or not one of the vibration detection devices 2 to 6 or one of the antitamper devices 30 to 34 has changed state or is faulty such that the particular device which has changed state or is faulty, can be identified.In operation, when it is required to lock up a building for the night, the protective circuit is preset by placing each vibration detection device into a one state and the microprocessor 39, is set to a mode to deliver an e.m.f.across the input terminals 1, 1 . If any one of the vibration detection devices 2 to 6, or anti tamper devices 30 to 34, is faulty, there will be a break in the continuity of the circuit and the microprocessor 39, will only measure the resistance of the circuit from R1 up to the resistance immediately before the faulty component, and thus the faulty component is immediately identified. If, for example, the faulty component is vibration detection device then the microprocessor 39 by monitoring across the terminals 1, 1 , will be able to monitor the vibration detection devices 2 and 3 and the anti tamper devices 30, 31. In order for the remaining devices 5, 6 and 33, 34, to be monitored, the microprocessor 39 is placed in a mode to monitor across the terminals 35, 1 as well as across the terminals 1, 1 . By monitoring across the terminals 35, 1 , it will be appreciated that the microprocessor will detect the resistors R6 and R5. Thus, should a fault occur in the devices 5 or 6 or 33, 34, this will be readily detected by the micro processor. The microprocessor can be placed in a further mode to monitor across terminals 1 and 36 such that should anti tamper device 32 become faulty, the fault will be readily detected and identified. The microprocessor may be placed in yet another mode to monitor across terminals 35, 36 in addition to any of the modes already described. An advantage of monitoring across all the terminals is that a short circuit in any of the lines can also be readily identified and the position readily located. Referring now to Figure 3 there is illustrated an electrical protective circuit according to a still further embodiment of the invention, this circuit is substantially similar to that described with reference to Figure 1 with the exception that the devices 2 to 7 in this embodiment of the invention are intruder detecting switches, provided by magnetic reed switches, which may be mounted on, for example, doors, windows or the like so that on opening of a door or window the circuit through the reed switch is opened. In this case the integrator circuits 19 are redundant. However, if it were desired to replace any of the devices 2 to 7 with vibration detection device this could readily be done and the integrator would then come into use.The operation of this circuit is substantially similar to that described with reference to Figure 1. For example, when the reed switch 5 opens, the portion of the circuit beyond the device 5 is isolated. Accordingly, the resistance of the protective circuit A monitored by the control circuit B is R1 R2 R3 R4 Rl.R2.R3.R4. Thus, the device on open circuit 5 will be immediately identified and this information will be displayed on the digital display device 20. Additionally, the relay 21 will trigger an alarm.Figure 4 illustrates an electrical protective circuit which is again substantially similar to that of Figure 1.In this case, the devices 2 to 7 are vibration detection devices and the resistors R1 to R7 are replaced by diodesD1 to D7. The diodes Dl to D7 perform a similar function to that of the resistors of Figure 1.Although the invention has been described with particular reference to a protective circuit having a plurality of vibration detection devices, it will be appreciated that other types of detection device may be used, for example, foil switches for detecting the breaking of a window or the like or infrared or ultrasonic intruder detectors.Similarly, the detection devices may be smoke or fire detection devices. Indeed, a combination of these devices in series could be used in the one circuit.Furthermore, the protective circuit may utilise devices other than switches, such as valves, transistors, or the like and the invention is not restricted to security equipment. Additionally, impedance elements other than resistors R2 to R7 or diodes D2 to D7 could be employed, for example, zener diodes, transistors or other semiconductor devices, or indeed other suitable impedance devices.Instead of using a microprocessor, and related components to monitor the electrical circuit, other suitable means may be used and in fact one such means is described in the specification of Irish Patent Application No. 225 81.Additionally, it is envisaged that a memory may be incorporated in the circuit B in which case the memory may be used to record and store the times at which the devices or switch were activated or became faulty. Indeed, where devices are mounted on doors or windows, the opening and closing of each door may be individually and separately monitored.Furthermore, it is envisaged that the circuit B could be connected to a telephone line to permit the circuit to be remotely monitored. The Comptroller,The European Section,The Patent Office, 25 Southampton Buildings,LONDON, WC2A 1AY European Patent Application No. 82304097.7 INSTITUTE FOR INDUSTRIAL RESEARCH AND STANDARDS In connection with the above European PatentApplication filed on 3rd August 1982, I file herewith a new page 23 and respectfully request that this page which includes some additional information be substituted for the page 23 at present on file with this Application. A copy of this letter is enclosed and I should be obliged if you would date stamp this as my acknowledgment. ENCLS. Page 23 In Triplicate Copy Letter. were activated or became faulty. Indeed, where devices are mounted on doors or windows, the opening and closing of each door may be individually and separately monitored. Furthermore, it is envisaged that the circuit B could be connected to a telephone line to permit the circuit to be remotely monitored. Generally there are two major advantages with the present invention. Firstly, with all embodiments described above identical impedance elements may be used. This leads to considerable savings in manufacture, installation and maintenance in that a wide range of components have not to be manufactured and stocked. Further the technician working on the equipment should not make an error by fitting the wrong component. Secondly, where monitoring is not restricted to one set of input terminals the fact that a bi state device has changed state or has become faulty will not limit the monitoring of the circuit. The remaining bi state devices can continue to be monitored.