# Apparatus and method for robot calibration.

## Abstract
Robotic apparatus is guided by a computer 14 which is calibrated by cameras 20, 21, 22 mounted on the robot arm 11 which view targets 15, 16 fixed at a work station 13 and comprising a pattern of four dots. The viewing takes place as the robot arm approaches the work station to carry out the intended operation and the sensing of any deviation relative to a predetermined target pattern is transmitted to the computer 14 to re set the robot s computerized guidance system.

## Claims
CLAIMS 1. Robot apparatus having an arm with an operative end for automatically handling or working on an object at a work station characterised by a computerized guidance means for controlling movements of the arm and operative end for carrying out an intended handling or working on the object, a calibration means for checking and if necessary re setting the guidance means, the calibration means comprising means for sensing the position of the arm and operative end independently of the guidance means, as the arm and operative end approach the work station, for generating a calibration signal, and means for comparing the calibration signal against a reference signal and noting any deviation therebetween and for re setting the computerized guidance means in response to the deviation. 2. Apparatus according to claim 1 in which the calibration means comprises at least one target mounted on the arm and operative end, and including at least one camera mounted at a location independent of the arm and operative end and appropriate for viewing the target as the arm and operative end approach the work station. 3. Apparatus according to claim 2 including a plurality of cameras positioned to view a single target. 4. Apparatus according to claim 1 in which the calibration means comprises at least one camera means on the arm and operative end, and at least one target mounted in the vicinity of the work station, independently of the arm and operative end. 5. Apparatus according to claim 4 in which the camera means comprises a camera device located remote from the arm and operative end, and fiber optics located on the arm and operative end and communicating with the camera device. Apparatus according to any one of claims 2 to 5 in which the target comprises a pattern of at least three dots positioned to be viewed by the camera to ascertain the position of the arm and operative end in the X, Y, Z pitch, roll and yaw directions. 7. Apparatus according to claim 6 in which the target includes four dots arranged in a rectangular pattern. 8. A method for calibrating a robotic apparatus of the type having an arm and operative end for automatically handling or working on an object at a work station, characterised by the steps of guiding movements of the arm and operative end by means of a programmed guidance computer to carry out an intended handling or working on the object, and calibrating movements of the computerized arm and operative end as the arm and operative end approach the work station, by sensing the position of the arm and operative end, as they approach the work station, independently of the guidance means, to generate a calibration signal, comparing the calibration signal with a predetermined reference signal and re setting the guidance computer in response to any deviation between the calibration signal and the reference signal. 9. A method according to claim 8 wherein the calibration step comprises viewing a target with a camera, either the camera or the target being located on the arm and operative end and the other being located in the vicinity of the work station and fixed independently of the arm and operative end. 10. A method according to claim 9 wherein at least one camera means is located on the arm and operative end and views at least one target located at the work station. 11. A method according to claim 9 wherein at least one camera is located at the work station, independently of the arm and operative end and at least one target is mounted on the arm and operative end. 12. A method according to claim 10 or claim 11 wherein the target comprises a pattern of at least three dots, and the deviation signal represents a distortion of this pattern of dots. 13. A method according to any one of claims 9 to 12 wherein the step of viewing the target with the camera is carried out under flashed light strobe illumination.

## Description
Apparatus and method for robot calibration This invention relates to robotics, and in particular it relates to a method and apparatus for calibrating a robot. The very essence of a robotic apparatus is that its movements are accurately predetermined so as to accurately carry out an intended operation such as handling or working on an object, the latter including, for example, welding or inspecting an object. Systems for guiding the robots through the course of their intended movements, to further enhance the accuracy of such movements have therefore been proposed. However, no matter how perfect the original predetermined movements or no matter how accurate the guidance systems for enhancing the robot s movements, the nature of the environment in which the robots are utilised, including environmental conditions exterior to the robot make it virtually impossible to assure perfect positional accuracy at all times. For example, many robots, particularly multijoint articulated robots, are generally not capable of maintaining their positional actions over a long period of time. Furthermore, when approaching a given desired position from different paths, they often provide different results, even when functioning as a result of the same computer input commands. This can be extremely difficult in a fully flexible automatic factory situation where different path commands may have to be generated by the computer and the robot is expected to follow them under all conditions.Apparatus quite suitable for the purpose of enhancing the accuracy of the predetermined robot movements is shown in U.S. patent no 4,219,847. Hence, notwithstanding the improved means discussed above and known heretofore for enhancing guiding of the robot arm, there still exists a need to correct inaccuracies in the robots position which cannot be corrected using known predetermined and improved guidance means and the primary object of the invention is to satisfy this need. In principle this is achieved in accordance with the present invention by calibrating the robot s position as it approaches the work station, utilizing sensing means independent from the robotrs own system for predetermining and guiding the robots movements, and then sensing any deviation between a calibration signal and a reference signal. This deviation is then used to re set the robot s basic computer guidance system, As a result thereof, as the robots operative end approaches the work station, any error signals in its basic computerized program are re set so that the robot s arm with its operating end are essentially given a fresh start from the location at which the calibration occurred, which will be in close proximity to the object, thereby in effect cancelling out any errors which preceded the point of calibration. Apparatus in accordance with the invention and having an arm with an operative end for automatically handling or working on an object at a work station is thus characterised by a computerized guidance means for controlling movements of the arm and operative end for carrying out an intended handling or working on the object1 a calibration means for checking and if necessary re setting the guidance means, the calibration means comprising means for sensing the position of the arm and operative end independently of the guidance means, as the arm and operative end approach the work station, for generating a calibration signal, and means for comparing the calibration signal against a reference signal and noting any deviation therebetween and for re setting the computerized guidance means in response to the deviation. In a preferred arrangement, the calibration means comprises at least one target mounted on the arm and operative end, and including at least one camera mounted at a location independent of the arm and operative end appropriate for viewing the target as the arm and operative end approach the work station.In one arrangement, one or more cameras are located on the robot s arm while the target or targets are located at fixed locations in the vicinity of the work station such as on the floor, on a pillar, on the fixed part of a conveyor, or the like. In lieu of being mounted on the robot s arm, the cameras can be mounted at a remote location and in communication with sensing points on the robot s arm through fiber optics. In another arrangement, the targets can be mounted on the robots arm and the cameras located at fixed positions on the floor, pillars, or the like in the vicinity of the work station. Examples in accordance with the present invention will now be described in more detail, with reference to the accompanying drawings, in which Figure 1 is a perspective, schematic view of a robot and its work station, utilizing the features of the present invention Figure 2 is a schematic, perspective view similar to Figure 1 but showing a modification thereof and Figures 3A and 3B are diagrammatic views of the target, illustrating the operation of the invention. There follows a detailed description of the preferred embodiments of the invention, to be read together with the accompanying drawings, wherein like elements are represented by like numerals throughout the several views. Figure 1 illustrates a first preferred embodiment of the invention wherein a robotic apparatus 10 fixed to the floor includes an arm 11, in this case a multijoint arm having an operative end 12. While this operative end can take any form for the purpose of handling or working on an object, including a camera which inspects an object, in the illustrated example there is shown an end effector 12. The work station 13, shown schematically in Figure 1, represents the area at which the operative end 12 would perform its function on the object. In a known manner, the movements of the computer for purposes of carrying out the intended operation are controlled by computer 14. However, since it is impossible to guarantee positional accuracy of the operative end 12 under all conditions, there is provided in accordance with the present invention a system for checking and calibrating the position of the robot as it approaches the work station 13. In this embodiment this system includes one or more targets mounted on the robot arm 11, as illustrated at 15 and 16, and one or more cameras, as illustrated at 20, 21 and 22, each of which cameras are fixed relative to the surrounding environment, as illustrated by the floor level, independently of the robot arm 11. The cameras communicate through lines 23 with the computer 14. In the embodiment of Figure 1, as the robot s operative end 12 approaches the work station 13, it passes its taryet 15 over a camera unit, for example, camera 21 which may be fixed with respect to the floor and in fact buried in the floor of the plant at a location which is presighted with respect to the robot s own coordinate axis. Alternatively, if repeatability is the only factor in question, camera 21 does not have to be presighted but it can be assured that the camera is returned to a certain initial condition point or in any event, its position relative to the robot can be determined. As illustrated, the target 15 has four dots. Three dots are the minimum for checking the position of the robot arm 11 up to six axes of coordinate data includingX, Y, Z, roll, pitch and yaw. The fourth dot in the pattern provides a check and hence a more accurate calibration. Hence, as the target 15 approached the view of camera 21 the computer 14 dictated that the arm 11 should be in a certain predetermined position. Camera 21 will either confirm this position or note a deviation therein. If a deviation is noted, camera 21 will convey this information back to the computer 14 through lines 23, whereupon the computer 14 will make the corrections in the robot s memory for that position. Since the calibrating system is performing its function in a very limited area, i.e. only in the area close to the work station as the operative end 12 approaches same, it is only correcting the robot position over a very small range. This enables the system to have a high resolution, typically 0.02mm. For further resolution, especially in other axes, a two camera solution may be desirable. In this case, a second camera 22 would be provided, which camera also views the target 15, this camera being spaced from thetarget 15 by an acute included angle . In the alternative, the second camera can be located at position 20 which is 90 and in this case the camera would view a duplicate target 16. There may be provided a cube at the end of the robot arm having a plurality of these targets fixed thereon and of course geometrically fixed in reference with respect to each other.The targets may take many different forms such as white dots on a black background, illuminated points of diode lasers or light emitting diodes, fiber ends illuminated from a remote light source, etc, The camera units are typically solid state photo detector arrays of the type having a large number of separate photo detectors, and having an intrinsic digital measuring capability.Such units may have at least ten but preferably over a hundred separate photo detectors. A flashed strobe target illumination light 17 or flashed target points diode lasers or light emitting diodes may be used. This provides the advantage of reading the dots and making the correction while the robot is in motion, i.e. on the fly . If such a flashed light source is utilized, then a position sensing analogue photo detector such as a UDT SC 10 can be used.However, this is drift prone and therefore not necessarily suited to the most accurate mensuration.For calibration over larger zones of the work area, it may be necessarytomechanically sweep the field of view. Figure 2 illustrates a calibration system according to the present invention in which the basic features thereof have been reversed, i.e. in this case, the robot arm carries the cameras while the dotted targets are fixed with respect to the work station,i.e.on the floor, on pillars or the like, independently of the robot arm 11. Figure 2 illustrates a pair of cameras 25 and 26 mounted on the robot arm 11 and targets 28 and 29 fixed to the floor and to a pillar 30, respectivelyA larger target 31 is mounted on a more distant pillar 32. Adding the cameras to the robot arm has the disadvantage of adding additional weight thereto. However, these cameras are relatively light. Moreover, as an improvement thereof, the camera can be located at a remote position, as illustrated diagrammitically at 35, and connected to viewing points at the end of the robot arm 11 through fiber optics 36. As illustrated in Figure 2, the robot arm 11 with the cameras thereon moves toward the work station 13 and as it approaches the work station the targets 28 or 29 come within view of the cameras 26 and 25, respectively.As in Figure 1, four dot matrix targets are desirable, although the system i s operable for correcting in all six directions utilizing a minimum of three dots. In the embodiment of Figure 2, since the targets are not carried by the robot arm, the targets may be larger.Consequently, the accuracy of the solution may be considerably higher than in the case of a single closely spaced target. This is particularly true in range and angle dimensions. In this embodiment with the targets fixed at selected locations in the vicinity of the work station, additional targets may be provided at especially advantageous points. For example, a target may be located directly behind a work object being conveyed such that when the work is transferred out, the target remains and is viewed by a camera, thus indicating removal of the object. Also, in the embodiment of Figure 2, many more target views can easily be utilized. Hence, the robot can be calibrated and hence corrected from a variety of angles by simply looking at the same target plate with different cameras or different points in time. This can give improved resolution as encoder errors are statistically averagedandthe average of multiple transform equations are used. Since targets are cheap, one or more target plates can be used very easily.In addition, more than one camera can be used on the robot. Two are illustrated in this embodiment.Given the fiber optic system for remotely locating the camera, each camera can view different directions simultaneously. Also, in Figure 2, a strobe target illumination light 17 may be used for making readings on the fly.This can be important for maximum cycle rate since the robot need not stop. The flash source freezes the target image on the photodetector for example, the matrix array which then is read out subsequently. To accomplish this on the present matrix arrays, it may be necessary to provide a dump pulse to clear the array moments before the flash. in this case the trigger to flash generally would come from the robot axis controller which would convey a signal indicating that the robot is at the calibration position. Use of flash sources also provides good background light level discrimination. Where laser or light emitting diode sources are used, further discrimination results by using wave length band pass filters in front of the detector. It will be noted that the targets may also be located on pallets, on automation equipment or on the objects themselves to provide a very local calibration to the robot axes. Figure 3 illustrates a practical example of the present invention using a typical four dot matrix tar get to correct in all six directions, X, Y, Z, 8, e, g . Figure 3A illustrates the correct reference position of the matrix, i.e. the view of the matrix if the robot arm 11 were perfectly positioned as the target came into the view of the camera. However, Figure 3B illustrates the matrix as actually viewed by the camera. The target image, as viewed on the computer screen is off center and tilted such that the distances a and b are less than the reference distances a and b. This indicates a tilt and also a 6 axis range lengthening. These variables can be solved independently given equations such as are known in the photogrammetric art and referred to in the above noted Pinkney et al U.S. patent no. 4,219,847. In addition, the dots in Figure 3B illustrate that the target is off center in both axes. All of the correction data is then fed into the computer 14 to reset the memory which controls the computers movements, whereupon the servos operating the robot arm 11 are actually moved to reposition the robot so that its target appears as in Figure 3A. This new position of the correct reading is then locked into the memory and becomes a new reference point from which the robot goes forward. It is noted that the calibration system does not have to be permanently attached to the robot but can be brought up to it at any time, assuming that some reliable procedure exists for accurately positioning the calibration system for each subsequent application. Thus, once the system has been operated, periodic calibration of may robots in a plant can be done with a single calibration system.