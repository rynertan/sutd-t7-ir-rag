# Electrical fuel injector control

## Claims
Elektrische Kraftstoffeinspritzvorrichtung, umfassend

## Description
This invention relates to an electrical fuel injection device and more specifically to an electrical fuel injection device which includes an electronic circuit adapted to compute an opening time of an injection valve for injecting fuel into an internal combustion engine, based on output signals from an air flow meter for detecting an amount of air intake to the internal combustion engine and a revolution counter for measuring the rate of rotations of the internal combustion engine. The electrical fuel injector of this type is disclosed for example in Japanese Patent Laid Open No. 56 24522 Basic Pulse Computing Method and Apparatus for Hot Wire Type Fiow Meter distributed on Mar. 9, 1981. In this known fuel injector, in order to control an opening time of an injection valve without suffering any influence from an amount of air intake to an internal combustion engine. an air intake amount detection signal is input to an electronic circuit through a digital filter having a constant coefficient and then an opening time of the injection valve is computed. According to this known fuel injector. howerver, since the detection signal for the amount of air intake to the internal combustion engine is input to the electronic circuit for computing the opening time of the injection valve through the digital filter having a constant coefficient at all times regardless of the revolution count and load of the internal combustion engine, there arises such a drawback that a rising characteristic of the revolution count is impaired. US A 4 280 189 shows an input signal processor for reducing rippel components contained in input signals of an air flow meter and an angular position sensor used in an internal combustion engine. The reduction of rippel components according to this document is performed by filtering the respective input signals based on a predetermined filter coefficient. This coefficient, however, is not adapted to different operating conditions of the engine, so that the filtering results of the input signal processor can be unsatisfactory in certain operating regions of the engine. It is an object of this invention to provide an electrical fuel injector which can make revolution count of an internal combustion engine steady while idling without impairing acceleration performance. The above object is solved according to the invention by the features of claim and claim 2 respectively. According to claim 1 an electric fuel injection device comprising is characterized in that there is provided a first digital fiiter wich attenuates an input signal with a first coefficient when said engine is in an idling state, wherein the following conditions are met According to claim 2 an electronic fuel injection device comprising is characterized in that there is provided a first digital filter which attenuates an input signal with a first coefficient when said engine is in an idling state, wherein the following conditions one met The dependent claims 3 and 4 each characterize advantageous developments of claim 1. Referring to Figure 1, air passes through a hot wire type air flow meter 9 installed in an air cleaner 8 and then is fed to an internal combustion engine 10 by an amount in accordance with an opening degree of a throttle valve 2. The air having passed through the air flow meter 9 flows into a surge tank to be distributed to respective cylinders. On the other hand, fuel is suctioned and pressurized by a fuel pump 11 from a fuel tank 12 and then injected into the internal combustion engine through a fuel filter 13, a regulator 14 and an injection valve 3. The hot wire type air flow meter 9 outputs a detection signal for amount of air intake and this output signal is applied to a control unit 15. A throttle valve opening degree switch 16 is attached to the throttle valve 2. The switch 16 outputs a detection signal for the opening degree of the throttle valve 2 and this output signal is applied to the control unit 15. A head temperature sensor 17 is attached to the internal combustion is applied The sensor 17 outputs a detection signal for temperature of the internal combustion engine 10 and this output signal is applied to the control unit 15. Further, an ignition coil 18 outputs a detection signal for revolution count of the internal combustion engine 10 and this output signal is also applied to the control unit. As shown in Figure 2, the control unit 15 comprises a pulse input forming circuit 27, digital input forming circuit 28, analog input forming circuit 29, CPU, RAM and ROM 32, injector drive circuit 33, fuel pump drive circuit 34, constant voltage electric source 30, and an IO circuit 31. The pulse input forming circuit 27 is driven by a revolution signal 20 from the ignition coil 18. The digital input forming circuit 28 is driven based on inputs from a key switch 23 for starting the internal combustion engine, a starter switch 22 adapted to issue an instruction used for computing a basic pulse width Tp of fuel injection pulses at the time of starting the internal combustion engine, and an idle switch 21 for detecting an opening degree of the throttle valve 2. The analog input forming circuit 29 is driven based on inputs from the air flow meter 9 and an engine temperature sensor 25. The control unit 15 is supplied with electric Power also from an external battery 26 in addition to the electric source 30. The IO circuit 31 allows inputs from the pulse input forming circuit 27, the digital input forming circuit 28 and the analog input forming circuit 29 to be subject to the later described calculation in the circuit 32 comprising CPU, RAM as well as ROM, and then it sends out control signals to the injector drive circuit 33 and the fuel pump drive circuit 34. The injector drive circuit 33 receives the computed value from the CPU through the IO circuit and outputs drive pulses to injectors 35 to 38 for driving them as described later. The fuel pump drive circuit 34 outputs a drive pulse to the fuel pump 39. The CPU, RAM and ROM circuit 32 incorporates therein a digital filter which is able to multiply an output signal from the air flow meter 9 and, as required, an output signal from the revolution counter 18 by a predetermined coefficient, thereby to carry out the arithmetic processing as mentioned below. Based on thus computed result, the injection valve 3 is opened to the desired opening degree, so that the required amount of fuel is injected into the respective cylinders 35 to 38. At this time, the basic pulse width Tp of fuel injection pulses is proportional to an air intake amount Q to the internal combustion engine and is inversely proportional to revolution count N thereof In the above table, the item of idle switch ON or OFF designates that the opening degree of the throttle valve is below or above 1 degree, for example, respectively. The item of revolution count below or above N designates that the revolution count is less than or more than 1500 rpm, for example, respectively. The item of valve opening pulse width below or above Tp designates that it is shorter than or longer than 1.7 msec, for example, respectively. Further, the item of air intake amount below or above Qa designates that the amount is less than or more than 125 g min, for example, respectively. In addition, by way of example, the coefficient X Figure 3 shows a method for determining a value of the coefficient of the digital filter which is used in the electrical fuel injector according to this invention. Stated differently, Figure 3 shows the measured result of a relationship between the coefficient of the digital filter and a fluctuation range of revolution count rpm while idling, in which the reference numeral 140 denotes an objective range and 141 denotes the measured range. As will be apparent from Figure 3, in case the idle switch is turned ON, an allowable revolution fluctuation range of the internal combustion engine can be held within the objective range, by selecting the coefficient of the digital filter at 0.5. Figure 4A is a graph showing a revolution fluctuation range rpm of the internal combustion engine in case of using no digital filter, which range changes along with the lapse of time. Figure 4B is a graph showing a revolution fluctuation range rpm of the internal combustion engine which changes along with the lapse of time, in case that both air flow signal and revolution signal are fed to the digital filter thereby to control an opening time of the injection valve. As will be apparent from Figure 4A, in case of using no digital filter the internal combustion engine assumes a revolution fluctuation range of 100 to 60 rpm. According to the experiment carried out by the inventors. in case only the air flow signal is fed to the digital filter as previously noted referring to the known injector in the prior art, the internal combustion engine assumes a revolution fluctuation range of about 60 rpm. On the other hand, as will be apparent from Figure 4B, in case that both air flow signal and revolution signal are fed to the digital filter, a revolution fluctuation range of the internal combustion range can be restrained within 40 to 10 rpm. In cases of Figure 4A and the above mentioned known injector wherein a revolution fluctuation range of the internal combustion engine is varied in values from 100 to 60 rpm, there occurs a noise such that the engine is likely to stop, whereas in case that the internal combustion engine assumes a revolution fluctuation range of 40 to 10 rpm, there will never occur a non comfortable feeling. Figure 5 shows the result of measuring a rising time up to a predetermined revolution count N Accordingly, it is possible to attain good acceleration performance comparable to the conventional injector using no digital filter, while improving stability of revolution count during idling drive, by detecting the state of the internal combustion engine and then changing a coefficient of the digital filter in accordance with the detected result. Hereinafter, flowcharts for the electronical fuel injector of this invention will be described by referring to Figures 6 and 7. As shown in Figure 6, updated new air flow signals Q On the other hand, updated new revolution signal N Based on both signals Q In the above description, there has been explained one preferred embodiment wherein both air flow signal and revolution signal are fed to the digital filter which has a coefficient variable corresponding to the drive conditions of the internal combustion engine. However, this invention may be modified into another embodiment such that only the air flow signal is fed to the digital filter which has a coefficient variable corresponding to the drive conditions of the internal combustion engine, whereas the revolution signal is fed to the digital filter which has a constant coefficient. In this case, a revolution fluctuation range of the internal combustion engine can be held as low as 60 rpm. in this connection, a revolution fluctuation range of the internal combustion engine can be reduced down to 40 to 10 rpm also when applying only the revolution signal N to the digital filter which has two different coefficients in an idling state and a normal drive state. But in this case, a rising charactersitic of revolution count is impaired. As an alternative, in case that only the revolution signal N is applied to the digital filter which has a coefficient variable corresponding to the drive conditions of the internal combustion engine, a revolution fluctuation range can be held within 40 to 10 rpm without imparing a rising characteristic of revolution count.