# PROXIMITY SWITCH

## Claims
Näherungsschalter mit hochfrequenter Schwingung, mit einer einen Resonanzkreis LC enthaltenden Schwingungsschaltung 1 , wobei die Schwingungsschaltung Rückkopplungsmittel zum Verändern der Schwingungsverstärkung aufweist, einer Nachweisschaltung, welche einen Gegenstand anhand einer Verminderung des Schwingungsausgangssignals nachweist, und Gleichrichtungsmitteln, welche das Ausgangssignal der Schwingungsschaltung 1 zur Erzeugung eines Verstärkungssteuersignals für eine Steuerung der Rückkopplungsmittel gleichrichten und glätten und welche ein Signal für die Nachweisschaltung liefern, wobei die Gleichrichtungsmittel aus ersten Gleichrichtungsmitteln 20, 22 30 50 , welche das Ausgangssignal der Schwingungsschaltung 1 mit einer ersten Zeitkonstanten glätten und zweiten Gleichrichtungsmitteln 21, 23 31 51 , welche das Ausgangssignal der Schwingungsschaltung 1 mit einer zweiten Zeitkonstanten, die kürzer als die erste Zeitkonstante ist, glätten, aufgebaut sind, ersten Vergleichsmitteln 20, 24 34 54 , welche eine Verminderung eines Ausgangssignals der ersten Gleichrichtungsmittel 20, 22 30 50 durch Vergleichen des Ausgangssignals mit einem ersten Bezugswert nachweisen und ein Gegenstandsnachweissignal mit Nachweis der Verminderung des Ausgangssignals erzeugen, gekennzeichnet durch

## Description
This invention relates to a proximity switch of high frequency oscillation type with an improved response speed in detecting an object. A proximity switch of high frequency oscillation type has a detection coil in its detection head and an oscillation circuit is formed therein using the detection coil as an oscillation coil, so as to detect an object from the decline in the oscillation output. According to this oscillation circuit, the speed of termination of the oscillation may be varied by adjusting the shape and winding of the detection coil L and changing other circuit constants. However, when an object approaches the detection coil and increases the conductance of the detection coil, the oscillation is terminated soon or later. Therefore, the response speed of a proximity switch may be considered as the total time of the start and the termination of oscillation. Generally speaking, oscillation of an oscillation circuit is extremely slow in rise start speed but is relatively fast in termination speed. The time tau required for oscillation to start, grow and reach a level which enables the detection of an object may be given as follows where Generally, the amplitude level at the termination of oscillation is a noise level which is, for instance, in the order of mV s. As the detection distance is increased, the conductance variation decreases and the response speed decreases, causing the problem that the detection of a fast moving object becomes impossible. To avoid such a problem, a proposal has been made to provide a initialization signal generator for giving an initialization signal to the oscillator circuit Japanese Patent Laying Open Publication No.58 1327 , but the initialization signal must be matched to the oscillation frequency and the circuitry tends to be complicated. Furthermore, in an environment where a strong AC magnetic current is present as in a resistance welder which involves an electric current of more than ten thousand A, the ferrite core of the detector coil is magnetically saturated and, due to the increase in the loss in the detection coil, the oscillation is interrupted. Therefore, in such an environment, a conventional proximity switch of high frequency oscillation type may become unusable. From GB A 2 075 201 a proximity switch of the high frequency oscillation type is known having the features of the first part of claim 1 in which no provision is made to maintain at least a minimum oscillation output level for any detecting condition. From DE A 2 815 711 a proximity switch of the high frequency oscillation type is known having an oscillation circuit and a detector circuit which detects an object from reduction in oscillation comprising rectifying means and a capacitor. The capacitor smoothes the output according to a certain time constant such that noises from a strong magnetic AC field are eliminated. In view of such problems of conventional proximity switches, a primary object of this invention is to provide a proximity switch which has a high response speed through speed up in the start of the oscillation of an oscillation circuit. A second object of this invention is to provide a proximity switch which is capable of withstanding a strong magnetic field so that it may be used in an environment where a strong AC magnetic field is present. The invention is as claimed in claim 1. The present invention will now be shown and described in the following in terms of concrete embodiments thereof with reference to the appended drawings, in which Figure 1 is a circuit diagram of an embodiment of a proximity switch oscillation circuit according to this invention. According to this oscillation circuit, even after the oscillation output has declined as an object approaches the proximity switch and this decline in the oscillation output is detected by the proximity switch, the oscillation is maintained at a very small amplitude. In the drawing, a resonance circuit is formed by a detection coil L provided in the front part of the proximity switch and a capacitor C connected in parallel thereto. And electric current is supplied to this LC resonance circuit from a constant current source 2 by way of a power source 3, and the common terminal is connected to the base of transistor 4 for current amplification. The collector of the transistor 4 is connected to a collector of a PNP transistor 5 which forms a current mirror circuit CM1 with another transistor 6. The emitter of the transistor 4 is grounded by way of a variable resistor 7 which determines the collector current. The collector of the transistor 6 is connected to the emitter of a transistor 8. The transistor 8 is a multi collector transistor having four collectors, and three of the collectors 8a are connected in common for feedback to the LC resonance circuit. The other collector 8b is connected to the collector base common terminal of an NPN transistor 9. The transistor 9 forms a current mirror circuit CM2 in cooperation with another transistor 10. The emitter area of the transistor 10 is n times greater than that of the transistor 9. And the collector of the transistor 10 is connected to the base collector common terminal of a multi collector transistor 11. The other collector of the multi collector transistor 11 is connected to the LC resonance circuit. Further, the base and the collector of the transistor 9 are connected to the collector of a transistor 12. The transistor 12 is activated according to a signal given when the oscillation output has increased and controls the action of the current mirror circuit CM2. Figure 2 is a block diagram showing the overall structure of the proximity switch according to this invention. In this drawing, the oscillation output of the oscillation circuit 1 shown in Figure 1 is given to a pair of comparison circuits 20 and 21. The comparison circuits 20 and 21 are given with reference voltages Vref1 and Vref2, respectively, and convert the input signals into square wave signals. The output ends of the comparison circuits 20 and 21 are connected to smoothing capacitors 22 and 23, respectively, having different capacitances. Thus a pair of rectifying circuits are formed by the comparison circuit 20 and the capacitor 22, and the comparison circuit 21 and the capacitor 23, respectively, and convert signals of certain levels into DC levels. The comparison circuit 20 detects the decline in the oscillation output and its output is supplied to a comparison circuit 24. The comparison signal given to the comparison circuit 24 is discriminated according to a certain threshold and is outputted from an output circuit 25 as an object detection signal. On the other hand, the comparison circuit 21 compares the oscillation output with a certain level and its smoothing capacitor is so selected as to form a small time constant. And, the smoothed output end is supplied to the transistor 12 of the oscillation circuit 1. Now the action of this embodiment is described in the following. Figure 6 shows a diagram showing the wave forms of various parts in association with the distance between an approaching body and the detection coil of this embodiment. When the object is sufficiently far away, the coil L is without any substantial loss. In the oscillation circuit, the voltage of the LC resonance circuit is given to the transistor 4 for current amplification and collector current flows through the transistors 5 and 4. Due to this collector current, mirror current flows through the other transistor 6 and the mirror current is divided by the transistor 8. Therefore, approximately three quarters of the collector current of the transistor 6 current is fed back to the LC resonance circuit by way of the collector terminals 8a of the transistor 8. And, when the object is far way and the oscillation level is high, an output is obtained from the comparison circuit 21 and the output is in turn smoothed by the smoothing capacitor 23 so that an oscillation gain control signal is supplied to the transistor 12 of the oscillation circuit 1 as shown in Figure 6 c . Therefore, the transistor 12 is turned on and the current mirror circuit CM2 is deactivated whereby the current feedback to the LC resonance through the transistor 11 is interrupted. Therefore, the value of the current that is fed back to the LC resonance circuit is accounted for solely by the current of the collector 8a of the transistor 8. As an object approaches the proximity switch, the oscillation output of the oscillation circuit 1 declines rapidly as shown in Figure 6 a . When the distance is L1 or when the output of the comparison circuit 20 goes below the reference voltage level Vref1 of the comparison circuit 24, the comparison circuit 20 ceases to send a signal to the comparison circuit 24. Therefore, the comparison circuit 24, detecting this, sends an object detection signal to the outside by way of the output circuit 25. When the object comes closer to the proximity switch and the oscillation output declines even further, the output of the comparison circuit 21 also declines as shown in Figure 6 c and the oscillation gain control signal supplied to the transistor 12 also declines. Therefore, the current mirror circuit CM2 gradually turns into an active state, and the collector current of the collector 8b of the transistor 8 flows into the current mirror circuit CM2 to drive the multi collector transistor 11 by way of the current mirror CM2. When the transistor 12 turns into a complete OFF state, then, because the emitter area of the transistor 10 is n times greater than that of the transistor 9, the current of the collector 8b of the transistor 8 is current amplified by the current mirror circuit CM2. Thus, the other collector currents of the multi collector transistor 11 is current fed back to the LC resonance circuit. Thereby, the gain of the oscillation circuit 1 is increased and the oscillation may be maintained at a low level even when the object comes approaches the proximity switch to an even closer range as shown in Figure 6 a . Here, because the capacitance of the capacitor 23 connected to the output of the comparison circuit 21 is small or the time constant is small, the gain may be readily adjusted according to the changes in the oscillation amplitude. Moreover, the response speed for detecting an object may be varied by changing the capacitance of the capacitor 22 connected to the output of the comparison circuit 20. In other words, the oscillation start response speed tau is dependent on the initial amplitude as indicated in Equation 1 and the oscillation rise time may be drastically reduced by setting the initial amplitude level Vs at a high level. Therefore, as shown in Figure 6 a , the oscillation rise time may be reduced by maintaining the oscillation at a low level even after the object has come very close to the proximity switch and the object detection signal has been issued. Therefore, in an environment where noise level is low, the response speed may be increased by reducing the capacitance of the capacitor 22 connected to the output end of the comparison circuit 20 or reducing the time constant of the smoothing circuit. If the noise resistance is require to be improved, the influences of noises may be eliminated by using a high value for the capacitance of the capacitor. This proximity switch may be used in an environment where a strong AC magnetic field is present as in the case of a resistance welder where electric current of great magnitude is used. In this case, the oscillation can start near the zero cross points of the AC magnetic field and the oscillation can be started up in a brisk manner. For instance, when a AC magnetic field of 60 Hz is present, a series of burst wave forms of double the frequency of the magnetic field or 120 Hz can be obtained from the oscillation circuit 1. Therefore, by increasing the capacitance of the output capacitor 22 of the comparison circuit 20 to increase the time constant of the smoothing circuit and comparison the output with a certain threshold level in the comparison circuit 24, the presence of the burst oscillations may be detected and a proximity switch which is capable of withstanding a magnetic field may be obtained. Figure 3 is a overall structural view of another embodiment of the proximity switch according to this invention. In this drawing, the output of the oscillation circuit 1 is given to a pair of rectifying circuits 30 and 31. The rectifying circuit 30 converts the oscillation output into a DC component as was the case with the comparison circuit 20, and its output end is connected to a capacitor 32 whose capacitance is selected according to the operating environment of the the proximity switch. The output of the rectifying circuit 30 is supplied to the comparison circuit 34 and is outputted, by way of a switching circuit 36, as an object detection signal. The rectifying circuit 31 converts the oscillation output into a DC component and its output end is connected to a smoothing capacitor 33, similar to the capacitor 23, of a small capacitance for a small time constant which is similar to the capacitor 23. The output signal is then converted into a square wave signal by a comparison circuit 35 which has a reference voltage based on a small amplitude of the oscillation and the transistor 12 of the oscillation circuit 1 is activated according to the decline in the oscillation output In this embodiment, the oscillation gain adjustment signal is comprised of a two value signal and the amplitude of the oscillation circuit 1 is controlled by intermittently activating the transistor 12. Figure 4 is a circuit diagram showing a second embodiment of the proximity switch oscillation circuit according to this inventions. In this embodiment, those parts corresponding to the parts of Figure 1 are denoted with like numerals. In this embodiment, an emitter follower circuit is formed before a current amplification transistor and the feedback current is made variable by changing an emitter resistor for current feedback. In other words, an end of a current source 2 is connected to the base of a transistor 41 which is connected in an emitter follower and the collector of this transistor 41 is connected to the current source 2 while its emitter is grounded by way of a pair of resistors 42, 43 which are connected in series. A serial connection of a resistor 44 and a switching transistor 45 is connected in parallel to the resistor 43. The common terminal is connected to the base of the current amplification transistor 4 and the collector of this transistor 4 is connected to a current mirror circuit consisting of a pair of transistors 5 and 6. And, the output of the comparison circuit 21 or 35 shown in Figure 2 or 3, as the case may be is connected to the base of transistor 45. In this oscillation circuit, when the oscillation amplitude is great, the transistor 45 is in conductive state and the emitter resistance of the transistor 41 is a serial connection of the resistor 42 and a parallel connection of the resistors 43 and 44. However, when the oscillation amplitude has declined and the output from the comparison circuit 21 35 has stopped, the transistor 45 is turned off and the resistor 43 is connected in series with the resistor 44, whereby the emitter voltage ratio of the transistor 41 may be raised and the current value of the current amplification transistor 41 may be increased. Therefore, the feedback current given from the current mirror circuit formed by the transistors 5 and 6 increases and the oscillation may be maintained at a low level as was the case with the previously described embodiment. Figure 5 is a block diagram showing the overall structure of yet another embodiment of the proximity switch according to this invention. In this drawing, the oscillation output of the oscillation circuit 1 shown in Figure 1 is given to a pair of rectifying circuits 50 and 51. The rectifying circuits 50 and 51 convert the oscillation output into DC components according to their time constants, and their output ends are connected to smoothing capacitors 52 and 53, respectively, having different capacitances, and then to comparison circuits 54 and 55, respectively. The comparison circuit 54 outputs a square wave signal when the oscillation output of the high frequency type proximity switch has dropped to a certain level and its output is supplied to the outside by way of an output circuit 56. The comparison circuit 55 compares the rectified output of the rectifying circuit with a reference level and increases the oscillation gain of the oscillation circuit 1. And, as shown in Figure 5, the comparison circuits 54 and 55 are connected to a pair of resistors 58 and 59 which are connected to a constant current source 57 in series, and a reference power source 60 is formed by the constant current source 57 and the resistors 58 and 59. Here, the high voltage ends of the resistors 58 and 59 are connected to the reference voltage inputs of the comparison circuits 54 and 55. The reference voltage levels Vref1 and Vref2 of the comparison circuits 54 and 55 are adjusted by setting up the resistive values of the resistors. Thus, it is possible to always give to the comparison circuit 54 a reference voltage which is higher than that of the comparison circuit 55. Now the action of this embodiment is described in the following with reference to Figure 7. Figure 7 shows a diagram showing the wave forms of various parts in association with the distance between an approaching body and the detection coil of this embodiment. When the object is sufficiently far away, the coil L is without any substantial loss. In the oscillation circuit, the voltage of the LC resonance circuit is given to the transistor 4 for current amplification and collector current flows through the transistors 5 and 4. Due to this collector current, mirror current flows through the other transistor 6 and the mirror current is divided by the transistor 8. Therefore, approximately three quarters of the collector current of the transistor 6 is current fed back to the LC resonance circuit by way of the collector terminals 8a of the transistor 8. And, when the object is far way and the oscillation level is high, an output is obtained from the rectifying circuit 51 and the transistor 12 of the oscillation circuit is turned on by the output from the comparison circuit 55. Therefore, the current mirror circuit CM2 is deactivated whereby the current feedback to the LC resonance through the transistor 11 is interrupted. Therefore, the value of the current that is fed back to the LC resonance circuit is accounted for solely by the collector current of the transistor 8. As an object approaches the proximity switch, the oscillation output of the oscillation circuit 1 declines rapidly as shown in Figure 7 a . When the distance is L1 or when the output of the rectifying circuit 50 has reached the reference voltage level Vref1 of the comparison circuit 54, the comparison circuit 54 turns into ON state and an object detection signal is produced from the output circuit 56. When the object has come even closer to the proximity switch and the oscillation output declines even further, the output of the comparison circuit 55 turns into OFF state as shown in Figure 7 c and the switching transistor 12 turns into OFF state. Therefore, the current mirror circuit CM2 formed by the transistors 9 and 10 turns into an active state, and the collector current of the collector 8b of the transistor 8 flows into the current mirror circuit CM2 to drive the multi collector transistor 11 by way of the current mirror CM2, as shown in Figure 7 d . Because the emitter area of the transistor 10 is n times greater than that of the transistor 9, the collector current of the transistor 8 is current amplified by the current mirror circuit CM2. Thus, the other collector current of the multi collector transistor 11 is current fed back to the LC resonance circuit. Thereby, the gain of the oscillation circuit 1 is increased and the oscillation may be maintained at a low level even when the object approaches the proximity switch to an even closer range as shown in Figure 7 a . Here, the comparison circuits 54 and 55 are given with the reference voltages Vref1 and Vref2 by the reference power source comprising the resistors 58 and 59, and the reference voltage Vref1 is always kept at level which is higher than the reference voltage Vref2 of the comparison circuit 55. As a result, chattering and instability due to reversion of the reference levels would not happen and stable action is always possible. Although the present invention has been shown and described with reference to the preferred embodiment thereof, and in terms of the illustrative drawings, it should not be considered as limited thereby. Various possible modifications and alterations could be conceived of by one skilled in the art to any particular embodiment, without departing from the scope of the invention.