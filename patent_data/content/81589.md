# NUMERICAL CONTROL DEVICE.

## Abstract
The device effects successive indexing computations to give precision in profiling work, esp. in portions where there are sharp changes of shape, e.g. corners. The device includes a section which supplies an output controlling a 1st motor for X axis drive of a table carrying a master and a 2nd motor for Z axis drive of a tracer contacting the master, and receives an input of displacement signals indicating X, Y and Z axis displacement of the tracer. These displacement signals are supplied to a master shape indexing computation circuit which further receives input indicating the positions of the shafts of the 1st and 2nd motors and uses successive sets of these three inputs to calculate sampled portions of the master shape. Command signals are produced that indicate the path to be followed by a cutter and are supplied to a cutter and work table drive control section.

## Claims
CLAIM Numerical control equipment which is characterized by the provision of a tracer head fed by a tracer control drive shaft, for tracing the model surface to output a dis placement signal a tracer controller for calculating the direction of tracing and a trace velocity from the displacement signal from the tracer head to trive the tracer control drive shaft for performing tracer control a model configuration indexing circuit for indexing the configuration of a model from detected position information of the tracer control drive shaft and the displacement signal from the tracer head to prepare command data indicating a path to be followed by a cutter and a numerical controller for executing the command data prepared by the model configuration indexing circuit to control a numerical control drive shaft for feeding the cutter and workpiece relative to each other.

## Description
SPECIFICATION NUMERICAL CONTROL EQUIPMENT TECHNICAL FIELD The present invention relates to numerical control equipment which obtains numerical information by a trace operation. TECHNICAL BACKGROUND A tracer control system which computes a trace direction and a trace velocity with a displacement signal from a tracer head tracing the model surface and performs cutting is advan tageous in that it permits easy cutting of a workpiece of an intricate shape which is difficult to express as a numeric value by computation. But this system possesses the disadvantage that since a correcting operation by a corrective component based on the displacement signal lags a feed operation for tracing, the cutter may bite into or move away from the workpiece at a portion where the shape of the model suddenly changes, for example, at a corner portion of the model, decreasing the cutting accuracy. DISCLOSURE OF THE INVENTION An object of the present invention is to overcome such a defect of the prior art so that a workpiece of an intricate shape which is difficult to express as a numeric value by computation can also be cut with the same ease as in the conventional tracer control machining and with high accuracy. The numerical control equipment of the present invention is provided with a tracer head which is fed by a tracer control drive shaft to trace the model surface and output a displacement signal, a tracer controller which calculates the direction of tracing and the tracing velocity on the basis of the displacement signal from the tracer head and drives the tracer control drive shaft to perform tracer control, a model configuration indexing circuit which indexes the shape of the model from detected position information of the tracer control drive shaft and the displacement signal from the tracer head and creates commond data indicating a path along which a cutter is to move, and a numerical controller which executes the command data created by the model configuration indexing circuit to control a numerical control drive shaft for feeding the cutter and a workpiece relative to each other.Since cutting is carried out in the same manner as in the case of ordinary numerical controL, there is no possibility of the cutter biting into or moving away from the workpiece and, consequently, the cutting accuracy would not be impaired. Furthermore, since numerical information is obtained on line by the tracing operation, the cutting can be performed easily as is the case with the prior art tracer control system. BRIEF DESCRIPTION OF THE DRAWINGS Fig. 1 is a block diagram illustrating the principal part of equipment embodying the present invention and Figs.2 and 3 are schematic diagrams explanatory of its operation. PREFERRED EMBODIMENTS OF THE INVENTION Fig. 1 is a block diagram illustrating the principal part of equipment embodying the present invention. Reference numeral 1 indicates a model 2 designates a workpiece 3 and 4 identify moving tables 5 denotes a stylus 6 represents a tracer head 7 shows a cutter 8 refers to a cutter head 9 to 12 signify motors 13 to 16 indicate position detectors 17 designates a displacement calculation circuit 18, 27 and 28 identify adders 19 and 20 denote velocity calculation circuit 21 represents a distribution circuit 22, 23, 31 and 32 show velocity control circuits 24 refers to an index circuit 25 signifies a model configuration indexing circuit 26 indicates a pulse distribution circuit 29 and 30 designate position control circuits A identifies generally a tracer controller and B denotes generally a numerical controller.For convenience of description, motors for independently driving the moving tables 3 and 4 in the Y axis direction and their drive and detection systems are mitted from Fig. 1. In Fig. 1, the moving table 3 carrying the model 1 and the moving table 4 carrying the workpiece 2 are independently movable by the X axis motors 9 and 10, respectively. On the side of the moving table 3 there are provided the tracer head 6 having attached thereto the stylus 5, the motor 11 for moving the tracer head in the Z axis direction and the position detector 15 for detecting the position of the motor.On the side of the moving table 4 there are provided the cutter head 8 having mounted thereon the cutter 7, the motor 12 for moving the cutter head in the Z axis direction and the position detector 16 for detecting the position of the motor. Thus the tracer head 6 and the cutter head 7 are arranged so that they can be controlled in position independently of each other. Siaplacement signals Ex,ex syand cz from the tracer head 6 are provided to the tracer controller A and the model configuration indexing circuit 25. Based on the displacement signals, the tracer controller A drives the motors 9 and 11 which are tracer control motors, performing known tracer control. That is to say, when the stylus 5 is displaced upon making contact with the model 1, the displacement calculation circuit 17 obtains a composite displacement signalEMI4.1 from the displacement signals ex ey and cz corresponding to the displacement, and the indexing circuit 24 yields displacement direction signals sinE and cosy.The composite displacement signal C is applied to the adder 18 to obtain a difference Ac between it and a reference displacement signal e0 and, in the velocity calculation circuits 19 and 20, normal and tangential velocity signals VN and VT are obtained. In the distribution circuit 21, a command velocity signal is prepared on the basis of the displacement direction signals sinE and cosO, and the velocity control circuits 22 and 23 follows the command velocity signal given thereto to drive the motors 9 and ll, causing the tracer head 6 to trace the model surface. To the model configuration indexing circuit 25, which is supplied with the displacement signals ext sy and ez, is further applied detected position information from the position detectors mounted on the motors 9 and 11. On the basis of the mechanical position of the tracer head 6 obtained from the detected position information The mechanical position means the position of the center of the stylus 5 when its displacement is zero. and the displacement signals ex, sy and ez are indexed the configuration of the traced model surface. In this case, since the vector quantity from the mechanical position of the tracer head to the position of the center of the stylus 5 at that time can be obtained from the displacement signals ex, sy and cz, the indexing is performed by adding the vector quantity to the detected mechanical position through using an operating function or the like of a processor. Incidentally, sampling of the shape of the model 1 takes place at such intervals that the model configuration can be recognized within a limit of permissible errors.This can be carried out by sampling for each predetermined distance, or by inputting data at a point P2 where a maximum distance between a straight line joining a starting point P1 and the current position and the locus Q of the center of the stylus reaches a predetermined error quantity 8, then using the point P2 as the starting point and thereafter perfomring similar processing as shown in Fig. 2, for instance. Having indexed the shape of the model as described above, the model configuration indexing circuit 25 obtains from the indexed model configuration a path where the cutter 7 should move along a configuration whcih is identical with or similar to the indexed one, and creates command data.For example, in the case where the indexing of the shape of the model has been performed at points A to L on the model 1 of such a shape as shown in Fig. 3, command data for a path A B, B C, .....K L is created. And this command data is provided to the numerical controller B to perform ordinary linear interpolation, cutting the workpiece 2. That is to say, command pulses for the X axis and theZ axis are produced in the pulse distribution circuit 26 based on the command data, and the difference betwwen a commanded quantity Xp for the X axis and the detected position information from the position detector 14 is obtained by the adder 27 and then applied to the position control circuit 29.Furthermore, a commanded quantity Zp for the Z axis is applied to the adder 28 to obtain the difference between it and the detected position information from the position detector 16, and this difference is provided to the position control circuit 30. The position control circuit 29 and the velocity control circuit 31 and the position control circuit 30 and the velocity control circuit 32 constitute x axis and Z axis servo drive systems, respectively, by which the X axis andZ axis motors 10 and 12 are driven so that positional deviations may be reduced to zero, moving the cutter 7 along the path commanded by the command data. By the way, a buffer memory is provided in the model configuration indexing circuit 25 for temporally storing the model configuration or the command data detected by the tracer head which precedes the cutter. The extent to which the tracer head goes ahead of the cutter is determined in view of a time lag in the response of the servo system of the numerical controller B and the capacity of the abovesaid buffer memory. The minimization of the time difference between the tracer head and the cutter permits the reduction of the memory capacity, and hence is economical.Moreover, according to the method of the present invention, since the positional relationship between the tracer head and the cutter can be changed freely, the direction of tracing can be reversed by causing the tracer head to go ahead of the cutter in a direction reverse from that in the above, and this permits not only one way tracing, contour tracing and 3 dimensinal tracing but also both way tracing and partial tracing. As has been described in the foregoing, the present invention is provided with a tracer controller for tracing the model surface, a model configuration indexing circuit for indexing the model configuration during the tracing operation and creating command data on the path along which the cutter is to move and a numerical controller for executing the command data to control motors for numerical control so that the cutter moves along the indexed path, and cutting is performed in the same manner as in the case of ordinary numerical control. Accordingly, the cutter would not bite into or move away from a workpice and, consequently, the cutting accuracy would not be decreased. Furthermore, since the numerical information is obtained on line by the tracing operation, cutting can be effected with the same ease as in the case of using the conventional tracer control system.