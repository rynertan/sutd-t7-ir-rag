# METHOD AND APPARATUS FOR CONVERTING AN ANALOG SIGNAL TO A DIGITAL SIGNAL USING AN OVERSAMPLING TECHNIQUE

## Claims
Verfahren zum Umwandeln eines Analogsignals in ein Digitalsignal mittels einer Übertastungstechnik mit den folgenden Verfahrensschritten

## Description
This invention relates to an oversampled analog to digital A D converting method and apparatus capable of achieving precise coding. Oversampled coders sample an analog signal at a higher frequency than the Nyquist frequency, quantize the sampled signal, and perform the bandlimitation and reduction of the sampling frequency to produce a coded output. For details of the oversampled coder, reference is made to an article by Stuart K. Tewksbury et al., entitled Oversampled, Linear Predictive and Noise Shaping Coders of Order N 1 , published in the IEEE Transactions On Circuits And Systems, Vol. CAS 25, No. 7, July issue, 1978, pp. 436 447. Since the above mentioned oversampled coder may be composed of only digital circuits with exception of a low resolution digital to analog D A converter and an integrator, the coder is suitable for a large scale integration circuit LSI . With a view to minimizing the whole device as well as to lowering power consumption and the manufacturing cost of the device, it is necessary not only to simplify the analog structural elements used but also to reduce the number of operations per unit time in the digital structural elements used. For this purpose, it is desirable that simple operations are performed at a high sampling frequency, while complicated ones, at a low sampling frequency. It is, therefore, an object of the invention to provide a method and apparatus for A D conversion using an oversampling technique to achieve high precision linear coding. It is another object of the invention to provide a method and apparatus for A D conversion enabling a digital circuit operable at a high frequency to be simplified. It is still another object of the invention to provide a method and apparatus for A D conversion suitable for LSI s. According to one aspect of the invention, there is provided an oversampled A D converting method comprising the steps of oversampling an input analog signal at a first frequency higher than the Nyquist frequency to produce a sampled signal subtracting a local decoded signal from the sampled signal quantizing the subtracted signal into a quantized binary signal generating said local decoded signal by integrating the quantized binary signal converting the quantized binary signal having the first frequency into a frequency reduced signal having a second frequency the converting step including the steps of generating a plurality of coefficient groups each of which as a plurality of coefficients, processing the coefficients to produce a processed result for every coefficient, and accumulating the processed results to produce an accumulated result for every group and integrating the frequency reduced signal at the second frequency to produce a converted digital signal, characterised in that in the converting step, the processing step comprises performing an addition or a subtraction of each coefficient to or from an accumulated result in response to said quantised binary signal, and the accumulating step comprises delaying the accumulated result produced by the processing step and supplying said delayed result as an input to the processing step to which a coefficient is to be added to or subtracted from, and periodically switching the accumulated result to an output to provide the second frequency reduced signal. According to the invention, there is also provided an oversampled A D converter comprising means for sampling an input analog signal at a first frequency higher than the Nyquist frequency to produce a sampled signal a subtracter for subtracting a local decoded signal from the sampled signal a quantiser for quantising the output of the subtracter to produce a quantised binary signal means for integrating the quantised binary signal to generate the local decoded signal a converting means for converting the quantised binary signal having the first frequency into a frequency reduced signal having a second frequency the converting means comprising coefficient generating means for generating a plurality of coefficient groups each of which has a plurality of coefficients, processing means receiving the coefficients at respective first inputs and producing a processed result for every coefficient, and accumulating means producing an accumulated result for every group and an integrator for integrating the frequency reduced signal at the second frequency to produce a converted digital signal characterised in that in the said converting means the processing means comprises means responsive to said quantised binary signal to perform an addition or a subtraction of each coefficient to or from an accumulated result, and the accumulating means comprises the processing means, register means for delaying the output of the processing means, and means for selectively supplying the accumulated result either to a second input of the processing means or to an output supplying the second frequency reduced signal, comprised by the accumulated result, to the integrating means. The invention will be described more in detail with reference to the accompanying drawings Like reference numerals denote like structural elements. For easier understanding of the invention, a prior art oversampled A D converter referred to as an oversampled coder will be described with reference to Fig. 1 and Figs. 2A to 2F. Referring to those drawings, an input analog signal applied to an input terminal 1 is assumed to have a frequency band of about f The coded signal having the sampling frequency f A digital FIR filter 18 is used to eliminate the quantization noise around a frequency integral multiple of the frequency f A digital IIR filter 20 is a low pass filter with the frequency band about f In the oversampled coder of Fig. 1, the predictive integrator 16 and filter 18 perform a high speed operation. The integrator 16 which merely accumulates the output Δ of the quantizer 15, may consist of an up down counter or a reversible counter. On the other hand, the digital FIR filter 18 having a complicated circuit structure may be composed of an accumulator which repeatedly performs the addition M f The invention solves the above mentioned problems by supplying a binary signal to the digital FIR filter, thereby making the multiplication required in the digital FIR filter unnecessary. The principle of the invention will be described in detail. When W z represents the z transform of the output signal of the quantizer 15, W z is expressed as follows The numerator on the right side of the equation 1 indicates a polynomial in respect to z ¹ and a transfer function of an M tap digital FIR filter operable at the sampling frequency f Since the filter output is decimated by M, the output y n is calculated at intervals of M y 0 , y M , y 2M , ...., and y mM . Using mM M L, both y 0 and y mM are calculated by the same hardware. In other words, as understood from equation 2 , the number of input samples necessary to yield y 0 is M L, and they are x M L 1 , x M L 2 , ...., x 1 , and x 0 , respectively. Likewise, input samples necessary to yield y mM are x 1 , x 2 , ...., and x M L , the number of samples being M L. The two sample sequences are successive without overlapping. Accordingly, if there is provided a device for computing the equation 2 , then the computation of y 0 , y mM , y 2mM , .... is executed by repeating the operation defined by the equation 2 . Furthermore, it needs yielding serieses such as y M , y M mM , y M 2mM , ...., and y 2M , y 2M mM .... and thus it may be adequate that m devices in total are used and their outputs are summed up. As stated above, since x n is binary of Δ, under the assumption of Δ 1, the calculation according to equation 2 is achieved by a simple accumulation. Fig. 3 shows an embodiment of the invention in which reference numerals 1, 11, 12, 13, 14, 15, 16, 17, 20, 21, 131, 132, 161, and 162 designates components or elements corresponding to or having the same function as those designated by the same reference numerals in Fig. 1. In addition to these elements, the embodiment comprises a sampling frequencing converter 22 for converting the quantized binary signal having the sampling frequency f Referring to Fig. 4 showing the converter 22, the binary quantized signal from the quantizer 15 is supplied to delay circuits 221₁, 221₂, ...., and 221 Referring back to Fig. 3, the output of the converter 22 is applied to the digital integrator 23. The integrator 23 comprises an adder 231, a delay circuit 232 having delay of 1 f Assuming that α 1 2 Referring to Fig. 5 showing the digital FIR filter 18, the local decoded signal given from the integrator 16 is delayed by one sample in delay circuits 81₁, 81₂, ...., and 81 Referring to Fig. 6, the filter 20 performs the operation determined with the following system function where z Referring to Fig. 7 showing a detail structure of the converter 22, the converter 22 comprises a counter 221, read only memories ROM s 222₁, 222₂ and 222₃, addition subtraction units ASU s 223₁, 223₂ and 223₃, registers 225₁, 225₂ and 225₃ for delaying by one sampling time. The ROM 222₁ i 1, 2, 3 stores the filter coefficients of the M L taps. The ASU 223 Referring to Figs. 8A through 8L, the operation of the converter 22 shown in Fig. 7 will be described below. A clock pulse at f The output of the ROM 222 Referring to Fig. 9, a ROM 222₀ is addressed by the content Fig. 10 of a counter CT 221₀ which is obtained by frequency dividing the clock pulse having f The invention enables the reduction of a sampling frequency without needing complicated multiplication. Though the two step reduction of the sampling frequency has been described with reference to Fig. 3, alternatively is usable the method for directly reducing the sampling frequency from f The invention contributes to minimizing the total device and lowering power consumption and the manufacturing cost of an A D converter. The invention also provides the advantage that the integrator 16 Fig. 3 may be an analog integrator, with the consequent omission of the D A converter 17.