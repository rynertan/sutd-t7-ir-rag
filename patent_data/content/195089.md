# WELDING CONTROL SYSTEM IN AN AUTOMATIC WELDING MACHINE

## Claims
Schweißregelungssystem in einer selbsttätigen Schweißvorrichtung, die eine Steuereinrichtung zum Steuern des körperfernen Endes eines Schweißbrenners TC hat, um diesen längs einer Schweißlinie CT zu bewegen, während er eine Zickzackbewegung ausführt, wobei die Steuereinrichtung einen Speicher 32, 33 zum Speichern von Daten, die eine vorbestimmte Schweißlinie definieren, und von Zickzackbewegungs Befehlsdaten umfaßt, dadurch

## Description
The present invention relates to a welding control system in an automatic welding machine, and more particularly to a welding control system in an automatic welding machine, which can obtain a weaving pattern suitable for a workpiece to be welded. Arc welding machines operate by applying a voltage between a wire and a workpiece to be welded to produce an arc from the distal end of the wire, causing the wire and the workpiece to be melted at a low rate by the heat generated by the arc, and moving the distal end of the wire along a welding path while feeding out the wire continuously at a small rate, for thereby welding the workpiece. Fig. 6 of the accompanying drawings schematically shows such an arc welding machine. In Fig. 6, a wire WR is fed by rollers FR in small increments in the direction of the arrow, and passes through a guide member GB to project from the distal end of a torch TC. The rate of feed of the wire WR is limited such that the distal end of the wire will be spaced a prescribed distance from the surface of a workpiece WK to be welded. The positive potential of a high voltage which is generated by a welding power supply PS intermittently at a given period is applied to the wire WR through the guide member GB, whereas the negative potential is impressed on the workpiece WK. A gas is supplied from a gas supply not shown in the direction of the arrows through the torch TC and applied to the workpiece WK to prevent a welded area from being oxidized. When the gas is supplied from the gas supply and the high voltage is intermittently generated by the welding power supply PS while the wire is fed out in small increments, an arc is produced from the distal end of the wire, and the wire and the workpiece are melted such that the melted portion is integrally welded. Such a welding operation is performed by a robot. More specifically, the torch of the welding machine is gripped by the robot, and the torch distal end of the wire is moved by the robot along a welding path to weld the desired portion. In order to enable the robot to weld the workpiece, it is necessary to teach the robot the position to which the torch is to be moved and the speed at which the torch is to be moved. For welding the workpiece according to the taught positional data, it has become recent practice to provide a soft weaving ability achieved by composite motion produced by movements about 6 axes of the robot, i.e., a turn axis, an upper arm axis, a lower arm axis, and wrist axes. Examples of soft soft weaving while welding are provided by FR A 2317995 and EP A 0076498. Fig. 7 is a diagram showing, by way of example, a weaving pattern of soft weaving accomplished by a robot. For performing such weaving movement, a weaving command format in the program is indicated as With more demands for complex motions of robots, a welding robot may be required to effect such a weaving movement as to cause a welding material to be applied in a manner to be diplaced to one side with respect to the central welding line. Although there are various reasons for such a weaving movement, typical examples are that when different metals are to be welded, or due to the shape of an area to be welded, the welding material may be displaced to one side to weld the workpiece more firmly on such one side. However, the above weaving movement cannot heretofore be performed by welding robots. It is an object of the present invention to provide a welding control system in an automatic welding machine, which is capable of applying a welding material to an area to be welded according to the manner in which the area is to be welded. According to the present invention, there is provided a welding control system in an automatic welding machine having a control device for controlling the distal end of a torch to move along a welding line while weaving, the control device comprising a memory for storing data defining a predetermined welding line and weaving command data, characterised in that said control device is adapted to control said torch to move based on independent commands for amplitudes of weaving on the lefthand and righthand sides respectively of the predetermined welding line. Since the torch amplitudes are controlled on the basis of the independent commands on the lefthand and righthand sides of the welding line when the torch is to weave, a welding material can be applied in different ways according to the manner in which the desired portion of a workpiece is to be welded. Therefore, the workpiece can be welded quickly and accurately according to the manner in which the desired workpiece portion is to be welded. Fig. 1 is a diagram explanatory of a weaving pattern according to the present invention Figs. 2 and 3 are diagrams showing welded portions Fig. 4 is a block diagram schematically illustrating a welding robot Fig. 5 is a flowchart showing operation of the invention Fig. 6 is a schematic view of an automatic welding machine Fig. 7 is a diagram explanatory of a conventional weaving pattern Figs. 8 and 9 are diagrams showing portions welded by a conventional welding control system. An embodiment of the present invention will hereinafter be described in specific detail with reference to the drawings. Fig. 4 is a block diagram schematically showing a welding robot. Denoted at 1 is a welding machine and 2 a welding robot having a hand holding a torch TC of the welding machine for moving the torch TC on a workpiece WK according to taught data. Designated at 3 is a numerical control device for controlling the welding machine 1 and the welding robot 2. The numerical control device 3 has a central processing unit CPU 31 for controlling the overall numerical control device and effecting arithmetic operations, a read only memory ROM 32 storing a control program and the like, a random access memory RAM 33 for temporarily storing various data such as taught data for the welding robot, a control console 36 for entering various welding conditions and teaching the welding robot and welding operations, a display unit 34 for displaying the present position of the torch TC and a program list and data, and a digital analog converter 35 for converting digital commands from the CPU 31 to analog commands and applying the analog commands to the welding machine 1. Fig. 1 is a diagram showing, by way of example, a weaving pattern used in a welding control system according to the present invention, and Figs. 2 and 3 are diagrams of welded portions provided by the welding control system shown in Fig. 1. As is apparent from Fig. 1, the welding control system according to the present invention employs a weaving command format capable of independently designating amplitudes on a lefthand side aL and a righthand side aR of a welding line CT when weaving operation is to be carried out. To this end, the following weaving command format is used to independently designate the amplitudes on the lefthand side aL and the righthand side aR of the welding line CT G81 in the above weaving command format represents a weaving command for straight movement of the torch TC. 1 represents a number for designating the weaving pattern. As shown in Fig. 1, this weaving pattern causes the torch TC to move in a triangular pattern across the welding line CT. f indicates a weaving frequency of the torch TC and commands a weaving cycle number per second in the unit of 0.1 Hz. For example, if the cycle is to be effected 10 times per ten seconds, then f commands 10. aL indicates the amplitude value on the lefthand side, whereas aR the amplitude value on the righthand side. A welding operation effected by using the above weaving command format will be described with reference to the flowchart of Fig. 5. It is assumed that prior to effecting the welding operation, all neccessary data such as positional data for the welding line CT, a weaving command format for commanding weaving movement, and the like have already been learned by the welding robot, the torch TC has finished its initial motion, the torch TC is positioned at a point P in Fig. 1 on its movement, and the torch TC is to move from this position. In a step 1 , the torch TC starts to be moved from the point P to the left. This movement is linearly interpolated in a step 2 by using two data items, i.e., the frequency When this interpolation is completed in a step 3 , the torch TC starts to be moved to the right in a step 4 . This movement is linearly interpolated in a step 5 by using two data items, i.e., the frequency When this interpolation is completed in a step 6 , a cycle counter in the CPU 31 is incremented by 1 in a step 7 . The above cycle is repeated a preset number of times. When the cycle counter has reached a preset value in a step 8 , one weaving welding movement is finished. According to the commanded soft weaving, the weaving pattern is produced as shown in Fig. 1 in which the frequency remains the same and the amplitudes aL, aR on the lefthand and righthand sides are different from each other. Welding operation effected by such weaving movement causes a welding material M to be applied more on the righthand side of the welding line as shown in Figs. 2 and 3. Figs. 2 and 3 are diagrams explanatory of such welding operation. In Fig. 2, the welding material M is applied more on the righthand side of a V groove to be welded. In Fig. 3, the welding material M is applied more on the righthand side of an L shape to be welded. According to the present invention, as described above, the amplitudes of a torch are controlled in weaving based on independent commands on the lefthand and righthand sides of a welding line. Therefore, a welding material can be applied in different ways according to the manner in which a desired portion is to be welded. The workpiece can be welded quickly and accurately according to the manner in which the desired workpiece portion is to be welded. A welding control system according to the present invention can provide soft weaving patterns, and hence is suitable for use with a welding robot having a soft weaving ability.