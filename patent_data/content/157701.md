# PHASE SYNCHRONIZATION CIRCUIT

## Claims
Phasensynchronisierungsverfahren zum Erzeugen eines Ausgangssignals V SEL , welches mit einem Referenzsignal HSYNC synchronisiert wird, welches Verfahren den Schritt der Verzögerung eines Taktsignales umfaßt, unter Verwendung eines Verzögerungsschaltungsabschnitts 31 , der eine Vielzahl von Abgriffen K₁, K₂, K₃, ... K

## Description
The present invention relates to a phase synchronization circuit. The phase synchronization circuit according to the present invention may be used for a graphic display device in a teletext receiving system. In a graphic display system, in general, a clock pulse is produced phase synchronized with a synchronizing signal of a television receiver. This clock pulse is used for reading picture data from a picture memory and preparing dot signals for displaying characters, etc. for input into the television receiver. It is necessary that the phase synchronization circuit used for such a graphic display system is improved in reliability and reduced in cost through large scale integration. At the same time, it is necessary that no falling out of synchronization is liable to occur and, if synchronization is lost, the pulling in to synchronization is achieved in a short time. Of the prior art phase synchronization circuits, the phased locked loop PLL circuit is well known. A PLL circuit includes a voltage controlled oscillator and a comparator. In the circuit, the phase difference between the input signal and the output of the voltage controlled oscillator is compared by the comparator to generate a voltage proportional to the phase difference. The voltage is fed back to the voltage controlled oscillator for the phase synchronization. Accordingly, the PLL circuit is basically built on a feedback circuit. By enlarging the loop gain, it is possible to considerably reduce the phase difference between the input signal and the output signal. However, since such a PLL circuit requires use of an integrated circuit IC for the feedback circuit, pull in takes a longer time. Once synchronization has been lost for some reason, there is the disadvantage that it takes a long time, for example, several milliseconds, before the PLL circuit restores the synchronization state. Moreover, the PLL circuit requires external electronic components, for instance, capacitors, making complete circuit integration difficult, thus increasing the cost of the circuit and reducing reliability. Another approach to the general problem of generating a signal correctly synchronized with an external signal is disclosed in patent document FR A 2 313 827. In this prior art solution, the external signal is fed to the data input of each of a series of flip flops clocked with a different phase relation between them. The flip flop outputs are logically combined with the phase shifted clock signals to extract the required synchronization signal. It is an object of the present invention to provide an improved phase synchronization circuit which solves the problems of the prior art. It is another object of the present invention to provide an improved phase synchronization circuit with an extremely short pull in time and thus high speed phase synchronization. It is a further object of the present invention to provide an improved phase synchronization circuit amenable to circuit integration and thus able to be reduced in cost and improved in reliability. According to the present invention as defined in claim 1, there is provided a phase synchronization method for generating an output signal which is synchronized with a reference signal, said method comprising the step of delaying a clock signal using a delay circuit portion having a plurality of taps to produce in sequence from said plurality of taps, delayed clock signals having different phases, and selecting one of said delayed clock signals by means of a selection circuit portion including set reset circuits and gate circuits corresponding to predetermined taps of said delay circuit portion, each of said gate circuits receiving the output of one of said set reset circuits and one of said delayed clock signals, characterized in that said synchronization method is performed such that, when the potential of said reference signal is in one of the binary values, the set reset operation of said set reset circuits is carried out successively in accordance with the transmission of said clock signal through said delay circuit portion, resulting in a constant level being delivered as said output signal, while when the potential of said reference signal is changed to the other of the binary values, set reset circuits other than the set reset circuit which was set immediately before said change of potential are maintained in the reset state, so that the delayed clock signal of the corresponding tap of said delay circuit portion is delivered as said output signal through a gate circuit which receives the output of said set reset circuit which was set immediately before said change of potential. The present invention also relates to a synchronization circuit defined in claim 4 and sub claims 5 to 13 inclusive. In the drawings, Figure 1 illustrates a teletext receiving system as one example of a device utilizing a phase synchronization circuit 3 of one embodiment in accordance with the present invention. As shown in the figure, the system includes a television receiver 8 including a television tuner, a display unit using a cathode ray tube CRT , and the like, and a teletext adapter 1. The teletext adapter 1 is composed of a CRT controller 2, a picture memory 4 for storing a character code and so on, a central processor unit CPU 5, a processing memory 6 connected with the CPU 5, and a data slicer 7. In the system as shown in Fig. 1, the picture signal SIG VD which is output from the television tuner contained in the television receiver 8 is input into the data slicer 7 in the teletext adapter 1, extracting teletext data to input it into the CPU 5. On the other hand, the CRT controller 2 is provided with a phase synchronization circuit 3 according to the embodiment of the preset invention and produces a clock signal V SEL phase synchronized with a vertical synchronization signal V sync and a horizontal synchronization signal H sync, both input from the television receiver 8. Based upon the teletext data, picture data is produced for storage into the picture memory 4 through the CRT controller 2. The CRT controller 2 reads the picture data stored in the picture memory 4 in synchronization with the clock signal and produces a dot signal SIG DT for input to the television receiver 8. Due to this input, characters and graphic figures are displayed on the display unit of the television receiver 8 in response to the teletext data. Figure 2 shows waveforms at each portion of the phase synchronization circuit 3 in Fig. 1. The phase synchronization circuit 3 is fundamentally composed of a delay circuit 31 and a selection circuit 32. The delay circuit 31 produces a clock signal CLK, for instance, a dot clock signal having a frequency of 7.2 MHz, delayed in sequence to produce in sequence clock signals K₁ , K₂ , K₃ , ... , K In the phase synchronization circuit of Fig. 1, the selection circuit 32 is comprised of gate circuits and the like and employs no closed loop constitution as the conventional PLL circuit. It is therefore possible to considerably shorten the pull in time. As shown in Fig. 2, the selection circuit 32 selects, from among the delayed clock signals K₁ , K₂ , K₃ , ... , K If the phase of H sync shifts, however, then the clock is selected in response to it. The operation of the selection circuit 32 is explained by use of the waveform diagrams in Fig. 3A to Fig. 3C. For instance, if the H sync signal falls earlier than in the case of Fig. 2, that is to say, in the case of Fig. 3A, the signal K₁ falls immediately before the signal H sync falls, so K₁ is selected. If the phase of H sync is delayed from the case of Fig. 3A, that is to say, in Fig. 3B, the trailing edge of K₂ is nearer to the trailing edge of H sync than K₁, then, as the trailing edge of K₂ is located after that of H sync, K₁ is nevertheless also selected as in Fig. 3A. If the phase of H sync is further delayed, that is to say, in Fig. 3C, the trailing edge of K₂ is immediately before that of H sync, so K₂ is selected. Figure 4 shows the detailed circuitry of the phase synchronization circuit of Fig. 1. In the circuit of Fig. 4, cascade connected inverters I₁ , I₂ , I₃ , ... , I Next, the operation of the circuit in Fig. 4 will be explained referring to the waveforms in Fig. 5 to Fig. 7. Figure 5 illustrates the waveforms of each portion in case of a high level of the horizontal synchronizing signal H sync. As is shown at the V CLK through V I₄ in Fig. 5, the waveforms of the input clock signal CLK and the output of each inverter I₁ , I₂ , I₃ , I₄ are delayed by the time ΔT of one of the inverters, for instance, 10 nsec. In the circuit of the first unit, the output of the NAND gate A₁ is a low level only in the case of a high level of potential in both CLK and the output of I₃. The SR flip flop FF₁ composed of the NAND gates B₁ and C₁ is set at the declining time of the A₁ output signal, so the potential of the outputting point of the SR flip flop, i.e, that of the B₁ output, is raised in response to the last transition. As the potential of the output of the NAND gate D₁ in the output portion, i.e., that of the D₁ output, is a low level when both the potentials of the B₁ output and I₄ output are a high level, it becomes the low level when the potential of I₄ output changes from the low level to high level. In the same way, the D₂ output of the second stage of units falls when it is delayed by the equivalent of two gates from the D₁ output of the first stage of units, that is to say, by the equivalent of two inverters. Accordingly, the SR flip flop of the first stage of units is reset when the D₂ output of the second stage of units falls. At this time, the B₁ output changes to the low level and the D₁ output changes to the high level. That is to say, the signal of the D₁ output at the first stage of units becomes a pulse of negative polarity having a time duration equivalent to the delay time of two gates. In the same way, the D₂ output of the second stage of units also has a time duration equivalent to a delay time of two gates and becomes a pulse of negative polarity which falls after the D₁ output signal has been risen. Figure 6 shows the waveforms of each portion when the horizontal synchronizing signal H sync falls, for instance, at the neighboring point of time when the output of the inverter I₂ , i.e., the I₂ output signal, rises. In this case, the A₁ output signal, i.e., the output of the NAND gate A₁ goes high when the horizontal synchronizing signal H sync falls. The SR flip flop of the first stage of units is set when the A₁ output signal falls, so, at that time, the B₁ output signal changes from the low level to the high level. The potential of D₁ output as the output of the NAND gate D₁ in the output portion changes to the low level when the potential of I₄ output rises. In this case, the output of the NAND gate A₂ in the input portion of the second stage of units is always the high level and, as the output of the SR flip flop FF₂ composed of the NAND gates B₂ and C₂ remains at the low level, the potential of the D₂ output, i.e., the output of the second stage of units, is held at the high level. As the SR flip flop of the first stage of units is not reset when the potential of the D₂ output is a high level, the potential of the D₁ output, i.e., the output of the first stage of units, is kept at the low level. Figure 7 illustrates the waveforms of each portion in the vicinity of the horizontal synchronizing signal H sync. For the duration of the horizontal synchronizing signal, that is to say, the period when the horizontal synchronizing signal H sync is a high level, as is apparent from Fig. 5, the outputs of each unit, D₁ output, D₂ output, and so on have waveforms which change to a low level in sequence by a time equivalent to the delay time per two gates. Thus, the output V SEL of the NAND gate E is a high level over nearly the whole period. As shown in Fig. 6, after the fall of the horizontal synchronizing signal H sync from a high level to a low level, only one among the SR flip flops in each unit is in a set state, while the other SR flip flops are in a reset state. Accordingly, the potential of the output of the SR flip flop which has been in a set state, that is to say, that of the B₁ output, is a high level, while the output of all the other SR flip flops is a low level. Thus, only one NAND gate, for instance, the NAND gate D₁ , of the output portion in each unit outputs a clock pulse, while the output of all the other NAND gates is a high level. As a result, while the horizontal synchronizing signal H sync is a low level, the output V SEL of the NAND gate E is a signal which is the inverted signal of the clock pulse of D₁ output, that is, a signal of clock pulse of I₄ output. It is possible to obtain the clock pulse supplied to one input terminal of the NAND gate D₁ in the output portion from a tap of the delay circuit in accordance with a desired phase. In this way, during the period when the horizontal synchronizing signal H sync is a low level, after a definite phase of the clock pulse has been output from one unit, the clock pulse which has the nearest leading edge timing to the point of time of the trailing edge before the time when the following horizontal synchronizing signal H sync falls is selected and the signal V I₄ output is as K From the above described embodiment, the delay time of the delay circuit needs to be one period of time of the clock pulse. The number of gates in the plurality of inverters which constitute the delay circuit should be selected in consideration of the extent of operation and the allowance of phase error between the external signal and the output signal. According to the present invention, multi stage inverters are employed in the delay circuit. It is not always necessary that the number of stages of multi stage inverters be large, for instance, when applied to a CRT controller and the like. As long as the phase error creates no unnatural feature on the display screen, the number of stages of the multi stage inverters in the delay circuit can be kept to a moderate extent and comparatively simple circuitry is sufficient. As an example, a phase error of 20 ns or so is not a problem from the standpoint of vision. It is apparent that the phase synchronizing circuit in accordance with the present invention may be applicable to display of channel numbers in a television display controller TVDC to denote the channel number and the like on the screen of a picture tube.