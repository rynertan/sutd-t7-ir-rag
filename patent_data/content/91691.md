# RADIO PAGING RECEIVER OPERABLE ON A WORD SCROLLING BASIS

## Claims
Seitenwechselempfänger zum Empfangen eines Funkfrequenzseitenwechselsignals mit einer Präambel, einem Teilnehmeradressencode und einem Nachrichtencode, der mehrere Blöcke von Zeichen und Leerstellen darstellt, mit

## Description
The present invention relates to a paging system, and in particular to a receiver having a microprocessor based control unit which decodes a transmitted radio frequency paging signal for providing a display on a linear array of elements and scrolling the displayed characters through the array. In conventional radio frequency paging systems, individual portable receivers have a linear array of display elements on which the message is displayed upon detection of a match between a received address code and the subscriber s own code which is assigned to the receiver. The wordlength of the message is usually exceeds the capacity of the display elements due to the small space available. The current practice is to display a portion of the received message at a time and then scroll it on a per character basis from one end of the array toward the other. However, this type of scrolling demands rapid eye movements and renders the message less intelligiable since written information is usually perceived on a per word or word group basis. Such a paging receiver according to the preamble of claim 1 is known from GB A 2062320. It is therefore an object of the present invention to provide a radio paging receiver which is capable of scrolling a received message on a word or word group basis. This object is solved with a paging receiver according to claims 1 and 13. In a preferred embodiment of the invention, the data processing means is arranged to introduce a time interval between the times the first and second sequences are read into the display elements. This allows the user a sufficient time to perceive the displayed word or words which are automatically scrolled to the next word or words at the end of the time. In a further preferred embodiment, the data processing means is arranged to introduce a first, longer interval in response to the first sequence being read into the display elements and successively read a sequence of characters from a position displaced by one character position from the first sequence at a second, shorter interval until the blank is detected. In this mode of operation, each sequence of characters remains displayed for a long interval to allow the user a sufficient time for perception and then the message is scrolled on a per character basis at short intervals until the next sequence appears. The present invention will be described in further detail with reference to the accompanying drawings, in which Referring now to Fig. 1, there is shown a paging receiver embodying the present invention. The paging receiver comprises a tuner 2 having one or more radio frequency amplifier stages, a local oscillator and a mixer for receiving a radio frequency signal intercepted by an antenna 1 and converts the radio frequency to an intermediate frequency. The output of the tuner 2 is applied to a waveshaper 3 wherein the signal is shaped into a waveform having sharply defined edges and distinguishable voltage levels suitable for it to be processed in a microprocessor based decoder 4. The tuner 2 and waveshaper 3 receive power from a battery 11. Since the tuner and waveshaper are constructed of discrete components, these circuits account for a greater part of the total power consumption of the system. For power saving purposes an electronic switching circuit 10 is provided in a power line to these components to periodically cut it off during idle periods in response to a signal from the decoder 4. A DC DC converter 12 steps up the battery voltage to a level sufficient to operate the decoder 4. The microprocessor based decoder 4 is in receipt of clock pulses from a clock source 13 to perform decoding operations on the signal recevied from the waveshaper 3 in synchronized fashion with associated external circuits which include a drive circuit 6, an 8 digit liquid crystal display panel 5, and a programmable read only memory PROM 14. In the PROM 14 is stored a subscriber s own address codeword with which the received address codewords are each checked to detect a match therebetween. When this occurs, the decoder 4 activates an audio frequency oscillator 7 to apply a tone signal to a loudspeaker 8 to alert the user that he is being paged. A manual key 15 is provided to terminate the alarm sound. In one embodiment, the user is further urged to operate the key 15 each time a predetermined amount of characters is displayed on the panel 5. As illustrated in Fig. 2, the decoder 4 comprises an instruction decoder 20 which translates the instructions it receives from a program memory 21 when addressed by a program counter 22. A multi timer 23 which provides timing signals to various parts of the system. An arithmetic logic unit 25 executes arithmetic and logic operations in accordance with instructions issued from the decoder 20. The signal from the waveshaper 3 is applied to an input port 26. The code format of the paging system, shown in Fig. 3, starts with a preable P followed by a word synchronization codeword SC to attain word synchronization for a sequence of subscriber data including address codewords A and message codewords I. The end of the format is indicated by an end of transmission codeword E. During idle periods the power saving operation is effected to open the electronic switch 10 at intervals to to reduce the amount of power dissipated in the tuner and waveshaper. When the input signal is received from the waveshaper 3 through input port 26 and a preamble P is detected, the power saving operation is discontinued by the decoder. The microprocessor 20 proceeds to detect a word synchronization codeword SC to establish word synchronization and then to compare the succeeding address codeword A₁ against the address data stored in the PROM 14 by successively addressing it through an output port 27 and reading the addressed data through an input port 28. If the address codeword A₁ is matched with the user s own address codeword, the tone oscillator 7 is energized to generate a sound alarm. A succeeding message codeword I₁ is then loaded into a storage location d₁ of a data memory 30. Upon the operation of key 15, the message codeword I₁ is read out of the memory 30 in a manner as will be detailed hereinbelow and transmitted from an interface 24 on a line 24a to the driver 6 and thence to the display panel 5 with an associated synchronization code on a line 24b. In response to the receipt of an end of transmission codeword E, the microprocessor 20 places an enabling signal to the electronic switch 10 to reinitiate the power saving operation. Fig. 4 is a flowchart describing a display operation according to a first preferred embodiment of the present invention. In this embodiment, the display panel 5 comprises an eight segment liquid crystal display. Under certain circumstances where a lengthy word contains more than eight characters, only the eight most significant digit characters are displayed. However, the loss of one or two least significant digit codes does not materially affect on the intelligibility of the word. After detecting the address codeword A₁, the microprocessor starts executing the programmed instructions at Step 31 by loading the succeeding message codeword I₁, which typically comprises a sequence of 7 bit ASCII codes, for example PLEASE TELEPHONE TO YOUR OFFICE , into the location d₁ of memory 30 as illustrated in Fig. 5. The microprocessor 20 goes to a Step 32 to check if the manual key 15 has been operated, and if so, executes a Step 33 by reading eight 7 bit codes PLEASE T from the MSD to MSD 7 digit positions of memory location d₁ and executes a Step 34 by putting the data on display as shown in Fig. 6a. The Step 32 will be repeatedly executed until the key 15 is operated. At Step 35, the microprocessor checks if there is a blank in the MSD position of memory location d₁, and if not, executes a Step 36 to decrement a variable stored in an MSD position by one and returns through a Step 38 to the Step 35. The Steps 35, 36 and 38 are executed seven times until a blank is detected in the MSD 6 position. When this occurs, the microprocessor moves to a Step 37 to decrement the MSD variable by one so that the current status of the MSD variable is MSD 7, or the eighth MSD position where the character T is stored. The microprocessor now returns to the Step 32 to check if the key 15 is again operated, and if so, the Step 33 is executed to read the next eight 7 bit codes from the MSD 7 to MSD 14 positions using the current MSD variable, so that the codes TELEPHON are retrieved, and subsequently displayed in Step 34 see Fig. 6b . The above process is repeated to provide display as shown in Figs. 6c to 6e until an asterisk which is located at the end of the message is detected in Step 38. The Step 38 is followed by a Step 39 to detect if the key 15 is operated, and if so, the display panel 5 is cleared Fig. 6f in Step 40 to permit the microprocessor to return to the Step 32 to repeat the above process. If the switch 15 is not detected as being operated in Step 39, a delay time of 8 second is set in a memory in Step 41 and counted in Step 42. After the 8 second pause lapses, the program returns to Step 39, so that the status of the switch 15 is checked at 8 second intervals until it is operated. It is seen therefore that according to the first embodiment of the invention, the message is scrolled manually on a per word group basis. According to a second embodiment of the invention, the message is scrolled automatically on a per wordgroup basis. Fig. 7 is an illustration of a flowchart according to this embodiment. Similar to the Step 31 of Fig. 4, a message codeword is loaded into memory location d₁ in Step 41, and followed by a Step 42 to check if the key 15 is operated, and if so, Steps 43 and 44 are successively executed to display the first eight characters PLEASE T . At Step 45, a 1 second delay time flag is set up in a memory location d₂. Clock is counted in Step 46 to check if 1 second has lapsed. A Step 47 is executed to check if a blank is present in the MSD position of the memory location d₁. A Step 48 is then executed if no blank is detected in Step 47 to decrement the MSD variable by one. The microprocessor goes to a Step 50 to detect the asterisk and if not, returns to the Step 47 to successively decrement the MSD variable until the blank in the MSD 6 position is detected at Step 47. If a blank is detected in Step 47 the microprocessor exits to a Step 49 to further decrement the MSD variable by one so that the current status of the MSD variable is MSD 7. The microprocessor returns to the Step 43 to reset the display panel 5 and read out the next eight characters TELEPHON . When the asterisk is detected in Step 50, an 8 second delay is introduced by Steps 51 and 52 before the microprocessor clears the display panel 5 at Step 53. After execution of Step 53, the program returns to Step 42. Therefore, the message is scrolled automatically at 1 second intervals on a per wordgroup basis. The flowchart of Fig. 7 is modified as shown in Fig. 8 which differs from the Fig. 7 embodiment by the inclusion of a string of Steps 52 to 55 interposed between the Steps 48 and 50 of Fig. 7. After decrementing the MSD variable by one at Step 48 so that its current value is MSD 1, the eight characters of the MSD 1 to MSD 8 ELEPHONE are read out of memory location d₁ at Step 52 and displayed at Step 53. A 0.3 second delay time flag is set up in a memory location d₃ at Step 54 and this time interval is checked at Step 55. After the introduction of a 0.3 second interval, the microprocessor returns through Step 50 to the Step 47 to repeat the string of Steps 47, 48, 52 to 55, 50 and 47 again to scroll the message at 0.3 intervals on a per character basis until a blank is detected in Step 47. It is seen therefore that the first eight characters PLEASE T remain displayed for a 1 second period and are then scrolled at 0.3 intervals so that one character disappears from the display and another appears until the blank between E and T moves to the leftmost segment of the display panel and subsequently the next eight characters TELEPHON remains displayed for a 1 second period. In this embodiment, all the characters of a word having more than 8 characters are made to appear on the display panel during the 0.3 second interval scroll. Figs. 9a and 9b are a flowchart of a further preferred embodiment of the present invention. In the previous embodiments the last word of any sequence is partially displayed if this word spills over the end of the display panel. In the present embodiment, the previously used MSD variable is divided into a first variable WN which represents the number of characters counted before a blank is detected, a second variable DS which is updated with and accumulate the first variable, and a third variable or display pointer DP which is updated each time a sequence of characters is displayed to accumulate the second variable. These variables are stored in WN, DS and DP registers, respectively. The total count of the DP and DS registers are used to determine the characters to be displayed when the total count of the WN and DS registers exceeds the maximum number of display elements. For purposes of illustration a 16 element display panel is used and a sentence PLEASE GO TO 19TH HOLE AT 3 PM Referring to Figs. 9a and 9b, the program starts when the input data are stored in memory location d₅ and the key 15 operated. At Step 61 the display pointer register DP is set to 1 , at Step 62 the DS register is set to 0 , and at Step 63 the WN register and a flag are both set to 0 . At Step 64, the microprocessor checks if the digit position identified by the total count of the DP, DS and WN registers is a blank, and if not, goes to a Step 65 to check if that digit position is an asterisk, and if not, goes to a Step 66 to set up the flag and thence to a Step 67 to increment the WN register by one and returns to the Step 64. The microprocessor passes through Steps 64, 65, 66 and 67 back to Step 64 repeatedly to scan the characters PLEASE to detect a blank that follows when DP 1, DS 0, WN 6, and passes through a Step 68 to a Step 69. The total of DS and WN registers, which indicates the number of digit positions scanned up to this moment, is checked if it is still smaller than the maximum number of the available display segments to allow the microprocessor to increment the DS register by an amount equal to the first variable WN in Step 70 and return to Step 63 to reset the WN register and flag to 0 . With the blank at the 7th digit position being detected and the flag being reset to zero, the microprocessor now passes through Steps 64 and 68 and increments the WN register by one at Step 67 to shift the scanning point to the 8th digit position to detect the character G . Thus, Steps 64, 65, 66, 67 and back to 64 are repeatedly looped to scan the next word GO . Step 68 is then executed when the scanning point reaches the tenth digit position where a second blank is stored to permit the microprocessor to check if the number of scanned characters is still smaller than 16. Therefore, the first variable WN is reset each time a blank is detected, while the second variable DS is incremented by an amount equal to the first variable before the first variable is reset to zero. The above process is repeated until the scanning point reaches the 17th digit position. The total count of DS and WN registers is now 17 and the microprocessor exits from Step 69 to a Step 71 to put an arrow head on a separate display element 100 located above the 16 th digit position of the display panel 5 see Fig. 10b . This arrow head indicates that there is still at least one word to follow. At this moment, the total count of the DP and DS registers equals 13 1 12 . The microprocessor advances to a Step 72 to address the characters as a function of variables from DP 1 to DP 1 12 to display the characters PLEASE GO TO Fig. 10b in a first display cycle. These characters remain on display for a period of 1 second by setting 1 second pause data into a memory location d₅ in Step 73 and checking the elapse of this period in Step 74. The Steps 73 and 74 may be replaced with a step which detects the operating condition of the manual key 15 so that the display cycle continues as long as the user desires. At the end of a display cycle, the display pointer DP is incremented by an amount equal to the second variable DS in Step 75. At Step 76, a digit position addressible by the updated display pointer DP is checked if it is filled with an asterisk, and if not, Steps 77 and 78 are repeatedly executed to increment the variable DP by one until the first character of the next word 19TH is detected in Step 77. The microprocessor now returns to the Step 62 to reinitiate the second display cycle by repeating the above process to display 19TH HOLE AT 3 . During the second display cycle the display pointer DP remains set to 14. The first, WN variable is incremented to 4 by the characters 19TH , reset to zero, and then incremented to 5 by the characters HOLE plus a blank that follows, then reset to zero and incremented to 3 by the characters AT pluse a following blank, reset to zero by that blank and incremented to 2 by the character 3 plus a following blank, reset again by the last mentioned blank and incremented to 3 by the characters PM During the third display cycle, the DP variable is incremented to 29 by execution of Steps 64, 68 and 67 and the DS variable is incremented to 2 by the time the characters PM are scanned. The asterisk is again detected in Step 65 to follow the Steps 79 and 80. Since the total of DS and WN variables is smaller than 16 this time, the arrow head display step 71 is bypassed to allow only the last word PM to be displayed in Step 72. After a 1 second interval, the DP variable is set to 31 29 2 corresponding to the digit position of the asterik which is detected in Step 76 to terminate the program.