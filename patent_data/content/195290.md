# Bus control architecture for microprocessors

## Claims
Einchip Mikroprozessor, bestehend aus einer Mikroverarbeitungseinheit, externen Signalstiften, mit denen Geräte außerhalb des Chips verbindbar sind, und eine Schnittstellen Steuereinheit, die mit der Mikroverarbeitungseinheit verbunden ist und mit den externen Signalstiften, um es der Mikroverarbeitungseinheit und irgendwelchen Geräten außerhalb des Chips, die mit den Stiften verbunden sind, zu ermöglichen, miteinander in Verbindung zu treten als Antwort auf Befehle der Mikroverarbeitungseinheit und auf Steuersignale der Geräte außerhalb des Chips,

## Description
The present invention relates to microprocessor bus controllers and, particularly, to a logically distinct interface control unit ICU which resides on the same very large scale integrated VLSI circuit chip as the microprocessing unit MPU . The ICU of the invention, in effect, surrounds the MPU and is the means by which the MPU communicates with the outside world. In the past, in the design of a microprocessor circuit chip, the bus controller has been integrated into and functions as part of the microprocessor architecture. This was certainly the expedient design for the early, relatively simple microprocessors for which also a large repertoire of peripheral devices was not yet in existence. But, because the bus controller was integrated into the architecture of the microprocessor, it was impossible to separate and use the bus controller with other MPU architectures. And, consequently the peripheral devices of one microprocessor could not, in general, be used directly with bus of another microprocessor. Mini Micro Conference Record, Paper 8 1, published May 1984, pages 1 to 7 describe a single chip microprocessor comprising a microprocessing unit and external signal pins to which off chip devices can be connected. The microprocessor further comprises an interface control unit connected to the microprocessing unit and to the external signal pins to permit the microprocessing unit and any off chip devices connected to the pins to communicate with one another in response to commands from the microprocessing unit and control signals from off chip devices. With the proliferation and increased sophistication of the many commercially available microprocessors, it can be desirable to separate the architecture of a microprocessor into two logically distinct entities, a bus controller and an MPU. The purpose of such separation is to facilitate 1 the design process and 2 the transferability of peripheral devices among different microprocessors. With the many 8 and 16 bit microprocessors currently in use, there are a large number of 8 and 16 bit support devices which have been developed for these microprocessors. Such support devices include, for example, memory management units, CRT controllers, floppy disk controllers, arithmetic co processors and the like. It would be a desirable feature of a newly designed microprocessor, and in particular a microprocessor of the new generation of 32 bit microprocessor, to be able to use many of these already existing devices without the immediate need for special design of new support devices. It is therefore an object of the present invention to define a bus controller that is logically independent of MPU architecture, thereby permitting the bus controller to be used with variety of MPUs. A further object of the invention is to define a bus controller that extends the functional capability of the external interface of the compatible microprocessor by means which are completely transparent to devices designed for direct attachment to the compatible microprocessor. Such transparent extensions to the functional capability of the external interface of the compatible microprocessor may include Still another object of the invention is to define a bus controller whose control logic is broken down into various distinct, clearly identifiable control sequences which comprise its operation. Associated with this object is a means for integrating any form of bus arbitration architecture with the essentially autonomous bus cycle control logic to effect an orderly, prioritized, dynamic means for sharing the external bus of the bus controller. In summary, the overall object of the present invention, therefore, is to define a bus controller characterised by 1 logical distinction from the MPU, 2 total responsibility for communicating with external devices on behalf of the MPU, 3 compatibility with the support devices of the compatible microprocessor, 4 transparent extended capability, and 5 definitive functional specification. These elements and their relationship to one another are illustrated in figure 1. In accordance with the present invention, there is now provided a single chip microprocessor comprising a microprocessing unit external signal pins to which off chip devices are connectable and an interface control unit connected to the microprocessing unit and to the external signal pins to permit the microprocessing unit and any off chip devices connected to the pins to communicate with one another in response to commands from the microprocessing unit and control signals from off chip devices characterised in that the interface control unit comprises execution logic connected to the microprocessing unit and the external signal pins and control logic connected to the execution logic and responsive to both commands from the microprocessing unit and control signals from off chip devices for configuring the execution logic to perform a particular data transfer between the microprocessing unit and off chip devices that are designed for use with other and different microprocessing units in response to a command from the microprocessing unit requesting said data transfer, and for sending a status output to the microprocessing unit, the status output describing the outcome of the command. The interface control unit ICU according to the invention is characterised by a unique logical and functional capability which, in the disclosed preferred embodiment, presents an external appearance that is fully compatible with the support devices of an industry standard microprocessor, the Motorola MC68000 is, therefore, the compatible microprocessor of the preferred embodiment. The reader is referred to the MC68000 literature available from Motorola, Inc., of Austin, Texas, for a description of pin assignments and signals associated with each of the pins. The MC68000 microprocessor is actually part of a family of microcprocessors which include, in addition to the MC68000, the MC68008 and at least three other microprocessors with various differences in bus architecture. The following table briefly summarises the data bus and address bus sizes of the two named members of this family of microprocessors In addition to the foregoing, there is a MC68 microprocessor having an 8 bit data bus and a 16 bit address bus. These microprocessors are supported by a wide variety of peripheral devices. By making the ICU fully compatible with the support devices of the MC68 and the MC68 , and therefore closely compatible with the support devices of the other members of the MC68 family of Motorola microprocessors, a very large number of support devices are immediately available for use with the associated MPU to build a complete system. According to a preferred embodiment of the invention, the ICU bus has 32 bits of address and up to 32 bits of data. Address and data are separate, not multiplexed. Sixty signal pins of a VLSI chip which incorporates the ICU correspond precisely to those of the MC68 microprocessor, which itself comes in a 64 pin package, four pins of which provide power and ground. Thus, the ICU has the property of exactly emulating the MC68 bus but with an MPU that may be of totally different design. While the invention is disclosed with respect to a preferred embodiment which emulates the MC68 bus, it should be understood by those skilled in the art that the principles of the invention can be applied to other families of microprocessors and their support devices. For example, with modification to allow for the different bus architecture, the invention could be practiced to support the Intel family of storage and peripheral devices associated with the 16 bit 8 86 8 88 microprocessors and the newer iAPX 186 and iAPX 286 microprocessors. The 32 bit address bus is a uni directional, three state bus which carries the address for each bus cycle. For memory accesses, bits A31 A 1 identify aligned half words in memory space Bytes within each halfword are separately identified by data strobes. A32 is not used for addressing but is used to distinguish real from virtual addresses. These facilities provide the MPU with means for addressing up to 2³¹ about 2 billion halfword locations 4 gigabytes in memory space. The 32 bit data bus is a bi directional three state bus which is used to transfer data to and from external devices. The data may be transferred in widths of a byte 8 bits , halfword 16 bits , or a word 32 bits . For a byte output, the byte is duplicated on all quadrants of the bus. For a halfword output, the halfword is duplicated on the high order and low order halves of the bus. For input cycles, the ICU reads Bytes and halfwords from the high order pins of the data bus i.e., Bytes from D31 D24 or D23 D16 and halfwords from D31 D16. The ICU is designed to operate normally with any mix of concurrently attached 8 , 16 , and 32 bit peripheral devices. Operation is governed dynamically by each device with its width identifying response to the bus cycle. If a device cannot fulfill the MPU s access request in a single bus cycle, the ICU will itself initiate additional bus cycles to fulfill that request. This process is transparent to the MPU. Each 8 bit and 16 bit device may occupy any range of halfword address space. Similarly, word devices may occupy any range of aligned word address space. The ICU is designed, moreover, to initiate an access request from the MPU at any byte location. The request may be for a byte, halfword or word operand. If the operand is not aligned with its integral boundary, the ICU will access the operand piecewise using separate bus cycles directed at each aligned halfword field of memory within which any portion of the operand is contained or directed. This capability of the ICU frees the MPU from this responsibility of relating its logical address space to the physical constraints of the storage device s . The ICU bus cycles are of two distinct types, distinguished by the bus cycle function code. Bus cycles having any one of the seven function codes 11 are memory access cycles for which bits A31 A 1 of the address bus identify the addressed halfword location in memory space . Bus cycles having a function code of 111 are of the second type and are called service cycles. These special bus cycles perform the MC68 interrupt acknowledge function and other sense and control functions for the MPU. Based on additional control information available at the pins of the ICU, service cycles are further identified as one of three types as follows The service cycle repertoire thus comprises eight control cycles, eight sense cycles, and seven MC68 interrupt acknowledge cycles. The special features of these cycles are summarized as follows The ICU architecture also sets forth the concept of a macrocycle . As used herein, a macrocycle is defined as a logically unbroken sequence of bus cycles identified by the macrocycle in progress A macrocycle is initiated and normally terminated in response to start and stop command signals from the MPU. The purpose of a macrocycle is to provide a means for serializing access to shared memory. Macrocycles are used by the MPU in the execution of test and set and compare and swap instructions which are extended forms of MC68 capability. With MC68 microprocessors, a bus cycle can be synchronized externally with the common clock through use of the address strobe. This signal begins to appear just after the start of the second clock period of the bus cycle and is guaranteed to be valid before the start of the next third clock period. The ICU according to the present invention Provides means to establish this synchronization a full clock period earlier than the MC68 . This is accomplished with the bus cycle in progress The minimum duration of an ICU bus cycle is three clock periods for input and four clock periods for output. This is the latent capability of the ICU. The actual duration of a bus cycle, however, depends upon the responsiveness of the peripheral device. Devices which utilize a strapped acknowledge signal, or which otherwise activate their acknowledge signal within one and a half clock periods of the start of a bus input cycle, can achieve the three clock period performance. In order to make the ICU compatible with already existing external device logic which utilizes strapped acknowledge but which cannot accomodate the three clock period read cycle, the ICU features a pin selectable minimum duration of the bus input cycle. Through the use of the 3T In the implementation of the preferred embodiment, a 16 bit data path is used to move data in and out of the MPU. This means that the ICU must perform two internal MPU ICU cycles in order to transfer a full word 32 bits over the external bus in a single bus cycle. As a result, the minimum effective cycle time for storing an aligned word is seven clock periods, comprising three clock periods for buffering the first halfword and four clock periods for the bus cycle itself. This is a saving of one clock period over the two back to back cycles which would otherwise be required, but this saving is not without a price. Since an MPU may not check far operand alignment, the ICU must check all incipient word output for alignment during the three clock period buffering time. Inasmuch as alignment checking is completed in the first two clock periods, a bus cycle can be started with only a two clock period delay if the operand is found to be non aligned. This bus cycle will transfer the first halfword or byte of the word, and one, two, or three more cycles will ensue to complete the transfer, depending upon the target address. Thus, if the word is aligned, the procedure saves one clock period on the other hand, if the word is not aligned, two clock periods are lost. Application studies show that aligned words occur far more frequently in typical instruction mixes than do non aligned words, indicating that the procedure will, in practice, yield better performance than if the buffering checking period and single 32 bit output cycle were completely eliminated. This is particularly true in the presence of high bus contention for which the bufffering checking will often be overlapped with off line use of the bus. Applications for which there are no 32 bit peripheral devices cannot benefit from this capability. The ICU architecture therefore provides a Suppress 32 bit Output pin by which the user can force the ICU to store full words a byte and or a halfword at a time without the buffering checking delays. The ICU provides means for external devices to respond to a bus cycle in any one of fifteen distinct ways, plus several variations thereto. This feature of the ICU, associated with ten pins of its external interface, enables off chip logic to terminate a bus cycle with a signal that concurrently describes the outcome of that cycle. This feature is a basis for improving performance and for reducing the amount of response logic at external devices, and it also contributes to the programmability of the ICU. The fifteen responses may be classified into four distinct response classes as shown in Figure 6. The four normal responses are the basis for the mixed width device handling and device acknowledge ACK reporting features of the ICU, briefly described above. Specifically, the normal responses are the dynamic means for identifying a device bit width during memory access cycles and b one of four normal outcomes of a service cycle. For service cycles, the ICU always reports the particular normal response to the MPU. The MPU, in turn, can use that information itself for non program initiated service cycles or it can set a condition code for program initiated service cycles. In the latter instance, the program may branch at once on the particular outcome, thereby eliminating the need for additional instructions and bus cycles to sense the same information. Any of the eight device exceptions listed in Figure 6 is always reported to the MPU. This applies to all bus cycles, whether memory access or service. The action of the MPU in response to a device exception is arbitrary. For purposes of illustration, the action of a particular MPU in response to a device exception could comprise one of the following three conditional actions Thus, as a consequence of the immediate reporting of the particular exception to the MPU, the MPU may begin its specific response to that exception at once without any further bus cycles to identify the exception. This contributes to performance, and moreover, in all instances, the device response is effectively buffered, either in a general purpose register Case A or in main storage Cases B and C . This eliminates the need to retain at the device the outcome status of the bus cycle, thereby providing a means for simplifying external device logic. In addition, Case A contributes to the programmability of the ICU by providing the program with the precise details of the exceptional response to SENSE or CONTROL cycles. The single interface check see Figure 6 is handled by the ICU exactly as it handles a device exception i.e., it is individually reported to the MPU. The MPU action, in turn, can be the same as for device exception Cases A and B. Thus, the consequences would also be the same, providing a basis for better performance, simplified device design, and enhanced programmability. It should be noted that the classification distinction between interface check responses and exception responses is essentially arbitrary. A device could, for example, intentionally signal a particular exception using multiple ACK signals, or a device could assign a particular meaning to the The ICU will re run any bus cycle in response to an appropriate, external device initiated re run request sequence. Every re run request sequence comprises three basic phases, as follows The ICU rerun architecture thus provides compatible means for the associated MPU to operate with MC68 type devices without, however, exposing its macrocycles to invisible penetration during the rerun process. This follows from the fact that the MC68 devices, which cannot recognize ICU macrocycles, also cannot perform the unconditional rerun request sequence. The only proceed alternatives available to MC68 type devices, therefore, are rerun and cancel. An unqualified rerun request, in the presence of a macrocycle, will always be rejected by the ICU, thereby protecting the macrocycle from possible penetration. In this case, recovery must be achieved by indirect, software supported means. It should be noted, however, that use of the unconditional rerun request c2 by external devices designed specifically for use with the ICU tacitly implies that these devices will also be designed to make appropriate use of the The ICU will halt any bus cycle in response to an appropriate request from the peripheral device. The term halt refers to completion of the current bus cycle and enablement of bus arbitration, followed by a wait state during which the ICU is effectively idle, except for its bus arbitration and interrupt detection functions. The duration of the wait state is arbitrary and ends whenever the peripheral device releases the halt signal. The ICU thus halts a bus cycle during every rerun request sequence. Two distinct types of halt are defined normal and pseudo. A normal halt is always transparent to the MPU, and the associated bus cycle is always completed normally. A normal halt, moreover, always occurs in response to signals which include the A pseudo halt occurs whenever the device response falls into one of the following three classes, under the conditions noted a device exception, always b re run, if the bus cycle is not rerun and c interface check, if The basis for the ICU halt architecture is the same as for its rerun architecture. The ICU is designed to be compatible with standard MC68 type peripherals without exposing its macrocycles to invisible penetration during the halt process, for which bus arbitration is enabled. Normal halt requests from MC68 type devices are simply ignored during a macrocycle. Bus cycles of a macrocycle can be halted normally, however, by special procedures i.e., unconditional rerun which are intended for use only when the integrity of shared resources can be guaranteed. The ICU provides means for a peripheral device to, in effect, hedge its synchronous response to a bus cycle and thereby achieve a full clock period reduction in bus cycle duration over what would otherwise be required. This feature of the ICU may be explained as follows with reference to the timing diagram of the 4T bus cycle shown in Figure 7. The duration of this bus cycle is always 4 N T, where T is the clock period and N 1 T is the duration of the detection sequence phase of the bus cycle. For normal terminations, N , and for exceptional terminations, N 1. The value of N is determined entirely by the peripheral device specifically, by how quickly it can respond to the output controls of the bus cycle. The ICU samples the device response signals at the S4 The ICU implements three distinct interrupt request groups providing a total capability for detecting up to seven, concurrent interrupt requests. These groups are set forth in the table of Figure 9. Each interrupt request cannot be guaranteed if that request is removed prematurely. Requests may be presented at any time. Synchronization and deskewing are performed by the ICU. The ICU samples the ten interrupt request pins at every negative transition of the input clock. If any request of or within a group is identical with that detected one clock period earlier, that request or its removal is latched in the ICU s interrupt request register IRR where it can be sampled by the MPU. Propagation time through the ICU, from first detection to latching in its IRR, is 2.5T, where T is the input clock period. This detection scheme is designed to shield the MPU ICU VLSI chip from any spurious activity on the interrupt request lines. Interrupt processing is handled entirely by the MPU. Each interrupt request will, in due course, elicit a response from the MPU and, in order to transmit that response to the requestor, the MPU must again draw upon the facilities of the ICU. The facilities used for this purpose by a specific MPU associated with the preferred embodiment of the ICU are summarized in the table shown in Figure 1 . For any of the five system interruption requests, the MPU response in a SENSE 4 and or SENSE 5 service cycle called, respectively, Sense System Interruption Code Low High. These service cycles can be microcode or program initiated i.e., they are among the shared service cycles of the system. The IBM System 37 interruption class one of five is itself identical in the ACD field of the address bus as indicated in the table of Figure 4. The requestor should remove the corresponding interrupt request in response to either of these service cycles. The response to interrupt requests of the priority request group appears solely on the System 37 CPU State Indicator pins and, in the case of the E unit Dump, in the action itself. The dump request should be removed before completion of the dump, or the dump will be repeated. For the vectored interrupts of the MC68 group, the MPU response is an interrupt acknowledge cycle which corresponds in all respects to that of the MC68 . The requestor may, however, place the 8 bit interrupt vector number in any of the three previously described positions on the data bus and define that location with the appropriate acknowledgement. Auto vectoring is indicated exactly as with the MC68 , with a The bus arbitration architecture of the ICU is similar to that of the MC68 . It utilizes the same three signals, Bus Request For the ICU, a bus grant response to bus request is a necessary condition for the assertion by a requesting master of The underlying reason for the tight control of bus arbitration relates to the ICU s capacity for performing sequences of related bus cycles for which, unlike the MC68 , the target address may change from cycle to cycle. Specifically, bus availability to others is affected by macrocycles, unaligned operands, and word transfers that require more than one bus cycle. For the ICU, the BG signal is definitive and must be obeyed. This is quite different from its role in the MC68 . For that microprocessor, the BG signal is essentially only a convenience providing 1 early notification of incipient bus release, if activated during a bus cycle, and 2 means for implementing external, serial priority allocation logic. With the MC68 , a requestor can, for example, infer bus release merely by presenting With the exception of only two cases, the ICU, like the MC68 , will never take more than two back to back bus cycles without enabling bus arbitration. The two exceptions are 1 when running macrocycles, and 2 then storing a full word that straddles a non word aligned physical boundary of a halfword memory followed by a byte memory. Finally, it is helpful here to note the specific circumstances under which the ICU will tri state its controls or maintain them in that high impedance state. These circumstances are the concurrence of the following three conditions The foregoing and other objects, aspects and advantages of the invention will be better understood from the following detailed description of the preferred embodiment. This description references the accompanying drawings, in which The following description is divided into several parts by topic in order to facilitate an understanding of the invention. The first main topic is the external architecture of the ICU. This architecture includes both the pin out specification and the MPU ICU interface. The MPU ICU interface is properly considered a part of the external architecture because, although the MPU and ICU physically share the same VLSI chip, they are logically independent. This is an important and novel departure from the prior art wherein the distinction is not made The second main topic is the actual implementation of this architecture in the form of the preferred embodiment. This implementation is described in two subtopics dealing separately with execution logic and control logic. Like an MPU, the ICU may be characterized as comprising an execution unit and a control unit. The execution unit is controlled by the control unit and comprises various registers, latches, multiplexers, logic, and data and address buses which provide the physical interface between the MPU and off chip devices. The brain of the ICU is the control unit. In the discussion of the execution logic, no attempt is made to describe in detail the control signals generated by the control logic. These signals are, instead, discussed in the latter subtopic. The execution logic forms the mechanism by which the various functions of the ICU are performed. The control logic determines when those functions are performed. Referring now to Figure 11, the ICU 1 is shown as being connected by an address bus 1 1 and a four byte wide data bus 1 2a, 1 2b, 1 2c and 1 2d to a plurality of external devices having different address and data widths. For example, a typical 16 bit MC68 device 1 3 is shown connected to 23 lines of the address bus 1 1 and to the high order two bytes of the data bus 1 2c and 1 2d. Similarly, a typical 8 bit MC68 8 device 1 4 is shown connected to 19 lines of the address bus 1 1 and to the high order byte of the data bus 1 2d. Both of these devices, despite differences in data widths, belong to the same family of devices. There is also shown a typical MC68 device 1 5 connected to 15 lines of the address bus 1 1 and to the high order byte of the data bus 1 2d. This is another 8 bit device, but it belongs to a different family of devices. All of these devices are also connected to the various control signal pins of the ICU by which these devices and the ICU communicate. In the case of the MC68 8 and MC68 devices 1 4 and 135, additional small scale integration SSI logic 1 6 is required to generate some of the required control signals. In addition to the MC68 family of devices which arc already commercially available, the ICU according to the invention also contemplates the design and attachment of its own 32 bit devices. A generic device of this type is illustrated at 1 7. The combination of devices shown in Figure 11 is merely illustrative, and in a given system there may be a different combination of these types of devices. The pin designations and functions of the ICU are summarized in the table shown in Figure 12. From this table, it will be understood that the SSI logic 1 6 in Figure 11 combines the upper data strobe The word strobe For read write cycles, the address bus 1 1 has exactly the same significance as the address bus of the MC68 microprocessor except that the MPU can address up to 2³¹ halfword 16 bit locations using address bits A31 A 1. A32 of the bus is not used for addressing and is, instead, the real address tag. When this tag is active high , the associated address on bus lines A31 A 1 is a real address. When A32 is inactive, the associated address is interpreted as a virtual address. The level of A32 is determined solely by the MPU. The word transfer acknowledge All input service cycles are terminated normally in response to any one of the three data transfer acknowledge signals, A Each of thirteen bus cycle response signals feeds the D input of its own dedicated, negative edge triggered D type flip flop. The outputs of these synchronizing flip flops, in turn, drive the ICU detection logic which produces a single status response to the MPU. Detection of any one of the four acknowledge signals The byte transfer acknowledge The valid memory address The complete signal repertoire of the ICU is defined in the table shown in Figure 12. Not all of the signals defined in Figure 12 are represented in Figure 11, this latter figure having been simplified to provide a clear overview of the attachment capability and basic communication between the ICU 1 and externally connected devices. As shown in Figure 13, the ICU 1 provides communication between external devices and the on chip MPU. Commands to the ICU originate at the processor command register PCR 1 8 located in the MPU. The content of this register is detailed in Figure 14. Status responses to commands originate in the detection logic 1 9 within the ICU 1 and are transmitted to the MPU via eighteen status response signal lines SR SR17 as described in more detail hereinafter. As indicated in the timing diagrams of Figures 15 and 16, commands are taken by the ICU only on falling edges of the input block. If service to a prior command is not in progress, or if service to the MPU is not temporarily inhibited because of a halt condition, the ICU will strobe and buffer the content of PCR 1 8 on every falling edge until a non zero command is detected. The PCR hierarchy comprises three levels, denoted PCR, PCR , and PCR . PCR 1 8 is the highest level and represents the full command at the MPU. It will be understood by those skilled in the art that PCR 1 8 need not be a physical register in the MPU. PCR 1 8 is the replica of the full PCR 1 8 as buffered in the ICU during the command sequence. Since the command sequence may be overlapped with states 6 and 7 of the bus cycle, the content of the PCR 1 8 may change during the bus cycle. The PCR 1 8 cannot, therefore, be used to control address selection or to establish the function code, for these signals must be maintained for the entire bus cycle. Thus, a third level of buffering is required. This is provided by PCR 1 8 which receives selected bits of PCR 1 8 that must be fixed for the entire bus cycle , namely PCR1 S , PCR2 P , and PCR3 B₃ . Also, PCR4 B₄ , PCR1 W₁₀ , PCR11 W₁₁ , and PCR12 A are buffered in PCR 1 8 . PCR 1 8 is implemented as indicated in Figure 13 and is loaded from PCR 1 8 at the start of each bus cycle and buffer enabled by the command sequence. Execution of the command, e.g., a bus cycle, begins as early as one half clock period after PCR 1 8 is loaded. Upon completion of service to the current command, and in the absence of a bus exception, the ICU 1 will begin seeking the next command immediately after the rising edge at which it presents proceed status for the current command. As shown in Figure 16 for the case of exceptional status e.g.., bus error , the ICU will not begin seeking the next command until 2T after the rising edge at which it presents the exceptional status signal. Loading of PCR 1 8 nevertheless occurs only on negative transitions of the clock. In other words, command sensing is delayed by 2T beyond the normal case. This allows the MPU time to replace or cancel the current content of the PCR. The MPU should, therefore, be designed to post commands to the ICU on rising edges of the input clock so that they will be stable for loading into the PCR at negative transitions of the clock. The PCR 1 8 and the 31 bit address out shown coming from address out register AOR 11 together provide all the information needed by the ICU 1 to conduct its operations. The processor inter face also contains two, 32 bit data paths, D1 shown directed to an MPU data in register DIR 111 and DO data out 112, as shown in Figure 13. The high order byte of each path always corresponds to the lower storage address associated with any set of bytes contained thereon. The most significant bit is the high order bit of the high order byte. Each 16 bit half of either data path DO of DI to be used may be specified by the MPU with a 1 bit alignment code. All halfword transfers take place through either of these high order or low order halves of DO or DI. All byte transfers take place through the low order byte position of the designated halfword data path. For a specific MPU used with the preferred embodiment of the ICU according to the invention, all word transfers are accomplished a halfword at a time by two microinstructions. Each of these two microinstructions references a halfword. The first of these microinstructions, moreover, may reference a halfword at any byte address A in storage. This microinstruction is identified in the PCR 1 8 by the MPU as a fetch or store halfword high HWH and implies that a second halfword operation will follow. This second microinstruction will always reference the halfword at a byte address A 2 in storage. The referenced halfword operands may use either the high or low order half of either DI 111 or DO 112, as specified by the alignment code for each register. Each of these two commands to the ICU 1 elicits its own status response, as is the case for all commands. The specific MPU used with the preferred embodiment of the invention never checks alignment. The ICU 1 must, therefore, check the low order address bits before it can perform output cycles on words herein denoting four contiguous bytes . Moreover, in the case of instruction fetches, if A 1 the ICU will not execute the command and will, instead, generate odd instruction address exceptional status in response to the MPU command. In addition to the MPU ICU interface facilities already mentioned, an interrupt request register IRR 113 and an external reset register XRR 114 are provided in the ICU 1 as indicated in Figure 13. The IRR 113 buffers the interrupt control signals derived from the ten interrupt pins of the ICU. Note that the state indicators are represented by direct connections between the MPU and external pins of the ICU. These, as well as the other pins represented at the bottom of Figure 13, are defined in the table of Figure 12. These state indicators are not germane to the ICU 1 as disclosed herein but are instead a feature of the specific MPU used with the preferred embodiment of the invention. More specifically, the MPU conforms to IBM System 37 processor architecture. Thus, the preferred embodiment of the invention provides an interface between an IBM System 37 processor and Motorola MC68 compatible devices. But it must be emphasized once again that this is but one example, and other combinations can be envisioned based on the teachings of the invention. In view of the foregoing and in the interest of simplicity, the specific MPU used with the preferred embodiment of the ICU according to the invention will be referred to simply as the System 37 MPU. Figure 21 shows in detail the addressing facilities of the ICU 1 . This includes asynchronous address selection logic 115 which receives address bits A 1 and AO from the address output AO 11 of the MPU. The address selection logic 115 also receives signals Z , Y and WIP from the control logic described hereinafter and generates the output gating signals AG1 and AG2 in accordance with the following truth table, where the X denotes a don t care condition The AG1 output of logic 115 is used to select either AO1 or The data flow logic is shown in Figure 23 and comprises an input multiplexer IMUX 121, an output multiplexer OMUX 122, aid an input output register IOR 123, interconnected as shown. The OMUX 122 is also used during the first bus cycle of double cycle inputs to steer the high order byte from the data bus to IOR where the byte is buffered for use in the final cycle of the double cycle. The use of a pre established common buffer IOR in this way simplifies the process of assembling the halfword during the second cycle. Note, however, that the device response for the second cycle need not be the same as that for the first cycle i.e., the halfword may span two, physically distinct and different storages. As implemented in the preferred embodiment of the invention, the OMUX 122 connects D , D1, or D3 to IRO for all input cycles. Actual loading of the IOR 123, however, is determined by the detection sequence. Certain fetch cycles, for example, will end up with the low order byte of a word in both IOR3 and IRO . The same situation will occur during input service cycles. IOR is not used in either of these latter two circumstances. The OMUX 122 asynchronous control logic is defined by the table shown in Figure 24. For the case of buffer outbound halfword high action Q in the table shown in Figure 24 , the only significant control is the alignment code A . Loading of the PCR 1 8 Figure 13 is enabled by the command sequence at D23 during execution of STORE HWH and at H26 during the first macrocycle of an output service cycle, described in more detail hereinafter. This means that the PCR 1 8 is loaded at the end of the first and second executions of the command sequence i.e., corresponding to the end of the wind up and start up phases, respectively, of the MPU ICU cycle see Figure 15 . The IOR 123, on the other hand, is not loaded until the second negative edge of the command and seek phase of the MPU ICU bus cycle indicated in Figure 53 i.e., 3 1 2 T after the start of the command sequence. The OMUX 122 must, therefore, settle within a period of 1 1 2 T after the second loading of PCR 1 8 in order to satisfy the timing requirements for this case. For all output bus cycles, the OMUX 122 setting depends, as shown in Figure 24, upon the output values of WIP , Y , Z , and A , as well as on PCR 1 8 content. The values of WIP , Y , Z , and A begin to appear during S1 of the bus cycle and must be stable by the beginning of S3 in order to satisfy the address bus specification. The OMUX 122, in turn, must stabilize by the end of S4 in order to satisfy the output data specifications i.e., about one clock T after the input controls WIP , Y , Z , and A settle. In the case of input cycles, the setting of OMUX depends upon the decoded device response WTACK , etc. , which is not available until into S5 of the detection sequence. The OMUX 122 must then settle in time for the data to be strobed at the end of S6 of the termination sequence. Settling time for the OMUX 122 is therefore T 2, the most stringent of all cases. An IMUX control logic table, similar to the OMUX control logic table of Figure 24 is shown in Figure 25. The IMUX 121, along with the OMUX 122, must set up during the detection and termination sequences and satisfy set up time at the negative edge between S6 and S7. Four of the byte inputs to IMUX 121 are directly connected to the 32 bit bidirectional data bus. The other four byte inputs to the IMUX are taken from the IOR 123, as shown in Figure 23. The function control logic is shown in Figure 19 which produces signals FC , FC1 and FC2 which are valid only during a bus cycle. The inputs are from PCR 1 8 . This logic consists of two input OR gates 13 , 131 and 132. PCR 3 B ₃ , the service cycle indicator bit, is supplied to one input of each of these OR gates. PCR 1 S is supplied to the other input of OR gate 13 , and PCR 2 P is supplied to the other input of OR gate 131. PCR 2 P is also supplied to the second input of OR gate 132, but this input is an inverting input. The outputs of the OR gates 13 , 131 and 132 are connected to output pins of the ICU via tri state drivers 133, 134 and 135. The bus cycle controls see Figures 12 and 13 include various output strobes. The address strobe flip flop 137 is shown in Figure 26. The output of the address strobe flip flop 137 is connected to an output pin of the ICU via an inverting tri state driver 138. The data strobe logic is shown in Figure 26. The data selection logic 14 is defined by the truth table shown in Figure 27. The selection logic 14 receives as inputs the WIP , Y and Z signals and A . Selection logic 14 also receives outputs B ₃ and W W ₉ W ₁₀ W ₁₁ from PCR 1 8 . The outputs generated by the selection logic 14 are LDS , UDS and WS which are supplied to respective AND gates 141, 142 and 143. These two input AND gates are enabled by a data strobe activation flip flop 144 via OR gate 145. The AND gates 141, 142 and 143 are also enabled by the output of AND gate 146 via OR gate 145. The inputs to AND gate 146 are B ₃ and B ₄ from the PCR 1 8 , and this AND gate is enabled by the output of the address strobe flip flop 137. The outputs of the AND gates 141, 142 and 143 are connected to output pins of the ICU via respective inverting tri state drivers 147, 148 and 149. Also shown in Figure 26 is the valid memory address VMA logic 151 which generates the With the logic of Figure 26, level zero service cycles SENSE CONTROL are completely defined 1 by the content of the address bus and 2 the encoded state of the signals appearing on the three data strobe service address pins 147, 148 and 149. The service address identifies the particular SENSE CONTROL cycle. Service address timing is similar to that of the address strobe The last of the five bus cycle control out signals is the read write R The bus cycle in progress BCIP signal is one of the timing signals listed in the table shown in Figure 12. The bus cycle in progress flip flop 154 is shown in Figure 17. The output of the flip flop 154 is connected to an output pin of the ICU via an inverting tri state driver 156. Figure 18 is a timing diagram showing the operation of flip flop 154. External devices respond to the control out signals of a bus cycle with one or more asynchronous control in signals. There are nine control in signals Each control in signal feeds the D input of a respective negative edge triggered D type flip flop 161 to 169, as shown at the bottom of Figure 58. In this way, these signals are sampled on every negative edge of the clock. The outputs of the synchronizing flip flops, in turn, feed the detection logic 17 . This asynchronous control logic is discussed under the heading of ICU control, which follows. A comprehensive overview of the control logic of the ICU is provided by the block diagram of Figure 28. This diagram resolves the complex control function of the ICU into four, distinct, concurrently operating sequences , as follows The bus arbitration, interrupt, and external reset sequences are completely independent of one another and of the MPU service sequences. Each of these three independent sequences are enabled at all times and operate continuously to detect and respond to their particular input signals. The MPU service sequences, on the other hand, comprise an endless chain of sequences, each enabling at least one other sequence of the set before ending its own operation. No more than two of the MPU service sequences are ever in operation concurrently, i.e., overlapped, and in most instances the sequences are performed one at a time. Some of the MPU service sequences, however, are mutually exclusive, namely the command sequence and each of the post termination sequences as indicated in Figure 28 by the available switch positions. The specific concatenation of enablement disablement of each of these sequences will be made clear in what follows. The MPU service sequences, moreover, are interlocked in three places command sequence, PTS4 and PTS6 with three signals BGE, BR and BGACK from the bus arbitration logic. This interlock, indicated in Figure 28, acts to prevent the associated sequence from initiating a bus cycle while the bus is temporarily unavailable because of bus arbitration. Because of the overall complexity of the ICU control function, the resolution of function as depicted in Figure 28 is essential to its understanding and to its successful implementation. This resolution of function is believed to be unique and is, therefore, one of the elements of this invention. The implementation of the preferred embodiment is based directly on Figure 28, i.e., each sequence is implemented separately. In practice, such an implementation scheme need not be followed. The MPU service sequences, for example, can be implemented by the logic of a single state machine . But the description of Figure 28 nevertheless remains as the underlying basis, or specification, of what the state machine, or any other form of implementation, must do. In what follows, the implementation of each of the control sequences according to the invention is described in detail. In general, the description will comprise three elements 1 a timing diagram, specifying what the sequence is to do 2 a logic diagram and or truth table s describing a logical implementation of that sequence and 3 a flow chart, describing the operation of that implementation. Item 3 will be seen to satisfy the requirements set forth by item 1 . Before proceeding, however, it is helpful to describe first some of the implementation elements used for inter and intra sequence communication. This logic comprises control flip flops that are set reset by a sequence, or by more than one sequence, and whose states are interrogated later, either by the setting resetting sequence or by another sequence. Among these flip flops are the WIP, Y and Z flip flops and their buffers, the WIP , Y and Z flip flops. These flip flops are described in the present topic and are illustrated in Figure 41. Another such flip flop is the Bus Grant Enable BGE flip flop. The description of this strategic flip flop, whose function is more specialized, is deferred to the topic of bus arbitration. The word in progress WIP flip flop 2 4 see Figure 29 is used in conjunction with store or fetch halfword commands to indicate that a full word 32 bits is to be transferred. For input, the WIP flip flop 2 4 is set by the bus cycle detection sequence whenever the ICU is executing a fetch halfword high HWH command, the address is word aligned, and the device has responded with The Y flip flop 2 6 see Figure 3 is used by the bus cycle controls to identify 1 the second bus cycle Y 1 of a double cycle and 2 the bus cycles of the word write operation. The Y flip flop 2 6 is always valid for these purposes at the first negative edge of the initiation sequence of each bus cycle, at which time it is buffered by the bus cycle detection sequence 1 upon recognizing the need for a double cycle, or 2 in response to The Z flip flop 2 8 see Figure 31 is used by the bus cycle controls in conjunction with the Y flip flop 2 6 to identify the cycles of a word write operation. The Z flip flop 2 8 is always valid for this purpose at the first negative edge of the initiation sequence of every bus cycle, at which time it is buffered in the Z flip flop 2 9. The output of the Z flip flop 2 9 is of significance only when the WIP flip flop 2 4 is in the set state. The Z flip flop 2 8 is set only by the bus cycle detection sequence during a word write operation in response to The WIP flip flop 2 5 Figure 29 and Y flip flop 2 7 Figure 3 capture the states of the WIP flip flop 2 4 and the Y flip flop 2 6, respectively, at the first negative edge of the bus cycle and retain these states for the entire duration of the bus cycle, independent of possible changes in the WIP and Y flip flops 2 4 and 2 6 that may occur during the bus cycle. Inasmuch as the address bus 1 1 is also enabled at the first negative edge of the bus cycle, propogation time for the WIP and Y flip flops 2 5 and 2 7 must be sufficiently short to allow the address to become valid within the corresponding time specified for the MC68 . The bus arbitration architecture of the ICU is essentially identical with that of the MC68 , but includes specific variations that will affect compatibility with some master type devices designed for MC68 , namely those which do not conform to the variations contained herein. The essential elements of the bus arbitration architecture are set forth in what follows. Bus arbitration is available at the completion of every bus cycle, excluding only the following bus cycles Bus master devices control two, asynchronous signals BR and BGACK, where the notation BR, BGACK, etc. here denote logic levels, for simplicity. The ICU drives AS and BG. The basic rules governing these signals are embodied in the timing diagram of Figure 32 and comprise the following If the bus arbitration logic of a MC68 device is not consistent with the above, it cannot be used with this implementation of the ICU. In particular, devices which use HALT In alone to capture the bus are excluded from use, as this would violate condition 3 above. The logical implementation of this bus arbitration architecture is described completely in Figure 33 and the truth table shown in Figure 34. The related timing diagrams are shown in Figures 35 and 36. The logic of Figure 33 comprises five basic components The BR logic comprises the negative edge triggered BR flip flop 227 and the positive edge triggered BR flip flop 226. The BR flip flop is, in effect a conditional slave to the BR flip flop 227. The BR flip flop 226 will copy the state of the BR flip flop 227 whenever that state is valid, as defined by the SVD signal VR, which gates the clock to the BR flip flop 226. If the state of the BR flip flop is invalid because of untimely transition of The BGACK A logic is free running logic that is essentially identical with the BR logic with the sole difference that a third flip flop A 23 is slaved to the A flip flop 229 with a phase relationship of one full clock period T . A thus represents the prior state of A and may be used along with A to identify transitions in the The Unauthorized Acknowledge UA flip flop 231 is set and reset solely by the G logic 221 and flags activation of the A flip flop 229 in the absence of a G signal. This is the unauthorized acknowledge condition. The UA flip flop 231 is reset whenever the condition is removed UA 1, A . This logic reflects the requirement that The G logic 221 is driven by five flip flops, as shown in Figure 33, and determines the states of the UA and G flip flops 231 and 225, respectively. These two flip flops and the G logic 221 thus comprise a state machine whose current state is determined by the indicated external events, its own prior state through feedback of the UA and G signals , and the history of the A flip flop 229 provided by A flip flop 23 . State changes occur only at positive transitions of the clock, and the G logic must, therefore, have a propagation time of T in order to satisfy set up time for the next positive transition. The BGE flip flop 222 is set and reset as indicated in the table of Figure 37. Unconditional reset occurs at the start of every bus cycle, i.e., at the positive transition of the clock which begins S of the bus cycle. The conditions for starting a bus cycle are assessed by the command sequence or a post termination sequence during the clock period just preceding the tentative start of the bus cycle. If BGE is active and the output of the BR flip flop 226 is also found to be active, meaning that G and The BGE flip flop 222 is set at the positive edge of the clock that ends the detection sequence of every bus cycle, excluding the following specific cycles The BGE signal thus synchronizes the enablement of The bus grant logic comprises only AND gate 223. Whenever BGE is active, The TSE signal enables all tri state controls of the bus. This explicitly excludes the bi directional data bus and the address bus which are tri stated by other controls. The TSE signal is generated as shown in Figure 33, using OR gate 232 and AND gate 233. The ICU controls are removed from the bus TSE inactive whenever the following conditions are met Thus, during the last bus cycle on behalf of the MPU, TSE begins to fall during state 7 of the bus cycle. The device can, in principle, begin its cycle immediately if it activates Finally, with regard to the implementation of the bus arbitration architecture of the ICU, and by way of summary, it is important to note that the logic embraced by the BGE flip flop 222 and the AND gate 223, the BR flip flop 226, and the A flip flop 229, is the means by which the bus cycle control logic and the bus arbitration G logic, each with different responsibilities, dynamically share the singe, external bus of the ICU. The bus cycle control logic expresses its needs for the bus by resetting and setting the BGE flip flop at times consistent with the states of the BR and A flip flops. Similarly, the G logic 221 expresses its needs for the bus through the G flip flop 225. These two, independent and mutually exclusive actions are then combined by the AND gate 223 to produce the BG signal. The important point is that as a result of the logical structure depicted in Figure 33, the designer of the bus cycle control logic need not know the specific action of the G logic 221 in order to carry out that design. And, the converse is true any set of arbitration rules can be implemented by the G logic 221 in complete harmony with any form of bus cycle protocol. For the preferred embodiment herein, the G logic defined by the table of Figure 38 conforms closely, but not exactly, to the bus arbitration protocol of the MC68 . That behavior did not, however, impact the specification and implementation of the bus cycle control architecture. Thus, the logical structure depicted in Figure 34 provides the designer of a microprocessor with the important benefit of even further separation of function. This, in turn, leads to flexibility in the choice of architectural elements and to simplicity of implementation. The purpose of the command sequence CDS 2 see Figure 28 is to detect, buffer, and initiate execution of commands form the MPU. These functions are unique to this control sequence. The command sequence 2 also performs the normal halt release function. A logic diagram of the command sequence 2 and its inbound and outbound control signals is shown in Figure 41. The actual control logic is not detailed here and is described separately in what follows. The command sequence 2 1 is specified as comprising two states, C and C1, and a single phase α corresponding to the output of the command sequence enable flip flop. C corresponds to clock high, and C1 to clock low. See Figure 38. Once enabled, the sequence runs continuously until a detected command can be executed. A busy bus, for example, can delay command execution. the timing is critical a STOP command becomes valid after a negative clock edge, and the outcome must be resolved by the logic in less than one half clock period T 2 in order to satisfy set up time for the next positive clock edge. Apart from START STOP commands, commands otherwise become valid after positive edges of the clock. The command sequence may itself generate a status response. This occurs only in the case of command reject or during execution of the buffer write sequence. In either case, status is valid only across the single positive clock edge at which it is intended to appear, i.e., the status signal satisfies both set up and hold time for that one edge. If the command sequence ends with the presentation of exceptional status, as is the case with command reject, the deactivation of status occurs as a result of disablement of the command sequence. For this case, the command sequence is then resumed after a 2T delay. If, however, the command sequence is repeated while PROCEED status is active, the command sequence logic, operating on the new command will generate a new status response in time for the next positive edge. This new status response will be zero in the case of a NOOP or when no status is forthcoming from the command sequence itself. The command sequence is enabled or enablable by the following sequences The macrocycle controls 21 identify the start of a mcarocycle, its continuous presence independent of the activation deactivation of the address strobe , and its termination. These controls are shown in more detail in Figure 42 and include the following basic elements the HOLD flip flop 211, the macrocycle in progress MIP flip flop 212, the START flip flop 213, and the STOP flip flop 214. Specification timing diagrams for Command Stop and for clearing the HOLD flip flop are shown in Figures 39 and 4 , respectively. The HOLD flip flop 211 denotes bit 6 of the PCR buffer, i.e., PCR 6. This bit is the high order bit of the Operation field of the PCR it expresses the MPU s desire to start or maintain a macrocycle. The HOLD flip flop 211 is therefore set or reset each time PCR 1 8 is loaded, i.e., at negative transitions of the clock during the command sequence. A start macrocycle request from the MPU is detected when this bit toggles from to 1. This may occur just as a bus cycle is completing or while the bus is idle relative to the processor. Similarly, a stop macrocycle request from the MPU is detected when this bit toggles the other way, i.e., from 1 to . This will generally occur during S7 of the last bus cycle of a macrocycle, but it can also occur later, while the bus is idle. The MIP flip flop 212 identifies an ongoing macrocycle. It also drives the The transition time of the MIP flip flop 212 must be less than one clock period to assure that The START flip flop 213 requests that a macrocycle begin with the next bus cycle. As a consequence, the MIP flip flop 212 is set at the S1 The STOP flip flop 214 is set whenever the PCR 1 8 is loaded and PCR 6 toggles to . This denotes a Command Stop and causes the following to occur The required action of the command sequence control logic is specified in detail in the flowcharts of Figures 43 to 51. The form of implementation is arbitrary, but whatever the form PLA, combinational logic, etc. , it must produce the action specified by these flowcharts. In the paragarphs which follow, these flowcharts will be read in some detail to explain the control logic action and, at the same time, how to read the flowcharts of this document. With this introduction to the flowchart form of describing a complex sequence, all other flowcharts herein will be treated in context as essentially stand alone, self explanatory description. With reference first to Figure 43, a command sequence begins at a positive edge of the clock. The CMUX select flip flop 2 3 is checked to determine if it is at 1 or , the former selecting PCR 1 8 and the latter selecting the PCR 1 8. If the CMUX select flip flop 2 3 is set at 1, this means that a command has already been buffered but could not yet be executed. The command sequence is therefore repeating. If, on the other hand, the CMUX select flip flop 2 3 is set at , the contents of PCR 1 8 are read into PCR 1 8 on the negative transition between clock periods and 1 and, at the same time, the START and STOP flip flops 213 and 214, respectively, are conditionally set or reset. After the CMUX select action, the next step in the logic is to check the HALT FLAG. Note here that the command sequence steps A8 and A1 are mutually exclusive because 1 the HALT FLAG cannot be set by the detection sequence DTS during a macrocycle and 2 the HALT FLAG is set as the STOP flip flop 214 is being reset during a normal STOP with HALT. Assuming first that the HALT FLAG is , the STOP flip flop 214 is checked to determine its state. If the STOP flip flop 214 is zero, the operation code C₇C₈ is checked. If the code is representing a NOOP, the logic returns to the beginning and the command sequence is repeated upon the start of the next positive clock. If the code is 1, the HALT out sequence is enabled and the BG flip flop is enabled. Here, enabled means that the J input of the corresponding flip flop is activated. From here, the logic goes to the flow diagram shown in Figure 48 for ending the command sequence. If the code is 1 , the RESET Out sequence is enabled and the process also goes to the flow diagram shown in Figure 48. Turning briefly to Figure 48, the end of command sequence involves the activation of the K input of the CMUX select flip flop 2 3 to select the PCR 1 8, the activation of the K input of the command sequence enable flip flop 2 2, and the activation of the reset input to the delay ring 21 . When the K input of the CMUX select flip flop 2 3 is activated, preparation is made to seek the next command from the MPU when the command sequence is next enabled. Activation of the K input of the command sequence enable flip flop 2 2 prepares for disabling the sequence at the next positive transition of the clock, and activation of the reset input to the delay ring prepares the delay ring 21 logic for synchronous reset see Figure 41 . Returning to Figure 43, what has been described so far are the initial steps and the final steps Figure 48 performed by the command sequence logic 2 1. Assume now that when the HALT FLAG is checked at step 8 it is found to be a 1. In this case, the logic goes to Figure 44 which shows the normal HALT release function. Note that the BGE flip flop 222 is always active during execution of this logic. First, the HALT₂ flip flop is checked and, if set to , the K input to the HALT FLAG flip flop is activated. The logic then returns to Figure 43 to continue with the command sequence at the command decode step 12 . On the other hand, if the HALT₂ flip flop is set to 1, then a decision is made as to whether this is a NOOP, i.e., is C₇C₈ If so, the logic simply returns to Figure 43 where the command sequence is repeated at the next positive transition of the clock. If not, the J input to the CMUX select flip flop 2 3 is activated in preparation to select PCR 1 8 before returning to Figure 43. Again with reference to Figure 43, assume now that the HALT FLAG is and the STOP flip flop 214 is a 1. In this case, the logic next goes to Figure 45 which describes the Command Stop logic. First, preparation is made to reset the STOP flip flop by activating the J input to the XS flip flop 215. In addition, the K input to the MIP flip flop 212 is activated. These steps are performed directly by the output of the STOP flip flop 214 see Figure 42 . The HALT₂ flip flop is checked and, if set to 1, the J inputs to the BGE flip flop 222 and the HALT FLAG flip flop are both activated, the latter in preparation to perform a normal HALT release function. In this case, If the command decode operation of Figure 43 produces a code of 11, a bus cycle is specified. The logic then proceeds to Figure 46 where 1 the K inputs of the Y and Z flip flops 2 6 and 2 8, respectively, are activated in preparation to reset both of these flip flops, and 2 the bus cycle ID field BBB is decoded. If the BBB field is X or X11, the command reject logic is initiated since these codes are undefined. If the bus cycle code is 1, this denotes a read cycle, and the first determination that must be made is the access width, whether a byte, halfword or the first halfword of a word. In either case, the WIP flip flop 2 4 is checked to determine if the previous bus cycle had extracted an aligned word from memory and, if not, the logic goes to Figure 47 where the set up of the bus cycle is concluded. Similar logic exists for a decoded write bus cycle. Here again the access width is determined and for byte or halfword high word output, the WIP flip flop 2 4 is checked for consistency with the access width. For halfword high word output, the Supress pin is checked to determine if full word output is to be to be suppressed and, if so, a bus cycle is initiated see Figure 47 to store the high order halfword. If not, the delay ring 21 is tested, and after two passes through the command sequence, a determination is made as to whether A1 A . This is indicated in the drawing figure by the NOR operator Turning now to Figure 47, the set up for the bus cycle continues by checking the BGE flip flop 222. This step prevents lock up as well as provides express service. If the output of the BGE flip flop is 1, the BR flip flop 226 is checked, and if , it is as if the BGE flip flop bad been set to . In both cases, the BGACK flip flop is checked to determine its level. Each of these flip flops is set and reset on the positive edges of the clock. Propagation time is assumed to be adequate to provide hold time for the logic fed by the command sequence. If the BGACK flip flop is , this indicates finally that the bus is available. The next thing that is done in to activate the K input of the BGE flip flop 222 in preparation for disabling bus grant Returning now to Figure 46, assume that a read cycle has been detected, the access width has been decoded for a halfword, and the WIP flip flop 2 4 is 1, indicating that the MPU is attempting to fetch the low order halfword or a full word. In this case, the K input of the WIP flip flop 2 4 is activated in preparation to reset that flip flop if it has done its job , and then the buffer read sequence is enabled and the load input to the PCR is activated. At this point, the logic again goes to Figure 48 to end the command sequence as previously described. On the other hand, assume either that the bus width was detected to be a byte or a halfword high HWH and the WIP flip flop 2 4 is 1, indicating that the MPU has issued an inconsistent command. In this case, the logic proceeds to Figure 49 for the command reject sequence. A similar result is obtained for a write cycle if the WIP flip flop 2 4 is 1. As shown in Figure 49, the first step in the command reject process is to test the delay ring. If it is , indicating that an illegal command has just been detected, the J input to the BGE flip flop 222 is activated and preparations are made to increment the delay ring. Also, the J input of the CMUX select flip flop 2 3 is activated to select PCR 1 8 . At this point the logic returns to Figure 43 to repeat the command sequence. The purpose of this procedure is to achieve a one clock period delay. This delay has been achieved when the delay ring is found to be at 1. Preparation is then made to reset the WIP flip flop 2 4, and the adjuct delay sequence is enabled. Also, the command reject status signal to the MPU is activated, the J input to the XH flip flop 215 is activated in preparation to clear PCR 6, and the START and STOP flip flops 213 and 214, respectively, are reset. And, finally, preparation is made to reset the MIP flip flop 212. This done, the logic proceeds to Figure 48 to end the command sequence, as previously described. Returning again to Figure 46, assume that a write cycle has been detected to store the high order half of a word, the WIP flip flop 2 4 is , and word output is not suppressed. Again, the delay ring 21 is tested, and if or 1, the load input to PCR 1 8 is activated, the increment output is activated to prepare for incrementing the delay ring 21 , and the J input of the CMUX select flip flop 2 3 is activated to select PCR 1 8 . At this point, the logic returns to Figure 43 to repeat the command sequence. If, when the delay ring is tested and found to be at 2, the two low order address bits are both zero, then preparation is made for a buffer write sequence and to seek the next command. The logic then returns to Figure 43 to repeat the command sequence. Preparation for the buffer write sequence involves activating the J input to the WIP flip flop 2 4 and enabling the buffer write sequence. Preparation for the next command involves activating proceed status to the MPU, the K input of the CMUX select flip flop 2 3 to select PCR 1 8, and the reset input to the delay ring 21 . The description thus far has been for the set up for a bus or buffer cycle involving ordinary read or write operations. If, in Figure 46, service cycle codes of 1 1 or 11 are detected, the logic proceeds to Figure 5 . The code 1 1 is the input service cycle, and the code 11 is the output service cycle. When either are detected, the first thing that is done is to check the WIP flip flop 2 4. It should never be 1. If it is, then the MPU is in error and the logic goes to Figure 49 for the command reject sequence previously described. If the WIP flip flop 2 4 is , the next thing that is checked is the alignment code. In the case of an input service cycle, if the alignment code is , or in the case of an output service cycle, if the alignment code is 1, the logic goes to Figure 47 to perform a bus cycle. Assume, however, that the alignment code for the input service cycle is 1, representing the second microcycle. The buffer read sequence is then enabled and the load input to PCR 1 8 is activated. At this point the logic goes to Figure 48 to end the command sequence. Assuming on the other hand that the alignment code for an output service cycle is denoting the first microcycle , it is necessary to introduce a 2T delay to give the MPU time to deliver valid data. If the delay ring 21 is at or 1, the load input to PCR 1 8 is activated, the increment input is activated to prepare for incrementing the delay ring, and the J input of the CMUX flip flop 2 3 is activated to select PCR 1 8 . At this point, the process returns to Figure 43 to repeat the command sequence. When the delay ring 21 is found to be at 2, the buffer trite sequence is enabled and preparation is made to seek the next command. The logic then returns to Figure 43 to repeat the command sequence. The preparation for the next command involves activating 1 proceed status to the MPU, 2 the K input of the CMUX select flip flop 2 3 in preparation to reset that flip flop for selection of PCR 1 8, and 3 the reset input to the delay ring 21 . Returning to Figure 28, the five execution sequences of the control logic of the ICU are seen to be Reset Out, Buffer Read, Buffer Write, Bus Cycle, and Halt Out. The bus cycle sequence is chosen as exemplary of this set and is described in detail in what follows. It is also the sequence of most action. Detailed descriptions of the other execution sequences are not included herein since these sequences can be inferred by those skilled in the art. Flowchart descriptions of the operation of the buffer read and buffer write sequences are nevertheless included in Figures 52 and 53, respectively. Bus cycle control is itself subdivided into four, functionally distinct sequences initiation, detection, synchronization, and termination. These subsequences are described in this order. The Initiation Sequence 24 initiates every bus cycle. Its primary function is to enable the buses and activate the output controls at the appropriate moment peculiar to each signal and to the type of bus cycle in progress. In addition, the initiation sequence enables the next sequence of the bus cycle, namely the detection sequence, and means are provided for early enablement in the event that a fast read is requested. The initiation sequence also implements the detection of a sequence exception Interface Check B . If a sequence exception is detected, a bus cycle is not initiated. Instead, SR9 is activated, the BGE flip flop is set, and, after a 2T delay, the command sequence is re entered. The specification timing diagram for the initiation sequence is given in Figure 54, and one form of implementation is illustrated in Figure 55. With reference to Figure 55, the initiation sequence comprises four states , 1, 2, and 3 and four phases ϑ , ϑ1, ϑ2, and ϑ3 . It is executed only once for each bus cycle, and its duration is always 2T, as specified in Figure 54. The output of the INS ENABLE flip flop 241 is designated ϑ. The functions performed depend on the state of the sequencing exception SEQX flip flop 242 which is set at the same time the INS ENABLE flip flop 241 is set, if an exception is detected. This is shown in more detail in the timing diagram of Figure 54. The enabling sequences which set the INS ENABLE flip flop 241 are the Command Sequence see CDS E12 or E14 , Post Termination Sequence 3 for rerun , and Post Termination Sequence 4 for double cycle and word write operation . The four phases are seen to be generated by a ring counter 243. These phase signals perform the gating functions shown in Figure 55, and, in addition, the following ϑ1 functions enable the clock input at the Y and WIP flip flops 2 1 and 2 5, respectively, and activate the J input at the address bus enable flip flop. ϑ2 functions enable the K input at the R W flip flop and the J input at the MIP flip flop 212. ϑ3 functions activate the P input of the address strobe activation flip flop 144, and enable the J input of the data bus enable flip flop 125. The operation of the initiation sequence logic is summarized in the flowchart of Figure 56 which may be read in the same manner as demonstrated previously with respect to Figure 43 to 51 of the Command Sequence logic. The second sequence of the bus cycle control sequences is the detection sequence 25 . This critical sequence detects the device response to the output controls and then decides what next steps are to be performed. The specification timing diagram for the detection sequence is given in Figure 57, and the logical implementation of a preferred embodiment is detailed in Figure 58 and in the related truth tables of Figures 61 to 74. Figure 58 shows the relationship of the detection sequence logic to the first stage external signal synchronization flip flops, discussed earlier, and to the status reporting elements of the ICU, which carry the termination response for the command just completed. The detection sequence can generate any one of fourteen of the possible eighteen termination status responses to the MPU The other four status responses SR9, SR1 , SR11, and SR13 are generated by other control sequences, as noted in Figure 58. The significance of each status signal is summarized in the table shown in Figure 59. The detection sequence is enabled solely by the initiation sequence 24 and comprises states 4 and 5 of the bus cycle and a single phase, denoted by δ. Once enabled, the sequence runs continuously, i.e., states 4 5 repeat indefinitely, as shown in Figure 57, until a valid response is detected. It then generates its output signals and passes control on to the next sequence of its choice, namely, either the synchronization sequence 26 or the termination sequence 27 and, if the latter, also the command sequence or a post termination sequence. Exceptional responses, containing the BERR signal and any of the three DTEXN signals, are handled by a two edge detection scheme that permits completely asynchronous presentation of multiple signals without a tight skew tolerance. First detection of any of these exception signals causes the detection sequence to perform at least one additional cycle denoted 4 5 during which it can again sample the device response. Any exceptional or normal response detected during states 4 5 is then unconditionally recognized. If, however, during states 4 5 no response is detected the prior signal was either spurious or removed , the detection sequence returns to state 4 and continues its normal operation. Specifically, the detection sequence performs the following functions All of these functions A through L may be seen to be carried out by the preferred embodiment described in Figure 6 and its associated truth tables in Figures 61 to 74. The synchronization sequence 26 in Figure 28 is provided to handle Motorola MC68 peripheral devices. These devices respond to the bus cycle with a Again, in the interest of brevity, a description of the preferred embodiment of the synchronization sequence is not provided herein. This sequence must satisfy the known Motorola specification for MC68 devices and can, therefore, be implemented by those skilled in the art without further description. Moreover, the sequence is not essential to the invention. The termination sequence 27 see Figure 28 is the final sequence of each bus cycle. It performs the following termination functions The termination sequence comprises two states 6 and 7 and one phase, denoted by τ. It is executed only once for each bus cycle, and its duration, therefore, is one clock period. It does not itself enable any subsequent sequence. The sequences that enable the termination sequence are the detection sequence 25 , indirectly, each time the command sequence 2 or any post termination sequence PTS is enabled, or by the MC68 synchronization sequence 26 , as shown in Figure 28. Implementation of this sequence is straight forward and is not, therefore, further described. At the end of the detection sequence 25 or at the end of the synchronization sequence 26 , i.e., at the end of S5 or S5 , one of the following two sequences in addition to the termination sequence may be enabled 1 the command sequence, or 2 a post termination sequence. A post termination sequence is always enabled under any of the following circumstances Post termination sequences perform the following functions, in the order given The typical features of a post termination sequence are illustrated by the timing diagram shown in Figure 75. Six separate post termination sequences are specified. They are the following wherein names denote the device response to the associated bus cycle Independent of the type of release, the DTEXN signals are not checked. Moreover, the interface is checked for availability before enabling INS rerun and resetting the BGE flip flop 222. Whenever rerun rejected or rerun cancelled status is set, the WIP flip flop 2 4 is also reset. The post termination architecture of this invention is believed to be unusual in the design of microprocessors as it precisely specifies the action that will be taken for all possible responses to a bus cycle. No longer is the resolution of unusual responses left to whatever eventually falls out of the circuit design process. The term post termination may be seen to refer to the fact that these sequences always operate beyond the moment that the associated bus cycle actually ends, namely S7. But, in all instances, the termination sequence is enabled concurrently with any post termination sequence. In retrospect, therefore, these sequences could be accurately called co termination sequences. The actual implementation of the post termination sequences is straightforward and is illustrated by the specification and logical implementation of PTS3 illustrated in Figures 76, 77 and 78.