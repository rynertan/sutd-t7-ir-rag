# PRINTER HAVING A FONT MEMORY

## Claims
Druckgerät, das einen Schriftartenspeicher unabhängig von einer Befestigungsstellung hiervon festlegen kann, mit

## Description
The present invention relates to a printing apparatus which can print using a font memory specified from a plurality of font memories irrespective of mounting position, and a specifying method therefor. Various conventional printing apparatuses can print single documents with several fonts e.g., gothic, italic, etc. . Such printing apparatuses have a cartridge mounted thereon containing a plurality of font memories which store font data to effect the operation described above. Therefore, when font memories or cartridges are exchanged in accordance with a font to be printed, a document featuring various fonts can be produced. In such a printing apparatus, each font memory is uniquely determined by a font specifying number corresponding to its physical mounting position in the cartridge. More specifically, a printing operation is carried out by a font memory corresponding to the font specifying number specified by a user in a program, and the printing apparatus itself has no determination means for specifying the font memory. For this reason, when a user selects a desired font i.e., a desired font memory , a printing program must be modified to correspond to a given font specifying memory, or a mounting position of the font memory in the cartridge must be changed. Therefore, a conventional apparatus is very inconvenient to use because erroneously selected fonts can only be found by checking the printed output. Prior art document GB A 2 106 677 discloses an electronic printer comprising character input means capable of inputting a plurality of characters, a first read only memory for storing information of the characters of said character input means, first print means capable of printing a first set of characters in response to an output signal from said first read only memory, a second read only memory for storing information of a second set of characters not included in said first set of characters, said selection means for selecting said read only memory when second print means capable of printing at least said second set of characters is used in place of said first print means. It is an object of the present invention to provide a printing apparatus which can select an appropriate font memory from a plurality of font memories irrespective of its mounting position in a cartridge and perform a printing operation using the selected font memory, and to provide a method for specifying a font memory. To solve this object the present invention provides a printing apparatus and a method of specifying a font memory as stated in claims 1 and 11, respectively. According to the printing apparatus of the present invention as described above, if one font name is specified, the desired font memory can be specified from a plurality of font memories irrespective of its mounting position, and a desired printed output can be obtained. As a result, the work load of a user can be reduced, and a printing operation can certainly be performed using the specified font memory. This invention can be more fully understood from the following detailed description when taken in conjunction with the accompanying drawings, in which A printing apparatus according to an embodiment of the present invention will now be described with reference to the accompanying drawings. As shown in Fig. 1, the printing apparatus of the present invention comprises interface section 10, controller section 12, pattern generator section 14, and printer driver section 16. Interface section 10 comprises interface 20 connected to system bus 17, and receives a data signal, a command signal, and control signal from external apparatus e.g., host computer 32. In addition, section 10 outputs a control signal necessary for a signal receiving operation to external apparatus 32. Furthermore, section 10 can include a circuit for generating a signal to apparatus 32. Pattern generator section 14 comprises at least one fixed font memory 24 and at least one detachable cartridge 25 consisting of at least one font memories 26 and or 27, and is connected to system bus 17. Font memory 24 or 26 stores, for example, a gothic or italic font pattern. Each font memory is constituted by a ROM, and a storage area thereof is divided into two areas, as shown in Fig. 2. One of the storage areas stores a font name of the ROM for identification, and the other stores character pattern data. In this embodiment, the font name is stored in the ROM itself, but can be stored in an external circuit of the ROM. When each font memory is accessed, it outputs the font name and the character pattern data corresponding to the input character code data. Printer driver section 16 is connected to system bus 17, and comprises controller driver 28, mechanism 29, and alarm 30. Controller driver 28 receives an input character pattern data and controls mechanism 29 to print the data, under the control of CPU 21. When CPU 21 detects some abnormality, alarm 30 generates an alarm under the control of controller driver 28. Controller section 12 comprises microprocessor CPU 21, ROM 22, and RAM 23, and CPU 21 controls the overall apparatus of this invention in accordance with a program written in ROM 22. RAM 23 stores data and information necessary for the printing operation. The operation of the printing apparatus of the present invention shown in Fig. 1 will now be described with reference to Figs. 3A to 3C. The general operation will first be described with reference to Fig. 3A. Character code data and a font specifying command data for specifying the font memory which are input from external apparatus 32 e.g., a host computer , are received by interface 20 under the control of CPU 21 step S1 . Interface 20 is controlled by CPU 21 in accordance with a normal communication technique so that data does not overflow RAM 23. CPU 21 checks whether the received data is a font specifying command or character code data step S2 . When the received data is the character code data, normal printing processing is executed step S3 . Fig. 3B shows the printing processing in detail. When the received data is the font specifying command, a font name specified by the input font specifying command is temporarily stored, and the font memories in section 14 are sequentially referred to specify the corresponding font name, i.e., the font memory step S4 . The flow then returns to step S1, and the apparatus awaits the next input data. The printing operation will now be described with reference to Fig. 3B. Received printing data is supplied to a font memory e.g., memory 24 , which is currently specified by a PFN physical font name register in CPU 21 step S31 . The currently specified font memory generates character pattern data corresponding to the input character code data. The converted data is then stored in RAM 23 of section 12 step S32 and is output to driver 28 under the control of CPU 21. Driver 28 drives mechanism 29 under the control of CPU 21 to cause it to print the character pattern data step S33 . In this way, the input character code data from external apparatus 32 is printed. In the above description, the character code data is output to the font memory immediately after it is supplied to interface 20. However, CPU 21 can perform control such that the input character code data from interface 20 is temporarily stored in RAM 23 and the stored data is then supplied to the font memory specified by the PFN register in the printing operation, so as to supply the converted character pattern data from the font memory to driver 28. The operation for searching the font memory in accordance with the font specifying command will now be described with reference to Fig. 3C. When it is determined in step S2 that the data received by interface 20 is a font specifying command, the font name specified by the command is temporarily stored in an LFN logical font name register step S50 . The LFN register can be a register allocated in CPU 21 or RAM 23. CPU 21 supplies to external apparatus 32 through interface 20 signals indicating that CPU 21 is currently searching the specified font memory step S51 , so as to temporarily interrupt the receiving operation. Therefore, external apparatus 32 cannot transmit any data, including character code data. CPU 21 then sets a minimum of font numbers After font number In the apparatus of the present invention, when a power source is turned on, default processing can be performed. In default processing, a font number corresponding to a pre specified font memory e.g., a minimum of font numbers corresponding to the fixed font memories is loaded in the PFN register. In this apparatus, transmission of the font specifying command can be requested from external apparatus 32 at the same time the power source is turned on. In this way, processing for searching a font name specified by the external apparatus is executed with respect to the font memories with preset font names. Thereby, a printing operation can be executed based on the font memory with the specified font name. Since the font memories can be accessed irrespective of their mounting positions, their positions in a cartridge need not be changed. In addition, a printing program need not be modified to correspond with a font specifying number of a given font memory in a cartridge, thus preventing the font memory from being erroneously specified. Furthermore, since the alarm processing can be executed, a user can detect a non mounted state of the specified font memory before the printing operation begins. For this reason, the specified font memory can be effectively chosen or changed, as needed.