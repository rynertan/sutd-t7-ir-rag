# Method of precharging and precharge circuit for dynamic cascode voltage switch logic.

## Abstract
A precharge circuit for a cascode voltage switch 14 in which at the beginning of the precharge phase the output state is memorised and the output 1 is isolated from the precharging points N₀, N

## Claims
1.A precharge circuit for a logic block xi containing one or more gate devices 161 165 connected between first and second nodes N₀ and Na and having input means for cyclically applying combinations of bi level input signals P₁ P₈ to control inputs X₁ X₅ of said gates in order to open or close the gates in accordance with the combination of input signals applied during each cycle, said circuit comprising a first switch 18 connecting said first node to a first value reference potential supply operable during pre charge phase of a cycle, with all gates of said logic block closed, to charge the first node to the first reference potential, and further comprising a second 20 switch operable during a subsequent evaluation phase of the same cycle, with a selected combination of bi level input signals applied to said logic block, to connect the second node to the second reference potential ground whereby if, as a result of the applied input signals, a conducting path is established through said logic block, current flows through the logic block with a consequential change in potential of said first node to said second reference potential, and output means 22 for detecting such change characterised in that means are provided during the start of the pre charge phase of a current cycle to maintain the same combination of input signals applied to said logic block as were applied during the evaluation phase of the immediately preceding cycle and further to change the input signals as appropriate so that all gates within the logic block are turned off before the end of the current pre charge phase.

## Description
The invention relates generally to logic circuits. In particular, the invention relates to a method for consistently precharging the nodes of a dynamic logic circuit. A recently developed technology for logic circuits is called alternatively a cascode voltage switch CVS or CMOS domino circuit. An early description of this type of circuit appears in a technical article by Krambeck et al., entitled High Speed Compact Circuits with CMOS and appearing in IEEE Journal of Solid State Circuits, volume SC 17, No.3, June 19, 1982 at pp 614 619. A similar circuit is disclosed by Booher in US A 3,601,627. The overall structure of a generalised but exemplary CVS circuit is shown in Figure 1. An input register 10 provides a plurality of primary inputs of which in this example eight PI₁ PI₈, are explicitly shown. There are generally a plurality of logic modules f₁ f₇, each consisting of a group of logic transistors, having one or more inputs X A relatively simple logic group 14 is shown in Figure 2 and is implemented with five n channel field effect transistors 16 each having a gate input X₁ X₅. The function implemented is OR AND X₁, X₃, X₅ , AND X₂, X₄ . This logic group 14 is presented for sake of example and much more complicated logic groups are possible. A signal node N₀ of the logic group 14 is connected to a power supply not shown through an upper precharge p channel transistor 18. A grounding node N The signal node N₀ is further connected to the input of a CMOS inverter gate 22 consisting of a p channel transistor 24 and an n channel transistor 26 serially connected between the power supply voltage and ground potential of the circuits. The inverter input connects node N₀ to the gate electrodes of transistors 24 and 26 and an inverter output Y is taken from the common connection between the two transistors 24 and 26. It should be noted that since at the end of the precharge period, the signal on the signal node N₀ is high, the signal on inverter output Y is low. Since the output signal Y may be further connected as an input signal X At the end of the precharge period, the PRECHARGE signal returns to its high level and transistor 20 turns ON and transistor 18 turns OFF. The grounding node N If in the present example of a logic module or group shown in Fig.2, a low impedance discharge path from the signal node N₀ to the grounding N As described, a CVS circuit is dynamic in that it required the precharging of the signal node N₀ and the subsequent monitoring of the signal on that signal node N₀, to determine whether it continues to be precharged or is discharged through its associated logic group. As with most dynamic circuits, there is a problem associated with the leakage and fluctuation of the precharge from the signal node N₀. Leakage in a dynamic circuit is a pervasive problem and several solutions have been proposed. For example, see US A 4,433,257 Kinoshita , US A 3,989,955, US A 4,464,587 Suzuki and US A 4,398,270 Taylor One method used to reduce the leakage problem is illustrated in Fig.3. Here a p channel transistor 28 is connected as a feed back device between the output and input of the inverter 22 and the power supply. The gate electrode of transistor 28 is connected to the output Y of the inverter 22. Thus, when the signal node N₀ is charged or high, the output signal Y is low, transistor 28 turns ON thus closing the feedback path and solidly connecting the signal node N₀ to the power supply voltage. As a result, any leakage from the signal node N₀ is compensated. However, the feedback arrangement needs to be sufficiently weak such that when the signal node N₀ is positively discharged, transistor 28 does not continue to feed sufficient charge to the inverter 22 to prevent its output signal Y from turning off the transistor 28. A yet more elaborate feedback is illustrated in Fig.4, in which additionally an n channel feedback transistor 30 is connected as a feed back device between the output and input of the inverter 22 and ground potential. The gate electrode of transistor 30 is connected to the output Y of the inverter 22. Now, when the signal on the signal node N₀ is discharged or low, the output Y rises, transistor 28 turns OFF, transistor 30 turns ON and solidly connects the signal node N₀ and the input of the inverter 22 to ground potential. Thus charge fluctuations and leakage into the signal node N₀ are compensated for. Similarly to the p channel feedback arrangement, the n channel feedback arrangement needs to be sufficiently weak so that its effect can be overcome by a subsequent positive charging of the signal node N₀. Together, the feedback transistors 28 and 30 themselves comprise a weak feedback inverter 32, and are illustrated in block form in Fig.5. The two back to back inverters 22 and 32 thus act as a regenerative memory for storing any strong signal impressed upon the signal node N₀. CVS circuits have many advantages but the technology appears to be plagued with spurious signals or glitches. The signal on the signal node N₀ is subject to fluctuations, particularly at the beginning of the evaluation phase. The feedback arrangements described above and illustrated in Figures 3 and 4, are aimed at reducing the effects of these fluctuations. However, in a dynamic circuit, the feedback must be weak for circuit to operate and may not be sufficient to prevent the situation arising where an output signal Y varies momentarily to an incorrect high value. Even if the feedback arrangements subsequently bring the output signal Y to the correct low value, the damage may have already been done in that the transient incorrect value may have already discharged the logic group f of a subsequent stage. Thus, the feedback arrangements alone are inadequate to solve the problem. Accordingly, an object of this invention is to provide a cascode voltage switching circuit that has reduced susceptibility to internal noise. A further object of this invention is to reduce the fluctuations without an undue increase in the complexity of the circuit. The invention can be summarised as a method of precharging a cascode voltage switch circuit in which the output signal resulting from the evaluation phase of the previous cycle of the circuit is maintained upon the output during the current precharge phase. At the beginning of precharging, a pass transistor between the logic gate and the output inverter is turned OFF, thus isolating the output from the precharging voltage. Both the signal node and the grounding node are then precharged. The continued application of the previously derived output signals to the logic groups during this precharging ensures that all internal capacitive nodes which had been discharged in the previous cycle are fully precharged in the current precharging period. The inventors believe that a major cause of the signal fluctuations in cascode voltage switch CVS circuits arises from redistribution of the precharge dependent upon the signal inputs of the prior evaluation phase. This effect will be explained with reference to Figure 6, which illustrates some details omitted from Figure 2. The precharging of the signal node N₀ implies that there is a substantial capacitance 34 associated with that node. In MOS technology, there is often enough parasitic capacitance associated with the long interconnections between the signal node N₀, the upper precharge transistor 18, and the inverter 22 so that the capacitance 34 does not need to be separately provided. In the precharging phase, the capacitance 34 is positively charged and is discharged in the evaluation phase if a conducting path is formed through the logic group 14 to ground. However, the capacitance 34 is not the only parasitic capacitance in the circuits. There is additional capacitance 36, 38 and 40 at the points between the logic gates 16. However, according to the design convention for CVS circuits, all the inputs X₁ X₅ are low during the precharging period so that the associated transistors 16₁ 16₅ are turned off during precharging. As a result, the parasitic capacitances 36 40 within the logic group 14 are not accessible and are not precharged. For the most part, the amount of charge on the capacitances 36 40 within a logic group at the end of the precharging period is determined by the amount to which they were charged at the end of the prior evaluation period. This amount of charge, in turn, is determined by the values of the input signals X₁ X₅ to the current logic group which were applied in the prior evaluation period. For example, assuming that the internal capacitance 36 40 were fully charged before the prior evaluation period, then if all the input signals X₁ X₅ were low binary 0 in the prior evaluation period, the internal capacitance 36 38 remain fully charged for the current evaluation period. If, on the other hand, all the input signal X₁ X₅ in the prior evaluation period were high binary 1 , then all the internal capacitances 36 40 of the group will have been discharded. Furthermore, different combinations of input signals X₁ X₅ in the prior evaluation phase can cause different combinations of the internal capacitances 36 40 to be discharged. The importance of precharging inherent capacitance has been discussed in US A 3,778,782 Kitagawa and in US A 4,200,917 Moench . In order to understand the effect of the varying value of the internal capacitances the different situations will be considered in some detail. In the subsequent evaluation phase of a logic group following precharging, the precharge on the signal node N₀, that is, the precharge on the capacitance 34, may be discharged to ground if the input signals X₁ X₅ turn on sufficient transistors 16 to form a conducting path to ground. In this case, the precharge on the signal node N₀ is discharged to ground through the conducting path of transistors, although the transition time may depend upon the amount of charge on the internal capacitances 36 40. If the input signals X₁ and X₂ are low during the evaluation phase, then all the precharge remains on the signal node N₀ and a solid high signal is presented to the inverter 22. The real problem arises when the combination of inputs X₁ X₅ are such as not to form a conducting path to discharge the node N₀ but nonetheless one or more of the transistors adjacent the node N₀, such as transistors 16₁ or 16₂ are ON. As a result, the capacitance 36 or 40 or possibly both are put in parallel with the capacitance 34. If the internal capacitance 36 or 40 remains charged following the previous evaluation phase, then the problem should be relatively small because all the capacitances have been charged by similar voltages. However, if the internal capacitance 36 or 40 has been discharged in the prior evaluation phase, then the precharge on the capacitance 34 is redistributed to the discharged capacitance 36 or 40 or possibly both. This redistribution of the precharge causes the voltage on the signal node N₀ to dip. The amount of this dip is thus dependent upon the input signals X₁ X₅ of the prior evaluation phase as well as the input signals X₁ X₅ of the current evaluation phase, and thus is difficult to predict or control. The feedback around the inverter 22, as shown in either Figures 3 or 4, can compensate for this dip and bring the signal on the signal node N₀ back up to a solid high as long as the dip is not too severe. However, as previously mentioned, the feedback must be weak so that a transient dip appears inevitable in view of the dynamic nature of a CVS circuit. It is possible that the feedback eventually brings the high signal on the signal node N₀ back to its correct value, but, in the meantime, the output signal Y may have changed enough to have caused a logic group f of the following stage to have discharged. Once this following logic group has been discharged, the application of the correct input signals to that stage, intended to keep that logic group charged, cannot recharge the signal node N₀ of the following group. As a result, transient signal errors become permanent by the domino nature of a CVS circuit. The invention uses this understanding of the problem to reduce fluctuations by the following method. The output signal Y is memorised and then held during a part of the precharging period at the level it had in the prior evaluation phase. That is before the current precharging period. Then whilst the value is held, both the signal node N₀ and the ground node N The implementation for the CVS module of Figure 4 is shown in Figure 7. A PRECHARGE signal, having a slightly different function than the PRECHARGE of Figures 2 and 6, directly controls the gate of an n channel pass transistor 42 connecting the signal node N₀ to the input to the inverter 22. Thus, at the beginning of the precharge period, with PRECHARGE signal low, transistor 42 is turned OFF and the signal node N₀ is isolated from the inverter 22 and the weak feedback inverter 32. As previously mentioned, the combination of the inverters 22 and 32 act as a memory device. With the memory device thus isolated from the precharging, the value of the output signal Y of the prior evaluation phase is held during the current precharging period. This condition applies to the output of all CVS modules. The PRECHARGE signal is passed, as shown in Figure 8, through two inverters 44 and 46, to form a delayed precharged signal on line C₂ which is applied to the upper and lower precharge transistors 18 and 20 in the usual way and additionally to a further precharge p channel transistor 48 connected between the power supply and the grounding node N In summary, certain combinations of input signals Xi of the prior evaluation phase caused certain of the transistor 16 to turn ON and thus discharge their associated internal capacitances 36 40. The discharging could either have been directly downward to the grounding node N The relative timing of the PRECHARGE signal and the delayed PRECHARGE signal on line C₂ is shown in Figure 8. The important point is that the delay is substantially less than the duration of either pulse. A value of 600 ps for Δt would be reasonable although its best value depends on the rest of the circuit. When the PRECHARGE signal goes high, the first occurrence is for the pass transistor 42, to be turned ON. Immediately, the precharge now existing on the signal node N₀ forces the output signal Y to a low level. As a result, all the input signals Xi go to a low level because the same convention is applied to these inputs. Thus all the transistors 16 in all logic groups such as the logic group 14 are turned OFF for the last part of the precharging phase by the delayed signal precharge signal still on line C₂. This prevents a memorised conducting path through a logic group from erroneously discharging the precharged signal node N₀ if the various transitions are not timed exactly. Finally, after delay Δt the delayed PRECHARGE signal on line C₂ also goes high to discontinue the precharging process and turn OFF transistors T18 and T48 and turn ON transistor 20 thereby reconnecting the grounding node N Then, following this precharging phase, the application of the current set of the primary inputs PI The circuit of Figure 7 shows that the delayed precharge signal on line C₂ is generated locally, that is, in the neighbourhood of the logic group 14, directly from the PRECHARGE signal. This approach necessitates two additional inverters 44 and 46 for each logic group 14. It is possible for both the precharge signal PRECHARGE and the delayed version on line C₂ to be generated at one point on an integrated circuit and then both to be distributed to all of the logic groups 14 on the integrated circuit. This central generation of both precharging signals of course necessitates additional interconnections. However, the routing for both sets of interconnections can be the same so that the complexity is not greatly increased. Furthermore, if the two interconnections are routed in parallel, any time skew affecting one of the precharging signal affects the other. As a result, the amount of delay Δt is easily maintained over the long interconnections. The embodiment shown in Figure 7 used two back to back inverters 22 and 32 as a fully regenerative memory unit. However, it should be remembered that there is some associated parasitic capacitance 50, as shown in Figure 9, on the interconnection 52 between the pass transistor 42 and the inverter 22. Furthermore, the main leakage associated with this interconnection 52 is to ground. That is, the capacitance 50, for the most part, adequately holds a low signal but is somewhat undependable for a high or charged signal. Accordingly, the feedback gate 30 connected between the interconnection 52 and ground in the prior art circuit can be dispensed with. The required memory function can be adequately fulfilled by the p channel feedback transistor 28, the capacitance 50 and the inverter 22. It is also possible, as shown in Figure 10, to completely dispense with both feedback transistors in the memory unit since the capacitor 50 itself is an adequate memory unit. Admittedly, it is somewhat leaky, particularly for high level signals but as long as the capacitance 50 is required to memorise the signal only for a time shorter than its leakage time, it alone is satisfactory. The leakage time can be lengthened by intentionally including a large capacitance 50 that has relatively low leakage compared to that of the interconnection 52. Nonetheless, the capacitor 50 and the interconnection 52 do leak so that the circuit of Figure 10 is dynamic. As a result, there will be a minimum operating frequency between the precharging periods to ensure that the memory unit of Figure 10 does not decay to an incorrect value. In the embodiments of Figures 9 and 10, it is of course assumed that the rest of the circuit of Figure 7 is maintained.