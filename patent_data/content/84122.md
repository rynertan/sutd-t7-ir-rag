# Display attribute control for an alphanumeric color display.

## Abstract
An alphanumeric color display terminal translates an input set of monochrome display attributes into both a set of color display attributes and an overlapping output set of monochrome display attributes, and controls the color display in accordance with the color and the output monochrome attributes. Translation and control are per formed with a ROM and control logic 60, 70 acting upon video signals.

## Claims
CLAIMS 1. A method of operating a color display terminal for alphanumeric data in accordance with a defined input set of monochrome display attributes, said display attri butes representing visually perceptible distinctions among character images of said alphanumeric data, cha racterized in that said method comprises the steps of receiving input codes representing various combinations of said input set of monochrome display attributes translating said input set of monochrome display attri butes into both a set of color display attributes and an output set of monochrome display attributes controlling the display of said character images of said alphanumeric data in accordance with said set of color display attributes and said output set of monochrome display attributes simultaneously. 2. The method of Claim 1, characterized in that a plurality of the monochrome display attributes of said input set are the same as those of said output set. 3. The method of Claim 2, characterized in that said input set of monochrome display attributes includes a reverse image attribute, an intensify attribute, an underscore attribute, and a blink attribute. 4. The method of Claim 3, characterized in that said set of color display attributes includes individual attributes representing at least three primary colors. 5. The method of Claim 4, characterized in that said output set of monochrome display attributes includes said reverse image attribute, said underscore attribute, said blink attribute, and a non display attribute. 6. The method of Claim 2, characterized in that both said input set and said output set of monochrome display attributes include a reverse image attribute, an under score attribute, a blink attribute, and a column separator attribute. 7. The method of any of Claims 1 6 characterized in that said input codes further represent said alphanumeric data, said input set of monochrome display attributes and said alphanumeric data occupying distinct ranges of values of said input codes. 8. A color terminal 20 for displaying character images of alphanumeric data, said terminal including input means for receiving character signals representing a set of alphanumeric characters, and for receiving input attribute signals representing a predefined first set of monochrome display attributes, said monochrome display attributes providing visually perceptibly dif ferent images of the same one of said alphanumeric characters, independently of the color in which said characters are displayed, character generator means 22 for converting said character signals into video signals representing said character images, and display means 80 responsive to a plurality of control signals for displaying said character images in dif ferent colors, terminal characterized in that it further comprises attribute translator means 50 responsive to said attribute signals for translating said first set of monochrome display attributes into both a set of color display attributes and a second set of monochrome dis play attributes monochrome logic means 60 coupled to said attribute translator means for modifying said video signals in accordance with said second set of monochrome display attributes and color logic means 70 coupled to said attribute trans lator means for producing said control signals in ac cordance with said video signals and said set of color attributes. 9. The color terminal of Claim 8 characterized in that said display means produces said character images as a plura lity of video dots in each of a plurality of scans. 10. The color terminal of Claim 9 characterized in that said attribute translator 50 comprises a memory addressed by said input attribute signals. 11. The color terminal of Claim 10 characterized in that it further comprises decoding means 40 for producing location signals for certain of said scans in said plurality of scans, said location signals being effect ive to address said attribute translator memory 50 . 12. The color terminal of Claim 11 characterized in that said attribute translator memory 50 is responsive to said location signals for modifying said color display attributes transmitted to said color logic means 70 . 13. The color terminal of Claim 11 characterized in that said attribute translator memory 50 is responsive to said location signals for modifying at least one of said second set of monochrome display attributes.

## Description
DISPLAY ATTRIBUTE CONTROL FOR AN ALPHANUMERIC COLOR DISPLAYThe present invention concerns the display of alphanumeric data for data processing, and relates more specifically to methods and apparatus for displaying character images in accordance with sets of display attributes.Conventional alphanumeric A N data terminals have provision for attaching attributes to character data. In a general sense, attributes can specify any extrinsic property to be associated with one or more codes representing character data to be displayed. Some terminals, for example, allow certain characters to be designated as protected fields character codes within these fields cannot be modified or replaced from the keyboard.The present invention concerns one type of attributes, denoted display attributes . Display attributes specify the manner in which character images are to be displayed. That is, they provide visually perceptibly different or distinct images each corresponding to the same character code in the terminal. Protected fields, therefore, are not display attributes, since the associated characters appear the same as in unprotected fields. For the present purposes, display attributes are divided into two species, color display attributes and monochrome display attributes. Color display attributes specify the colors in which character images and or their background areas are to be shown.They are usually expressed in terms of intensities of a set of three or more primary colors such as red, green, and blue. Monochrome display attributes or color independent display attributes affect the appearance of characteimages irrespective of color. That is, they would be visible in a black and white image of the character image and its surround. Examples of monochrome display attributes are reverse image dark character images on light backgrounds and column separators vertical bars or dots on each side of the characters, to mark the extent of a data field . Color adds an entirely new dimension to data entry terminals in electronic data processing applications, and high quality color displays are becoming technically and economically feasible. Existing applications software, however, is mostly designed for terminals with only monochrome attributes. It would be desirable to allow the use of color terminals without requiring any reprogramming of applications designed for monochrome terminals A straight substitution of monochrome to color attributes is possible, but would produce garish or bizarre effects for some attribute combinations.In addition, at least some monochrome attributes remain useful in a color environment.The present invention provides a meaningful enhancement of an already defined input set of monochrome display attributes by translating them into both a set of color display attributes and an output set of monochrome display attributes, then controlling the display in accordance with both these setsFor example, a monochrome blink attribute by itself is used to attract attention, and may appear in a color display as a red image. An intensify attribute may appear as white red plus green plus blue in color. A character having both blink and intensify , however, appears as a blinking red image, for maximum attention value. Further, if the column separators attribute is activated, intensify causes the character images to shift from cyan to yellow, although the column separator shapes themselves appear in blue for both cases.The individual monochrome display attributes may be the same for both the input and output sets, they may overlap, or one may be a subset of the other. The invention can also be conceptualized as a translation or conversion of a smaller set of attributes including only monochrome display attributes to a larger set of attributes including both color and monochrome display attributes. The conversion between sets of attributes are performed by an attribute translator which may comprise a memory, and by monochrome and color logics for controlling the color display. Other objects and advantages of the present invention, as well as extensions and changes obvious to those skilled in the art, will become apparent from the following description of a preferred embodiment.FIG. 1 is a high level block diagram of an alphanumeric color display terminal according to the invention.FIG. 2 is a more detailed logic diagram of the color display control of Fig. 1 for carrying out the invention.FIG. 3 is a logic diagram of a conventional video signal serializer useful in the control of Fig. 2.FIG. 1 is a block diagram of a microprocessor controlled alphanumeric . color display terminal 10. A conventional parallel bus 11 contains address, data, and control lines for interconnecting a microprocessor 12, read only memory ROM 13 holding machine language microcode for driving the microprocessor, and read write memory RAM 14 for holding working data of various types. Communications adapter 15 transfers data to and from a host data processor over a bit serial communications link such as a twinaxial cable.Refresh buffer 16 contains a two port RAM which receives data bytes from bus 11 under the control of microprocessor 12, and which also transmits these bytes to color display 20 in a predetermined sequence for maintaining the evanescent image on a cathode ray tube CRT . The memory, timing and gating logic for buffer 16 are of conventional design. In the embodiment described herein, buffer 16 transfers a single data byte at a time to display 20. A data byte may represent either an alphanumeric character whose image is Sto be displayed, or a display attribute. The display attributes are of two kinds, color and monochrome. Color attributes specify the colors in which a character or its background are to be shown. In this embodiment, red, green and blue primaries have either of two intensities, on or off thus seven colors plus black are available.Monochrome attributes affect the appearance of a character irrespective of color that is, they would be visible in a black and white image of the character and its background area.The set of five input monochrome attributes in this embodiment are those previously used in the IBM5250 family of monochrome data entry workstation terminals. The column separator COLS attribute marks the beginning and end of each character position, so that an operator entering data into a fixed length field can see the field extent as characters are placed into it. This attribute is displayed as two dots in the last raster scan of the character box, one dot just to the left of the character, the other just to the right.The blink BLNK attribute causes the character image to blink on and off about two times per second. Underscore UNSC places a horizontal line in the last scan of the character box. Intensify INT , sometimes called highlight , brightens the entire character image. Reverse video REV changes the display from the normal light character on a dark field to a dark character on a light field. REV remains a monochrome attribute even in the environment of the present color display it reverses the state of a single binary video signal having values representing character and background also, all of the color attributes can be controlled independently of REV.Other monochrome display attributes could be included, such as italic or other fonts, and sub or super scripting.Obviously, other color display attributes could also be incorporated. Attributes other than display attributes could be utilized as well, if desired. Attributes other than display attributes do not enter into the present context hence, the term attribute by itself shall betaken to refer to display attributes only.The remaining major components of FIG. 1 are input output I O adapters 17 and a keyboard 18. The keyboard may be of any conventional design, having either a parallel or serial interface. Adapters 17 receive character bytes or other codes from keyboard 18, and also interface to other internal or external elements not relevant to the present invention, such as curser position registers or dot matrix printers.The lines from adapters 17 to display 20 specify certain operating modes, explained below.FIG. 2 shows the portions of color display 20 which pertain to the present invention. Other, conventional functions are not shown these include, for example, raster scan generation and timing, color beam convergence, and video signal amplification By way of background, the present implementation employs a horizontal raster having interlaced even and odd scan fields, as in television practice. Each character position is 12 scans high SO Sll, six from each scan field with 9 possible dot positions along each scan, numberedT0 T8. Most character images occupy dots T1 T7 of scansS1 S9, the other dots and scans being used for borders.Codes for character images have values X40 XFF X indicates hexadecimal notation , while attributes have values X20 X3F.The attributes are coded as follows bit 7 is the most significant bit of the code byte Bit Attribute 7 Always 0 for attribute codes. 6 Always 0 for attribute codes. 5 Always 1 for attribute codes. 4 Column separators COLS 3 Blink BLNK 2 Underscore UNSC 1 Intensify INT 0 Reverse image REV Attributes themselves occupy a character position on the display, but no image is normally displayed for them they appear as a blank or space character. Thus, for example, the attribute code 0010 1110 V X2E specifies that the characters following that position shall blink, have an underscore, and be intensified.A new data byte is input from refresh buffer 16 and is received on line 21 each character time of every scan in both scan fields. A conventional character generator 22 receives the data byte and a repetitive scan count on line 23, also as in conventional practice. Lines 24 contain nine bits D0 D8 in parallel representing dot positions TO T8 of the current scan of a character. All attribute codes X20 X3F are normally blanked out by logic subsequent to generator 22. Lines 24 are latched in register 25 by the previously mentioned clock 26 occurring every character time. Serializer 27 converts these parallel scan bits into serial video bits on line 28 by means of a dot clock 29 occurring nine times, T0 T8, during each character clock 26. In addition, a true complement T C input controls the selective inversion of the serial binary light or dark video signals on line 28.In this implementation, attributes apply to all character positions following them, in the same or succeeding rows of characters on the display. These are termed field attributes in the art. Logic 30 ensures that the correct attribute code will be in force during each character time.Decoder 31 produces a signal on line 32 whenever an attribute code i.e., X20 X3F appears on data lines 21. This signal clocks the code on lines 21 into current attribute register 33. When the attribute code appears during the last scan S10 in the even scan field or S11 in the oddfield , AND gate 34 clocks the code into start attribute register 35 as well. The last of these attribute codes is retained in latches 33 and 35 until replaced at the appropriate times for the next row of characters. These registers are selectively switched to output lines 36 by multiplexer 37, which is controlled by set reset SR latch 38.The presence of an attribute signal on line 32 causes latch 38 and multiplexer 37 to couple current register 33 to line 36 at the right end of every scan a standard horizontal retrace signal 39 resets latch 38, causing start register 35 to feed lines 36 until latch 38 is again set by line 32. Thus as each scan proceeds from left to right across the display, each attribute code encountered along the way will be transmitted from register 33 to lines 36 to control the display of all characters to its right, until the next attribute code is encountered.Start register 35 operates only before the first attribute code of a scan is encountered, by retaining the last attribute of the preceding row of characters and transmitting it to lines 36 at the proper times.Decoder 40 provides scan count or location signals used by several other elements of display 20. Specifically, odd field location signal on line 41 is active during the six scans S1,S3, S5, S7, S9, S11 of the second scan field of each interlaced frame. The even scan field contains scans numbered S0,S2, S4, S6, S8, S10. Last scan location signal on line 42 is active during the last scan of each scan field, i.e., during scans S10 and Sill. From a logical standpoint, the overall functions of attribute translator 50, 60 and monochrome logic color logic 70 are a to translate an input set of monochrome display attributes into both a set of color attributes and an output set of monochrome attributes, b to produce color signals in accordance with the set of color attributes, and c to modify the video signals in accordance with the subset of output monochrome attributes. In practice, each of the elements 50, 60, 70 may perform portions of more than one of these functions, in order to reduce the overall cost of the implementation.As previously explained, the five monochrome attributes input to the system are column separators COLS , blink BLNK , underscore UNSC , intensify INT , and reverse video REV .The subset of these which are actually used by the display are COLS, BLNK, UNSC and REV. In addition, another output monochrome attribute, non display NOND is produced from certain combinations of the input attributes. NOND causes all following characters to be blanked out, i.e., to appear as spaces. The color atrributes may be considered to be either the three separate primary color signals or the seven actual colors produced by combinations of these signals. The primary color signals are denominated as green G , red R and blue B . However, the CRT phosphors are somewhat different from the normal television standard colors, to avoid eyestrain and to produce a more pleasing palette with a limited number of colors. The actual colors are pink R B , red R , yellow R G , light green G , turquoise G B , light blue or azure B , and white R G B . Black, of course, is the absence of all three primary signals. Table I summarizes the overall translation of the monochrome input attribute set to the monochrome output attribute set and the primary color attribute set. For each vertical column in the table, an attribute code X20 X3F is first expanded in terms of the input monochrome attributes it specifies, shown as 1 entries in the table. Then, the 1 entries below the horizontal line specify the corresponding output monochrome and primary color attributes. TABLE IAttribute 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3Code hex 0 1 2 3 4 5 6 7 8 9 A B C D E F 0 1 2 3 4 5 6 7 8 9 A B C D E FInput Mono.COLS 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1BLNK 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1UNSC 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1INT 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1REV 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1Output Mono.COLS 1 1 1 1 1 1 1BLNK 1 1 1UNSC 1 1 1 1 1 1 1 1 1 1 1 1REV 1 1 1 1 1 1 1 1 1 1 1 1NOND 1 1 1 1Pri. ColorR 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1G 1 1 1 1 1 1 1 1 1 1 1 1 1 1B 1 1 1 1 1 1 1 1 1 1 1 1 1 1 The major purpose of attribute translator 50 is to translate the set of input monochrome attributes on lines 36 into signals on lines 51 55 representing the set of output monochrome output attributes and into further signals on lines 56 58 for the primary color attributes. Translator 50 may conveniently be implemented as the lower half of a 1024 byte by 8 bit wide ROM integrated circuit module having address lines A0 least significant bit, LSB through A8 most significant bit, MSB .The attribute lines 51 58 represent the eight data lines DO LSB through D7 MSB . The five input lines 36 are connected to address lines A2 A6. Lines A7 A8 are mode control lines not relevant to the present invention.Originating in I O adapters 17, FIG. 1, the converge mode line inhibits lines 51 58 while the CRT is being adjusted for color convergence, while the 2 color mode line passes the monochrome attributes substantially unchanged to the output monochrome attributes, using the colors only to the extent that, for example, normal intensity characters are green G , while high intensity INT attribute on characters are in white R G B . Low order address lines A0 Al are used to identify the last scan of the odd scan field, i.e., scan sill, for producing underscores and column separators at the proper times, since these shapes are not contained in character generator 22.Table II shows the complete contents of ROM 50 addressed by lines A0 A8. It should be noted that the data lines D0 LSB through D7 MSB occasionally deviate from the values they would be expected to have. This occurs because ROM 50 does more than merely translate attributes it also aids logics 60 and 70 in the direct production of some attributes. For example, the UNSC output line 54 not always be activated when the UNSC attribute is active, but rather only when both UNSC and COLS attributes are active, in order to simplify logic 60. Likewise, the UNSC attribute is actually produced by activating REV line 51 and B line 58 during scan S11, i.e., when A0 and Al both are high this simplifies color logic 70. Table II shows the contents of ROM 50 for the seven color mode, located in addresses 128 through 255. The leftmost ATTR column of Table II contains hex attribute codes. The ADDR column contains the first address of a four byte group of data representing that attribute. The Data commat A column is the hex data contained in each of the four bytes. In some cases, the last byte of the four differs from the other three the Data commat A 3 column lists those bytes for the appropriate rows of the table. TABLE II DATA DATA ATTR. ADDR. commat A commat A 3 20 128 80 21 132 81 22 136 EO 23 140 El 24 144 80 25 25 148 81 25 26 152 EO 25 27 156 82 28 160 40 29 164 41 2A 168 48 2B 172 49 2C 176 40 25 2D 180 41 25 2E 184 48 2D 2F 188 82 30 192 A0 BO 31 196 Al B1 32 200 CO DO 33 204 C1 D1 34 208 A0 35 35 212 Al 35 36 216 CO 35 37 220 82 38 224 60 39 228 61 3A 232 20 3B 236 21 3C 240 60 25 3D 244 61 25 3E 248 20 25 3F 252 82Monochrome logic 60 basically modifies the displayed character image in accordance with the output set of monochrome attributes COLS, BLNK, UNSC, REV, and non display NOND . This may be done not only by direct action upon monochrome video signals, but also in concert with translator 50 and or color logic 70, as will appear. REV output line 51 enters a true complement input of serializer 27. This acts as an exclusive or gate on serial video line 28 that is, REV O for normal video allows the signal on line 28 to pass unchanged, while REV 1 for reverse video inverts line 28, making bright dots dark and vice versa. NOND output line 52 is transmitted through OR gate 61 to force a reset in register 25, so as to blank out the parallel video signals from lines 24. Leg 32 of OR 61 effectively causes all attribute codes themselves to have an implied NOND attribute, and thus to appear as blanks on the CRT. A third leg implements the BLNK attribute byANDing output line 53 with any convenient clock signal 62 of several pulses per second in gate 63.COLS line 55 is combined in AND 64 with a signal 65 which is active during dot times TO and T8 of each character of every scan. Translator 50, however, inhibits COLS except during sq√ßn S11 of those characters having the underscore attribute, so that line 66 is active only at the proper dot and scan times of the proper characters. UNSC line 54, as mentioned above, need be active only during those characters for which both the underscore and the column separator attributes are to be in effect. AND 67 combines lines 54 and 66 to place a signal on line 68 to indicate this situation. Lines 66 and 68 work their will on the video signal by way of logic 70.Color control logic 70 . receives the color attribute lines 56 58 to specify one of seven colors in which the appropriate characters are to be displayed. Serial video signal on line 28 controls AND gates 71 73 for selective enabling of the color signals. Signals on lines 56 58 are thereby passed unaltered when video signal on line 28 is high, and are turned off when video signal on line 28 is low. The effect of this is to paint the video dots belonging to the character image in one of the seven colors specified by translator 50, and to paint background dots in black, i.e., the absence of all color. In the reverse video mode, the background color is specified by lines 56 58, while character images are black.Gates 74 77 are required to control column separator color, because the column separator dots are always displayed in blue, regardless of the color of the character at that position on the CRT. The inverting inputs of ANDs 74 and 75 turn off the G and R color signals whenever the previously described line 66 becomes active. This line also forces the B color on, by means of OR 76. AND 77 cuts off the B color during dot times TO and T8 when line 68 indicates both UNSC and COLS, so that TO and T8 are always black when both UNSC and COLS are active. Conventional color display head 80 includes a color CRT, video signal amplifiers, scan generation circuits, power supplies and so forth to display alphanumeric character images in the colors specified by color signal inputs on lines 81 83. Control signals on lines 81 83 at this point represent both the color and the output monochrome attributes specified by the original set of input attributes received on data lines 21. Control signals on lines 81 83 are binaryvalued, but could have more than two levels if desired to present a broader range of hues and intensities on the CRT. Also, some conventional color displays are an int nsit cr luminance control signal separate from the color control signals.As mentioned earlier, the overall attribute conversion process could be divided differently among the elements 50, 60 and 70. Also, ROM 50 can be loaded with more than one mapping of input attributes into output monochrome and color attributes. Moreover, ROM 50 could be totally or partially replaced with read write RAM memory, so as to allow the loading of custom mappings, either from the host CPU via communications adapter 15, Fig. 1, or from keyboard 18.FIG. 3 shows an example of a conventional video serializer 27 useful in connection with the invention.Ring cpunter 91 outputs a repetitive sequence of dot signalsTO T8 in response to dot clock on line 29. Each dot signal represents one dot interval of the nine horizontal dots in each character position on the CRT display. TO and T8 areORed in gate 92 to produce the previously described columnseparator signal T08 on line 65. Each dot time signal TO T8 conditions both of a pair of ANDs 93, 94. Each pair of gates also receives a corresponding one of the parallel video signals Vo V8 from register 25, Fig. 1. Selection between the gates of each pair is based on the state of true complement input on line 51 if T C is high, AND 93 transfers its data to OR 95 unchanged at the appropriate time ifT C is low, inverting AND NAND 94 inverts the value of its data line. OR 95 merely collects the outputs of all the ANDs 93, 94 and transfers them to serial video line 28. Many other implementations are possible for serializer 27 this one happens to be particularly economical as a part of a custom logic chip for the present implementation.