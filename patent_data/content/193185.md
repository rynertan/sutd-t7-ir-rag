# INTERFRAME ADAPTIVE VECTOR QUANTIZATION ENCODING APPARATUS

## Claims
Zwischenrahmen Prädiktionsvideocodierer mit

## Description
The present invention relates to an interframe adaptive vector quantization encoding apparatus which performs encoding of video signals at high efficiency using vector quantization, and also to a video encoding transmission apparatus which transmits the encoding signals. First, the principles of vector quantization will be described briefly. The input signal series of K in number are brought together into input vector An interframe adaptive vector quantization apparatus in the prior art, as is in principle known from Fig. 23 and 26 of EP A 0 097 858, will be described. Fig. 2 is a block diagram illustrating a constitution example of an encoding member of an interframe adaptive vector quantization apparatus. In Fig. 2, numeral 1 designates an A D converter, numeral 2 a raster block scan conversion circuit where digital video signals in raster form by the A D conversion are made a block per every m picture elements x n lines m, n integer , numeral 3 a vector quantization encoder which encodes the block data at high efficiency by means of vector quantization, numeral 4 a transmission data buffer where the encoded data at high efficiency is stored and transmitted to the transmission path at constant speed, numeral 5 a movement detection control circuit which controls threshold value of movement detection in the vector quantization encoder corresponding to the data amount stored in the transmission data buffer, numeral 6 a vector quantization decoder which decodes the encoded data supplied from the vector quantization encoder and reproduces the block data, numeral 7 a variable delay circuit, and numeral 8 a frame memory. Fig. 3 is a block diagram illustrating a constitution example of a decoding member of the interframe adaptive quantization encoding apparatus. In Fig. 3, numeral 9 designates a receiving data buffer where the encoded data supplied from the transmission path is received and stored and then outputted at speed corresponding to the decoding action, numeral 10 a block raster scan conversion circuit where the block data decoded and reproduced is converted into data in raster form, and numeral 11 a D A converter. Encoding and decoding operation of the apparatus will now be described referring to Fig. 2 and Fig. 3. Input video signals 101 are analog signals which are raster scanned from the left to the right on the screen and from the upper side to the lower side. The analog signals in raster form are converted into digital signals 102 by the A D converter 1, and then the digital signals in raster form are made a block per every m picture elements x n lines m, n integer by the raster block conversion circuit 2, and further the picture element sample within the block is arranged in one dimensional arrangement so as to obtain vector data The encoded data outputted from the vector quantization encoder 3 is decoded according to reverse processing of the encoding in the vector quantization decoder 6, thereby interframe difference reproduction vector On the other hand, the encoded data 107 after received and speed changed in the receiving data buffer 9 is decoded by the vector quantization decoder 6, thereby interframe difference reproduction vector That is, vector operation Next, constitution and operation of the vector quantization encoder and the vector quantization decoder of the arrangement of Fig.2 will be described in detail. Fig. 5 shows a constitution example of a vector quantization encoder in the prior art. In Fig. 5, numeral 19 designates a mean value separation and normalization circuit, numeral 13 a movement detection circuit, numeral 23 a distortion operation circuit, numeral 20 a minimum distortion detection circuit, numeral 16 a code book ROM, numeral 17 an address counter, and numeral 18 an index latch. Operation of the vector quantization encoder will be described. The mean value separation and normalization circuit 19 performs operation as hereinafter described to interframe difference vector Assuming that intrablock mean value of Approximate expression of σ such that or the like may be used. The mean value m 114 and the amplitude factor σ 118 obtained are inputted to the movement detection circuit 13, and compared with the threshold values T₀, T₁, thereby the significance insignificance block discrimination, i.e., the movement detection processing is performed according to following conditions and the block discrimination information ν 121 is outputted. The block discrimination information ν is transmitted per each block. Only in the case that ν is 1, following processing is performed. The normalization vector Set of a plurality of output vectors Otherwise, approximate expression such that may be used. In the minimum distortion detection circuit 20, the minimum distortion among the N distortions estimated by the above calculation is detected, and the output vector address information i in the code book ROM indicated by the address counter is taken in the index latch 18 and outputted as the output vector index i 120 . The intrablock mean value m 114 , the amplitude factor 118 , the block discrimination information ν 121 and the output vector index i 120 , all obtained in the above process, are converted into codes being suitable as the vector quantization encoding information 107 and then outputted. In this case, if ν is 0, codes in other information are not outputted. A vector quantization decoder shown in Fig. 4 will now be described. In Fig. 4, numeral 21 designates an amplitude coefficient multiplier, and numeral 22 a mean value adder. Among the vector quantization encoded information 107 transmitted from the receiving data buffer 9, the block discrimination information ν 121 is first decoded. If ν 1, i.e., if the block is significant, the decoded output vector index i 120 is taken in the index latch 18. In the code book ROM 16 where the same content as that of the code book ROM of the vector quantization encoder is written, the output vector The invention will now be described in detail. Next, constitution and operation of the vector quantization encoder and the vector quantization decoder will be described in detail. In Fig. 1, numeral 12 designates a mean value separation circuit which estimates intrablock mean value of interframe difference vector and separates the mean value, numeral 14 an inner product operation circuit which estimates inner product between input vector by the mean value separation and output vector read from a code book ROM, numeral 15 a maximum inner product detection circuit which detects the optimum output vector by estimating maximum value of inner products between input and output vectors obtained with respect to a plurality of output vectors and determines amplitude factor at the vector quantization decoding, numeral 13 a movement detection circuit which performs movement detection using obtained mean value, amplitude factor and threshold value and outputs significance insignificance block discrimination information, numeral 16 a code book ROM, numeral 17 an address counter, and numeral 18 an index latch. The operation will be described. The mean value separation circuit 12 performs operation as hereinafter described to interframe difference vector produces the mean value m and the input vector The inner product operation circuit 14 estimates the inner product between the obtained input vector Among the obtained inner products of N in number, the maximum value is detected by the maximum inner product detection circuit 15 and at the same time the maximum inner product is outputted as amplitude factor σ to the movement detecting circuit 13. Assuming that the output vector index to provide the maximum inner product be 0 and the input output vector be two dimensional vector k 2 , Since Consequently, when ϑ 0, max F The obtained amplitude factor σ and the mean value m are inputted together to the movement detection circuit 13, and compared with the threshold values T₀, T₁ 106 , thereby the significance insignificance block discrimination, i.e., the movement detection processing is performed according to following conditions and the block discrimination information ν 121 is outputted. The block discrimination information ν is transmitted per each block. The intrablock mean value m 114 , the amplitude factor 118 , the block discrimination information ν 121 and the output vector index i 120 , all obtained in the above process, are converted into codes being suitable as the vector quantization encoding information 107 and then outputted. In this case, if ν 0, codes in other information are not outputted. Fig. 7 and Fig. 8 show another embodiment of the invention. In this embodiment, an amplitude normalization circuit is removed, and a DPCM encoding circuit and a DPCM decoding circuit are inserted in vector quantization encoding member and decoding member respectively for mean value component and amplitude factor so that introduction of the DPCM encoding removes redundancy for the mean value component and the amplitude factor. Description of this embodiment is performed regarding the case that threshold control is not performed. Fig. 7 shows a constitution example of the vector quantization encoding member. In Fig. 7, numeral 12 designates a mean value separation circuit, numeral 14 an inner product operation circuit, numeral 15 a maximum inner product detection circuit, numeral 16 a waveform code book ROM, numeral 17 an address counter, numeral 18 an index latch, numeral 25 a DPCM encoding circuit, and numeral 26 an encoding circuit. Also, Fig. 8 shows a constitution example of the vector quantization decoding member. In Fig. 8, numeral 27 designates a DPCM decoding circuit, numeral 21 an amplitude factor multiplier, numeral 22 a mean value adder, and numeral 3 a decoding circuit. In the vector quantization encoding member constituted as above described, the mean value component m 114 is processed in similar manner to the preceeding embodiment, and its redundant component is deleted by the DPCM encoding circuit 25 and the difference signal dµ 123 is outputted. On the other hand, the mean value separation vector The DPCM encoding circuit output dµ 123 for the mean value component m 114 , the DPCM encoding circuit dg 124 for the amplitude factor g 118 , and the normalization output vector index i 120 are subjected to variable length encoding in the encoding circuit 26. Next, the vector quantization decoding operation will be described. The difference signal dµ 123 of the mean value component m, the difference signal dg 124 of the amplitude factor g, and the normalization output vector index i 120 are decoded in sequence in the decoding circuit 3. The mean value m 114 is decoded and reproduced in the DPCM decoding circuit 27, and the amplitude factor gi 118 is decoded and reproduced in the DPCM encoding circuit 27. The normalization output vector index i 120 is taken in the index latch 18, and the normalization output vector