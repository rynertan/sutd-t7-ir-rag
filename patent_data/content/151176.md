# DIGITAL TO ANALOG CONVERTER

## Claims
Digital Analog Wandler zum Umwandeln eines Digitalsignals mit einer Anzahl von Bits in ein Analog Signal, der eine digitale Schnittstelle 16 , ein Register 22 zum Speichern der Anzahl von Bits, eine Pufferschaltung 24 zum Empfangen der Anzahl von Bits von dem Register 22 , ein Analogstrom Schaltnetzwerk 30 und ein Spannungsteiler Netzwerk 34 aufweist, das auf den Stromausgang von dem Analogstrom Schaltnetzwerk 30 anspricht, um Spannungen zu liefern, die den Bit verkörpern, der durch die zugeordnete Pufferschaltung 24 dargeboten wird, dadurch gekennzeichnet, daß das Analogstrom Schaltnetzwerk 30 eine Vielzahl von Stromschaltkreisen 30a h aufweist, von denen jeder einen Stromausgang in Abhängigkeit von der Zuführung eines zugeordneten Bits von der Pufferschaltung 24 liefert wobei jeder Stromschaltkreis 30a h einen emittergekoppelten Schaltkreis 80 aufweist, der zwei Vielheiten 82,84 von parallel verbundenen Transistorelementen einschließt, wobei die Basen der einen 82 der Vielheiten von Transistorelementen mit der Pufferschaltung 24 und die Basen der anderen 84 der Vielheit von Transistorelementen mit einem Stromschaltkreis verbunden sind, der ein erstes Transistorelement 100 aufweist, dessen Emitter mit der Basis der anderen 84 der Vielheit von Transistorelementen in dem ermittergekoppelten Schaltkreis 80 verbunden ist.

## Description
This invention relates to a digital to analog converter. Conventional D A converters such as used to convert digitial information signals to analog video signals utilise a register for receiving the multi bit, e.g. eight bit, digital input. From the register the bits are strobed into associated buffers, which drive corresponding constant current switching circuits whose outputs are attenuated in accordance with the bit positons by an R 2R resistor network. An R 2R resistor network is a combination of series and parallel resistors connected as a voltage divider which causes each successive bit to appear at half the voltage of the previous bit with equal current gated at each bit. These converters use discrete switching components for the analog signals in combination with integrated circuits for the registers and buffers for the digital signals. In such converters the analog switching circuits require labour intensive component tuning and matching, which increases their cost. The use of such a converter with integrated or discrete components requires considerably more power, e.g. 1.6 watts for TTL and 2.8 watts for ECL. In addition, the highest toggle frequency obtainable with acceptable glitch switching waveform distortion is limited by the available discrete component parameters and the interconnecting circuit parasite contributions. In US A 4092639, a D A converter is described which provides two complimentary current outputs. In this document a plurality of two branched emitter coupled symmetric transistor switching circuits are disclosed to provide a current output in response to bits of a binary word. Each transistor switching circuit comprises two parallel connected transistors. The base of one of each pair of transistors is connected to the logic input whereas the base of the other one of each pair of transistors is connected to a circuit point which provides a reference potential. In Electronic analog digital conversions , H. Schmid, 1970, Van Nostrand Reinhold Company, pages 170 179 there is disclosed a D A converter for converting a digital signal having a number of bits to an analog signal, comprising a digital interface, a register for storing said number of bits, a buffer circuit for receiving said number of bits from said register, an analog current switching network, and a voltage divider network responsive to the current output from said analog current switching network for providing voltages representative of the bit presented by the associated buffer circuit. According to this invention such a converter is characterised in that the analog current switching network includes a plurality of current switching circuits each of which provides a current output in dependence upon the delivery of an associated bit from said buffer circuit each current switching circuit including an emitter coupled switch circuit including two pluralities of parallel connected transistor cells, with the bases of one of the pluralities of transistor cells connected with said buffer circuit and the bases of the other of the plurality of transistor cells connected with a current switching circuit including a first transistor cell, with its emitter connected to the base of said other of the plurality of transistor cells in said emitter coupled switch circuit. The invention provides a small, relatively inexpensive and simple D A converter which requires little or no tuning or matching of components, and which requires little power in both TTL and ECL versions, for example only 1.1. watts maximum in a TTL version and 1.0 watt in an ECL version. Further, the invention provides such a converter which can operate at higher toggle frequencies without unacceptable glitch , for example 180 MHz without unacceptable glitch . Further the invention provides a converter which has less interconnecting circuit parasitic contributions, and which can be made wholly in integrated circuit form, with both its digital and analog components implemented in a digital array chip. The invention results from the realisation that a preselected subset of the elemental cells of a digital gate array may be connected to form analog current switching circuits so that the active parts of a complete digital to analog converter may be fabricated on a single, originally wholly digital, gate array chip. In a preferred embodiment, the current switching circuit may include a second transistor cell with its collector connected to the emitter of the first transistor cell, its base adapted for connection with a reference voltage source and its emitter connected with a bias resistor network connected with a voltage source. Each of the plurality of transistor cells may include three transistor cells. The collectors of the other plurality of transistor cells and the collector of the first transistor cell may be connected together. The invention will now be described by way of example with reference to the drawings, in which There is shown in Fig. 1 a digital to analog converter array 10 mounted on a single substrate 12. Digital input information provided in the form of a multibit address or word is provided on line 14 to digital interface 16. Composite signals which often accompany video digital information signals, are provided on line 18 to composite control circuit 20. Digital interface 16 adjusts the level of the incoming bits and interjects the control signals, such as Reference White 10 Black 1 Black 2 Sync and Blank into the incoming bits. The bits are stored in register 22 until they are clocked into flip flop buffer 24 by strobe signals 26 and 28. Upon transfer to buffer 24, the bit signals are immediately delivered to current switching network 30, which provides the same current output for each bit which is presented from buffer 24. Those current outputs are delivered on line 32 to an R2R type voltage divider 34, which develops a voltage dependent upon the bit position or address. The composite control circuit 20 provides set and reset signals on lines 36 and 38 to register 22 and digital interface 16, respectively. Composite control circuit 20 also provides a signal on line 40 to composite control switching circuit 42 which directly affects the analog output of voltage divider 34. In one implementation, an eight bit digital to analog converter 10a according to this invention 10a may be constructed using a Q 720 gate array of Applied Micro Circuits Corporation, Cupertino, California, as shown in Fig. 2, wherein like parts have been given like numbers with respect to Fig. 1 and each of the eight stages of the parts have been given the same number accompanied by a lower case a h. In Figs. 2A C, the small square boxes on substrate 12 are contacts which are provided for the signals with which they are labelled. Contacts B1 B8 are those that receive the eight bit digital input signal. The composite input signals or contacts are labelled White , 10 , Black 1 , Black 2 , Sync and Blank . The composite output signals, E Blank , E Sync , and E 10 , are interconnected with voltage divider 34, Fig. 1, as are signals C1 C8. Contacts E1 E8 interconnect with a resistor biasing network for circuits 30a h. The glitch adjust contact receives the glitch adjust input from an external source and the clock contact receives the clock signals from an external clock. Digital interface 16 includes eight stages 16a 16h. Each stage, as exemplified by stage 16a, includes a level shift circuit 50, which accepts TTL or ECL logic signals and converts them to the lower level acceptable to the internal circuits of the digital to analog converter array. The level adjust circuits 50 may be implemented by the input output cells. The output of level adjuster circuit 50 is delivered to a buffer amplifier 52. Also included in digital interface 16 when the system is accompanied by a composite control circuit, are NOR gate 54 and OR gate 56. The outputs of these gates in stages 16a h are fed to the corresponding register stage 22a h. NOR gate 54 provides an output to transfer an incoming bit upon the presence of the bit at the output of buffer amplifier 52. The other inputs to NOR gate 54 and the operation of OR gate 56 are controlled by composite control circuit 20 and will be explained subsequently. When a bit is transferred from NOR gate 54, it is stored in stage 22a of register 22. Upon the appearance of a strobe signal, at the strobe contact, the strobe signal will be processed by level adjuster circuit 58 and through amplifier 60 provides a strobing signal to each of the stages 22a h of register 22 and each of the stages 24a h of buffer 24, to transfer the respective bits from their register stages to the corresponding buffer stages. Immediately upon receipt in buffer stages 24a h, the bit is transferred to the individual current switching circuits 30a h, whereupon it is directly presented through contacts C1 8 to the voltage divider 34, Fig. 1. Each of current switching circuits 30a h, as exemplified by circuit 30a, Fig. 3, includes an emitter coupled switching pair 80 such as an ECL circuit, wherein each transistor pair 82, 84, is actually formed of a plurality of transistor cells 82a, 82b, 82c, and 84a, 84b, 84c, as indicated by the triple emitter depictions. This is necessary to make up the desired current level, 8.5 milliamps, which is unavailable with any single transistor cell in the conventional digital array. Circuit 30a has five contacts 91, 92, 93, 94 and 95, Fig. 2. Output 91 interconnects the base of transistor 82 with buffer stage 24a. Output 92 interconnects the collector of transistor 84 with its respective collector output contact C1 C8, Fig. 2. The base of transistor 84 interconnects with the emitter of transistor 100. The base of transistor 84 and emitter of transistor 100 are connected to output 93, a test point. The base of transistor 100 is connected to output 94, which connects directly to a glitch adjust line 102, through which an external glitch adjustment signal is introduced via the glitch adjustment contact. The emitters of transistors 84 and 82 are both connected to output 95, which connects to the respective one of the E1 E8 outputs, Fig. 2. There is also provided, in conjunction with the current source transistor 100, a voltage reference transistor 104, whose emitter is connected with voltage reference resistors 106, 108, 110 and 112. The novel connection of the uncommitted gates in the conventional gate array to form the current switching circuit 30a, Fig. 3, enables a conventional digital gate array substrate to be used to form analog circuits on a digital array so that the analog as well as the digital circuitry of a digital to analog converter can be fabricated on a single digital array chip. This construction enables a smaller, less expensive and simpler D A converter to be manufactured, which requires little or no tuning or matching of components and which uses less power in both TTL and ECL versions. It also operates at higher toggle frequencies within acceptable glitch limits and minimizes interconnecting circuit parasitic contributions. Composite control circuit 20, Fig. 2, operates through NOR gate 54 and OR gate 56 to provide signals which may override the incoming eight bit word or address. NOR gate 54, in addition to receiving the bit signal from the output of buffer amplifier 52, also receives on line 59 the output of OR gate 62, which after inversion by buffer amplifier 64 is also provided on line 66 as the third input to NOR gate 54. OR gate 62 in turn receives inputs from buffer amplifiers 68, 70 and 72, which are driven by the Black 1 , Black 2 and Sync signals through level adjusters 74, 76 and 78, respectively. Thus, upon the receipt of a Black 1 , Black 2 or Sync signal, OR gate 62 will provide over lines 59 and 66 a signal to NOR gate 54 which will cause switching circuits 30a h to provide a proper analog level for the Black and Sync signals. OR gate 56 receives on lines 130 and 132, signals from buffer amplifiers 134 and 136, respectively, derived from level adjuster circuit 138 upon receipt of a White command. Thus, upon the appearance of a White signal, an analog signal producing a total White output is provided by current switching circuits 30a h. The White command output from buffer amplifier 134 also provides one input to set and reset OR gates 140 and 142. OR gate 142 provides Set and Reset signals on lines 144 and 146 to register stages 22a d and buffer stages 24a d, respectively. OR gate 140 provides similar signals on lines 148 and 150 to register stages 22e h and buffer stages 24e h, respectively. The Sync signal, in addition to working through OR gate 62 and NOR gates 54, works directly through the composite control switching circuit 42, as do the composite signals denominated 10 , White, and Black. Composite control switching circuit 42 includes three current switching circuits 30i, 30j and 30k, which are identical with circuits 30a h. A 10 command after processing by level adjuster 160 and buffer amplifier 162 is fed directly to input 91 of circuit 30i which is the base of transistor 82 shown on Fig. 3. This generates an output at 92 which establishes a zero analog output voltage. A Sync signal present at the output of buffer amplifier 72, in addition to being fed to OR gate 62 is also delivered to input 91 of current switching circuit 30j which generates an output at contact 92 of the required level for a standard Sync signal. A Blank command, after being processed by level adjuster 160 and buffer amplifier 162, is delivered to input 91 of switching circuit 30h which generates an output at contact 92 and provides for the blanking of the analog output signal. The proper bias for operating the switching circuits 30a k is provided through emitter connections E1 E8 to set the proper switching levels. The contacts C1 C8 are interconnected with the R2R voltage divider 34, Fig. 4. To conserve contacts, connector C7 and C8 have been connected to the same contact. Each of the resistors 200, 202, 204, 206, 208 and 210 are 75 ohms, while resistors 212, 214, 216, 218, 220 and 222 are 37 1 2 ohms, or any other value required by the output match, or roughly half of the 75 ohms value. With this network, the output of each current switching circuit 30a through 30h is equal and yet produces a different voltage dependent upon the bit position of the particular bit served and the entire network provides an analog output which is matched to a 75 ohm impedance line.