# APPARATUS FOR INCREASING THE SWITCHING SPEED OF DIODES

## Claims
Vorrichtung zur Beschleunigung der Schaltgeschwindigkeit einer Diode 107 mit einer Anode, einer Katode und einer Sperrschichtspannung, die der Betrag ist,um welchen ihre Anode positiver als ihre Katode ist, wenn sie sich im Zustand EIN befindet, enthaltend einen ersten Schaltkreis 110 , der auf ein erstes Signal anspricht, das angibt, ob die Diode ein oder ausgeschaltet werden soll, wobei der erste Schaltkreis an seinem Ausgang eine erste Spannung abgibt, die plus der halben Sperrspannung ist, wenn das erste Signal EIN angibt, bzw. minus der halben Sperrspannung ist, wenn das erste Signal AUS angibt einen zweiten Schaltkreis 109 mit einem mit der Katode verbundenen Eingang zwecks Abgabe einer zweiten Spannung, die um die halbe Sperrschichtspannung größer als die an der Katode erscheinende Spannung ist, an seinem Ausgang und eine mit der Anode verbundene Summierschaltung 112 zur Addition der ersten Spannung und der zweiten Spannung unter Erzeugung einer Summe und zum Anlegen dieser Summe an die Anode.

## Description
The invention relates to diodes, particularly to diodes employed as on off switches for selectively completing current paths, and more particularly to increasing the switching speeds of the diodes. The apparatus may be used in servosystems, particularly to Type II phase locked loops, and more particularly to charge pumps for use in Type II phase locked loops. Charge Pump Phase Lock Loops, Floyd M. Gardner, IEEE Transactions on Communications, Vol.COM 28, No. 11, November 1980, p. 1849 et seq., IEEE publication number 0090 6778 80 1100 1849. Hereinafter Gardner . The prior art also includes the following United States Patents 4,518,921 3,339,693 2,657,318 3,518,659 and 3,710,140. The present invention is defined in the independent claims to which reference should now be made. The invention will be described by way of example with reference to the drawings, in which Figure 1 shows a phase locked loop of the prior art. VCO voltage controlled oscillator 1 produces a CLOCK signal which is periodic at a frequency proportional to the voltage at the input of VCO 1 the control voltage . The CLOCK signal is fed back as an input to phase comparator 2, along with a DATA signal with which it is desired to synchronize the frequency and phase of the CLOCK signal. The output of phase comparator 2 consists of two non congruent digital signals PUMP UP and PUMP DOWN. If the DATA and CLOCK signals are synchronized, the UP and DOWN signals are of equal duration otherwise, there will be a difference in their length proportional to the difference in phase between the DATA and CLOCK signals. The PUMP UP command causes switch 5 to close, allowing current to flow from UP current source 4 to charge integrating capacitor 3. Similarly, the PUMP DOWN command closes switch 7, allowing current to flow from DOWN current source 6, discharging capacitor 3. It is apparent that capacitor 3 integrates the two currents since they flow in opposite directions relative to capacitor 3, the integral will be zero if the two currents were of the same duration assuming the two currents to have the same magnitude and transient characteristics . If they were not of the same duration, the integral would be non zero, effecting a change in the voltage to which capacitor 3 is charged. The voltage on capacitor 3, as filtered by loop filter 8, is the control voltage. Loop filter 8 employs control theory considerations to form VCO 1 s control voltage from the voltage on capacitor 3, thus providing loop stability. See Gardner. Thus, phase differences detected by phase comparator 2 are used to alter the control voltage in a manner that alters the frequency of the CLOCK signal so as to compensate for those phase differences. Ideally, when the DATA and CLOCK signals are perfectly synchronized, the steady state error should be zero i.e., the voltage across integrating capacitor 3 should not change. That is to say that the integral of the UP current should be precisely equal to minus the integral of the DOWN current. This is difficult to achieve in the prior art since, as previously discussed, there are two current sources and two separate switching paths implemented in different types of semiconductors, and so a precise match of current amplitudes and transient characteristics is precluded. The circuitry of Figure 2 overcomes these drawbacks by providing a current pump consisting of a single current source and identical switching paths. It can be implemented using only one type of semiconductor. In Figure 2 VCO1 and phase comparator 2 may be as in the prior art. Integrating capacitor 3 is connected across a bridge, each leg of which contains a switch. The PUMP UP command causes switches 10 and 13 to close, completing a current path for current determined by current source 14 to flow in such direction as to charge capacitor 3. The PUMP DOWN command closes switches 11 and 12, completing the path for the source current to flow in such a direction as to discharge capacitor 3. Loop filter 15 is functionally equivalent to loop filter 8 of the prior art except for having differential instead of single ended input, with integrating capacitor 3 connected across that differential input. The difficulties of matching the characteristics of two current sources are eliminated by providing a single current source for both the PUMP UP and PUMP DOWN currents. Difficulties of matching the transient responses of differer switching paths are minimized by providing switches that all must pass current in the same direction they can thus be identical and constructed of the same semiconductor types. Means are provided for controlling the biasing voltages on switching diodes so as to minimize their switching times. Figure 3 is a block diagram of the improved charge pump incorporating apparatus for increasing the switching speed of diodes embodying the present invention. Current source 14 and capacitor 3 both appear in Figure 3. Current switches 12 and 13 of Figure 2 are expanded in Figure 3 to exclusive OR switch 100 comprising transistors 101 through 106. Up switch 12 is expanded to transistors 102 and 105, while down switch 13 is expanded to transistors 104 and 106. Transistors 101 and 103 are provided to sink the source current to ground when neither up nor down current is called for, thus keeping a constant load on current source 14. The function of voltage switches 10 and 11 of Figure 2 is performed by clamping diodes 107 and 108. Amplifiers 110 and 111, summers 112 and 113, and differential buffer 109 are provided to actuate and speed up clamping diodes 107 and 108, as will be described below. Delays 114 and 115 are provided to ensure that the exclusive OR current switch does not respond to the UP and DN commands until clamping diodes 107 and 108 have stabilized in their responses. Buffers 116 and 117 provide signals of the proper polarity to actuate the exclusive OR current switch. If capacitor 3 is to be pumped up , the voltage source for current source 14 switched through the exclusive OR current switch to be described below will be through clamping diode 107. If capacitor 3 is to be pumped down , the voltage source will be through clamping diode 108. To minimize the slewing time of clamping diodes 107 and 108, the voltage shifts they undergo are just sufficient to forward or back bias them as needed. Amplifiers 110 and 111 output V1 and V2 respectively, which can take values of either zero volts, one half Vd the diode junction voltage , or minus one half Vd, depending on the states of the UP and DN inputs, as summarized in Table 1. Differential buffer 109 keeps the same voltage difference between its two output lines as exists between its two input lines, but shifts the voltage reference so that the output lines are more positive than the input lines by an amount equal to Vd 2, where Vd is the junction voltage of diodes 107 and 108. Since the differential buffer 109 inputs are connected across capacitor 3, the voltage across which is Vc, the outputs are separated by a potential equal to Vc. Since capacitor 3 is used differentially and does not have either of its terminals referenced to ground, the voltage across it is said to be referenced to Vbias . If capacitor 3, having capacitance C , were replaced by two capacitors in series, each having capacitance 2C, Vbias would be the voltage appearing between the two capacitors. The value of Vbias is determined within differential buffer 109 its value is not critical to the operation of the charge pump. V5, the voltage on capacitor 3 s positive terminal, then has a value of Vbias Vc 2 similarly, V6, the voltage on its negative terminal, has a value of Vbias Vc 2. Regarding the outputs of differential buffer 109, then, V7 s value is Vbias Vc 2 Vd 2 V8 s value is Vbias Vc 2 Vd 2. See Table 1. Summer 112 adds V1 and V7 to produce V3 summer 113 adds V2 and V8 to produce V4. See Table 1. Figure 4, which depicts certain timing waveforms within the circuit, should now be consulted along with Figure 3 and Table 1. Prior to time t1, the UP and DN commands are both false, and therefore V1 and V2 both have values of zero volts. V4 is thus equal to V8, which in turn is greater by Vd 2 than V6. Diode 108 s anode voltage V4 , then, is greater than its cathode voltage V6 by half its junction voltage. This is not sufficient to forward bias diode 108 the anode voltage must be greater than the cathode voltage by at least the full junction voltage for forward biasing to occur. By similar analysis, diode 107 is also back biased at this time. It is thus shown that the voltage clamping switches are, in effect, open when the UP and DN commands are both false. By similar reasoning, they would also both be open if UP and DN were both true, although this condition is not permitted to occur in the present embodiment. Referring to Figure 4, the UP command is assumed to become true at time t1. V1 then takes a value of Vd 2. Summer 112 adds this to V3, which increases diode 107 s anode voltage V3 to a value which is greater than the cathode voltage V6 by Vd, the junction voltage. This is sufficient to forward bias diode 107. At the same time, V2 goes to Vd 2. Summer 111 adds this negative value to V4, lowering diode 108 s anode voltage and keeping it back biased. The current path is thus permissive for UP current from the XOR current switch to be discussed below to flow through capacitor 3 in such a direction as to charge it, and to flow through diode 107. As Figure 4 shows, this charging alters the magnitudes of the voltages at the circuit points being discussed. As the voltage across capacitor 3 and thus the cathode voltages of diodes 107 and 108 is slewed, differential buffer 109 adjusts the anode voltages commensurately, thus maintaining the aforementioned conditions of forward and back biasing. Referring again to Figure 4, the UP command goes false after time T, and there is then a period where UP and DN are both false. As discussed above, this results in back biasing both diode 107 and diode 108. The DN command becomes true at time t2. V1 then goes to Vd 2, and V2 goes to Vd 2. By reasoning similar to that employed in conjunction with the UP command, it is apparent that diode 107 is back biased and diode 108 is forward biased. This provides a current path for DN current from the XOR current switch to be discussed below to flow through capacitor 3 in such direction as to discharge it, and to flow through diode 108. Again, the magnitudes of the voltages at the circuit nodes being discussed slew to different values, as shown in Figure 4. Delays 114 and 115 delay the UP and DN commands to allow time for clamping diodes 107 and 108 to stabilize in the conditions described above. Since the delay times required are quite short, about 1.5 nanoseconds, delays 114 and 115 consist simply of transistor stages, the delay time being essentially the turn on time of the transistors. The delayed outputs are UP If the UP command is TRUE, the non inverted output of buffer 117 turns on transistor 105 while the inverted output turns off transistor 106. The FALSE state of UP will cause transistor 106 to be on and 105 to be off. The foregoing analysis is represented in tabular form in Table 2, showing the states of transistors 101 through 106 for the four possible states of the UP and DN commands. In view of the foregoing analyses of the voltage clamp and the exclusive OR current switch, it is apparent that the overall functional operation of Figure 3 is that summarized in Table 3. As Figure 4 shows, every occurrence of current I for duration T slews the voltage on capacitor 3 by IT C. The foregoing discussion has assumed steady state operation, i.e., that the CLOCK and DATA signals are synchronized and no adjustments are to be made in the frequency of CLOCK. As in the prior art, adjustments in the frequency of CLOCK could be made by allowing the UP current and the DOWN current to flow for differing amounts of time, resulting in slewing the voltage up by a different amount than that by which it is slewed down, effecting a net change in the capacitor voltage which in turn effects a change in VCO 1 s control voltage. When the UP and DN commands are both true or both false, the current through capacitor 3 should ideally be absolutely zero. In practice, that current will be the leakage current from the XOR current switch through diodes 107 or 108. The leakage current is extremely small, since it must flow through transistors 102 or 104 and then through diodes 107 or 108 transistors 102 and 104 are turned off at this time, and furthermore are shunted by transistors 101 and 103 respectively, one of which is turned on and conductive to ground at this time diodes 107 and 108 are back biased at this time. It is apparent that there is but one current source, which facilitates the symmetry of the up and down currents. Since current flows in the same direction in both sides of the voltage clamping network and in both sides of the exclusive OR current switch, all transistors can be NPN transistors.