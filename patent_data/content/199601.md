# CROSS POINT SWITCH ARRAY

## Claims
Koppelpunkt Schalteranordnung, die aufweist

## Description
The present invention relates generally to cross point switch arrays and to methods of operating such arrays. Cross point switch arrays have long been used in the telephone industry for the switching of voice lines. More recently, cross point switches have found increasing use in computer systems for the selective connection of data lines from one device to another. A simple cross point switch array 10, as shown in Figure 1 of the accompanying drawings, selectively connects any one of four input lines 12 to any one of four output lines 14. The cross point switch array 10 of Figure 1 is called a two sided switch because the input lines 12 have a different characteristic than the output lines 14, namely the directionality of data flow, and are located on two different sides of the cross point switch array 10. At each intersection of an input line 12 and an output line 14 there is a cross point 16 consisting of a switch 18 connected to those two input and output lines 12 and 14. In the illustrated switch 18, the conductivity of the switch 18 and hence the state of the cross point 16 is determined by a control input 20. Thus the selection of the connection between the input line 12 and the output line 14 is determined by the signals on all the control inputs 20 of the cross point array 10. The advantage of the cross point array 10 is that the interconnections between the input lines 12 and the output lines 14 can be independently controlled. Any connection is possible. In many applications, a given input line 12 is only connected to one output line 14 at any given time. In this arrangement, the cross point switch array 10 has a data bandwidth that is the product of the bandwidth either of the lines 12 and 14 or of the cross point 16 multiplied by the number of input lines 12 or of output lines 14. That is, each of the input lines 12 can simultaneously use the cross point array 10 as long as the intended output line 14 is available. In another application or mode of operation, a single input line 12 is simultaneously connected to more than one output line 14. This is called the broadcast mode. Various types of cross point switch arrays are well known in the art. In older telephone systems, the individual switches 18 were mechanical relays. More modern cross point switches use semiconductor integrated circuits for the entire cross point switch array 10, with the individual switches 18 being MOS transistors, the gate inputs of which are controlled by the control inputs 20. By the use of integrated circuits, the design and fabrication of the cross point switch array itself has become relatively easy and inexpensive. As a further result, the size of cross point switch array 10 has been greatly increased. A design for the cross point switch array 10 with 1024 input lines 12 and the same number of output lines 14 now seems reasonable. However, in such a cross point switch array, the number of switches 18 reaches 1,048,576. The switches 18 are relatively simply to build but the control of such a large number of cross points 16 presents some difficult problems. One of the difficulties is that the control of so many cross points can impose an effective data rate limitation for the cross point switch array 10. Before data can be transmitted through the cross point switch array, the controller must set the appropriate cross point 16. A single controller can only process one connection request at a time, such as in the system disclosed in US A 4,345,251. The use of multiple controllers is disclosed in EP A 141233. Although the design disclosed therein is effective at increasing the speed of the cross point controller, nonetheless, any controller takes time to respond to a request for connection. If the input line is waiting for the connection to be made in order to transmit data, then the effective data rate of the switch is reduced. This delay becomes a particular problem when the transmitted messages are relatively short so that a large number of connections need to be made. FR A 2 155 120 describes a cross point switching array which includes an array of cross points for selectively connecting together horizontal and vertical conductors H and V, an array of control elements Q each controlling a respective cross point and a control system Xjk for supplying connection signals to the control elements. The array also includes a memory system RW which stores signals for the control system. The array further includes a control circuit which tests, selects and establishes paths through a switching stage in a telephone switching system. Such a control circuit is used to operate a control element such as one of the elements Q in the array described and not to store control signals for use in a future operating function. The object of the present invention is to provide an improved cross point switch array and an improved method of controlling a cross point switch array. The present invention relates to a cross point switch array of the type comprising an array of cross points for selectively connecting each of a plurality of first lines to any of a plurality of second lines, an array of control elements, each control element controlling the connection across a respective one of the cross points in accordance with connection signals, a control system for supplying respective connection signals to the control elements in order to connect selected first lines to selected second lines in a required configuration, and a first memory means associated with each cross point for storing a current connection signal, the outputs of all the first memory means currently determining the configuration. The apparatus of the invention is characterised in that the control system comprises a second memory means associated with each first memory means for storing a future connection signal, and means for concurrently transferring the future connection signals from each second memory means to the associated first memory means so that the transferred future connection signals become current connection signals. The invention also relates to a method of controlling a cross point switch array of the type which comprises an array of cross points for selectively connecting each of a plurality of first lines to any of a plurality of second lines, and an array of control elements, each control element controlling the connection across a respective one of the cross points in accordance with connection signals. The method comprises supplying respective connection signals to the control elements in order to connect selected first lines to selected second lines in a required configuration and storing current connection signals in a first memory means associated with each cross point. The method of the invention is characterised by the steps of storing future connection signals for each cross point in a second memory means associated with each first memory means and concurrently transferring the future connection signals from the second memory means to the first memory means so that the future connection signals become current connection signals. In accordance with one embodiment of the invention the switch at each cross point is controlled by a first latch. Associated with each first latch is a second latch, the state of which is determined by the cross point control system. The contents of all second latches are concurrently transferred to the associated first latches by a single control line. Thus, the second latches can be set up for the next transmission cycle by the control system while data is continuing to flow through the cross point switch, as determined by the first latch. The transfer signal marks the end of a prior transmission period and the beginning of the next transmission period. In order that the invention may be more readily understood an embodiment will now be described with reference to the accompanying drawings, in which The invention can be visualised, as shown in Figure 2, as an array of memory control elements in parallel with the usual cross point switch array. The switching plane is a cross point array 10, of the type previously described with reference to Figure 1. The individual control lines for all the individual switches 18 are connected to respective memory elements 22 arranged in a middle plane 24 and forming part of a control system. The memory elements 22 store a 1 when the switch 18 that it controls is conducting and store a 0 when the associated switch 18 is non conducting. Each of the memory elements 22 will keep the associated switch 18 turned on for the duration of a data transmission period. US A 4,068,215 discloses separate latches controlling every cross point in an array. US A 3,473,160 discloses a shift register controlling the separate elements in a cellular logic array. The memory elements 22 are set to values indicated by associated latches 26 in an upper plane 28 also forming part of the control system. The values contained in these latches 26 are individually controlled by a controller 30. In the preferred embodiment, the controller 30 sets the latches 26 one by one. Several or all of the latches 26 can be set to new values by the controller 30 before the controller 30 activates a memory latch control line 32 connected to all the memory elements 22. The activation of the memory latch control line 32 causes the contents of all the latches 26 to be concurrently transferred to the associated memory elements 22. By the use of the structure illustrated in Fig. 2, the controller 30 can be setting the latches 26 for the configuration of the cross point switch 10 to be used in the next period of data transmission while data continues to be transmitted over the cross point array 10 in the current data transmission period according to the current states of the memory elements 22. A subsequent single signal on the memory latch control line 32 will then produce the required reconfiguration of the cross point array 10. US A 4,134,132 discloses a two dimensional multi shade video display in which each point of the two dimensional raster has an analog storage element. The video signal is deserialised into a one dimensional array of analog storage elements. The contents of the one dimensional array are supplied in parallel to the storage elements in a selected row of the two dimensional raster. The multi plane cross point switch array structure of Figure 2, although conceptually simple, is difficult to implement in semiconductor technology and also neglects much important detail in a switching system. A more realistic structure is shown in Figure 3. Each of the input lines 12 is connected to a switch matrix 34 through a respective switch adaptor 36. The switch adaptors 36 are used to separate control information from data in the signal train received on the input lines 12. The data is routed through the switch matrix 34 while the control information is sent to a switch controller 38. The switch controller 38 controls the switch matrix 34 by five sets of signals. The multi bit XX and YY signals are addresses for the desired cross point in the switch matrix 34. For instance, the XX signal address could be the numerical designation of the input line 12 associated with the cross point while the YY signal address could be the numerical designation of the required output line 14. The remaining signals are the data signal DATA, the load latch signal LL and the load mark signal LM, to be described later. Further details of the switch matrix 34 are shown in Figure 4. An X decoder 40 receives the XX signal address and, based upon its value, selects one of four rows in an array of control elements 42 by an active X signal on a respective row line 43. Similarly, a Y decoder 44 receives the YY signal address and selects one of four columns in the array of control elements 42 by an active Y signal on a respective column line 45. The data signal DATA, the load latch signal LL and the load mark signal LM are identically connected to all the control elements 42. One control element 42 is shown in more detail in Figure 5. The X and Y signals on the row line 43 from the X decoder 40 and on the column line 45 from the Y decoder 44, respectively, depending on in which row and column of the array the control element 42 is located, are used as inputs to an AND gate 46. Thus, only when the XX and the YY signals indicate that this particular control element 42 is selected, resulting in high X and Y signals, does the output of the AND gate 46 assume a high value. The AND gate output is used as an enable input EN into a first latch 48. The data input D of the first latch 48 is connected to the data signal DATA line. The load latch signal LL line is connected to the clock input of the first latch 48. Whenever the output of the AND gate 46 is high, indicating that this control element 42 is being addressed, the value of the data signal DATA is latched into the first latch 48 on the upward transition of the load latch signal LL. In order to load a setting into the first latch 48 of a selected control element 42, the controller 38 sets the data signal DATA to the desired value and sets the XX and YY address signals that select the particular control element 42 by high X and Y signals. Then the load latch signal LL clocks the data signal DATA only into the selected control element 42. The output Q of the first latch 48 is connected to the data input D of a second latch 50. The latch control or clock input of the second latch 50 is controlled by the load mark signal LM. Whenever the load mark signal LM transitions high, the value in the first latch 48 is latched into the second latch 50. There is no address selection for the latching of the second latch 50 so that all control elements 42 simultaneously undergo this same latching, although for the different values held in the respective first latches 48. The output Q of the second latch is connected to the control input 20 of the individual switch 18 that is associated with that particular control element 42. Thus the value in the second latch 50 controls whether the individual switch 18 is conducting or non conducting, that is, whether the associated cross point 16 is connected or disconnected. The first latch 48 corresponds to one of the latches 26 in the upper plane 28, shown in Figure 2, while the second latch 50 corresponds to one of the memories 22 in the middle plane 24. The control element 42 in Figure 5 is for an unclocked system that relies upon the load latch signal LL for the exact latching time. A clocked configuration for the first latch 48 is shown in Figure 6 in which a system clock signal CLOCK line is connected to the clock input of the first latch 48. The output of an AND gate 47, which receives the X and Y signals and the load latch signal LL, is connected to the enable input EN of the first latch 48. Prior to the upward transition of the clock signal CLOCK, the load latch signal LL is set and the X and Y signals select the particular first latch 48. Then, when the clock signal CLOCK makes its upward transition, the data signal DATA is latched into the first latch 48. A similar configuration can be used for the second latch 50 with the clock signal CLOCK line connected to the clock input and the load mark signal LM connected to the enable input. A logic gate level implementation of the first and second latches 48 and 50 is shown in Figure 7 which illustrates a functional equivalent of the unclocked control element 42 of Figure 5. The inputs and outputs remain the same. An inverter 51 provides a complementary version of the data signal DATA. Two NAND gates 52 and 54 combine the select signal from the AND gate 46 with the true and complementary versions respectively of the data signal DATA. The outputs of the NAND gates 52 and 54 are fed respectively to two more NAND gates 56 and 58 connected in a cross coupled configuration. Whenever the AND gate 47 is selected by the X and Y signals and enabled by the load latch signal LL, the cross coupled NAND gates 56 and 58 are latched to the value of the data signal DATA. The respective outputs Yet another implementation for the control element 42 is shown at the transistor level at Figure 8. This is a dynamic system requiring coordination of the control signals, as shown in the timing diagram of Figure 9. If the represented control element 42 is selected by the XX and YY address signals, the high load latch signal LL causes an AND gate 70 receiving the X, Y and LL signals to go high, thus rendering conductive a transistor 72. The conductive transistor 72 then passes the data signal DATA to an internal line 74 controlling the gate of a first latch transistor 76. A first load transistor 78 is connected in series with the first latch transistor 76 between the power supply and ground. A high signal on the internal line 74 produces a low signal on a first latch output line 80 connected between the first latch transistor 76 and the first load transistor 78. Similarly, a low signal on the internal line 74 produces a high signal on the first latch output line 80. The internal line 74 and the gate of the first latch transistor 76 have a substantial capacitance. Therefore, this capacitance will hold whatever data signal DATA has been impressed thereupon even after the load latch transistor 72 has been turned off. Nonetheless, this capacitance is leaky and cannot be used for a storage time longer than a time t. In a similar manner, several first latches 48 can be loaded with different data signals DATA by the sequencing of the address signals XX and YY within the maximum time t. Subsequently, the load mark signal LM is applied to the gate of a load mark transistor 82 that then passes the signal latched on the first latch output line 80 to a second latch transistor 84 and a second load transistor 86, similar to the first latch and load transistors 76 and 78. The control input line 20 of the associated cross point switch 18 is connected between the second latch transistor 24 and the second load transistor 86 and carries a signal CROSS POINT. The upward transition of the load mark signal LM marks all cross points concurrently and the marking is maintained even after the removal of the load mark signal LM. However, because of the dynamic nature of the second latch 50, no more than the maximum storage time t should pass between successive markings of all cross points. It is believed that a cross point switch array in accordance with the invention is particularly useful in the situation in which occasionally one device broadcasts short messages to several other devices. The regular data flow can continue through the cross point switch array while the controller is setting up the future connections for the broadcast. Then, upon issuance of the load mark signal LM, all the required connections are immediately made. Thus the regular data flow is not interrupted by the necessity to set multiple cross points for the broadcast.