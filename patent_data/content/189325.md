# PICTURE INFORMATION PROCESSING SYSTEM

## Claims
Bildinformationsverarbeitungssystem für einen Drucker, der imstande ist, den Druckbereich eines Punktes zu steuern,

## Description
The present invention generally relates to picture information processing systems, and more particularly to a picture information processing system which processes a picture information so that oblique lines and the like in a picture will not be printed as unnaturally looking staircase lines but will be smoothed and printed as smooth lines. Conventionally, there is a known picture information processing system for processing a picture information so that the picture information can be printed in the form of a dot matrix. However, when the picture information which is processed in the conventional picture information processing system is printed by use of an output device such as a printer, a straight oblique line in a picture, for example, will actually be printed as an unnaturally looking staircase line. Hence, in the case where the resolution of the output device is poor, the printed picture will look unnatural. Accordingly, in another conventional picture information processing system, picture elements constituting the picture are respectively divided into a 3 x 3 dot matrix, for example, and processed. In this case, data of the nine dots making up one picture element are respectively corrected depending on data of the picture elements surrounding the one picture element. In other words, the nine dots making up the one picture element are selectively printed depending on the data of the picture elements surrounding the one picture element so that even a straight oblique line in the picture, for example, is printed as a smooth straight line. According to this other conventional picture information processing system, the oblique line in the picture is smoothed to a certain extent and printed as a more naturally looking line. However, compared to the case where one picture element is printed by use of one dot, nine dots are used in the above example to print one picture element. Thus, in the above example, it becomes necessary to employ an output device having a resolution which is three times the resolution required to print the one picture element by use of one dot. As a result, the circuit construction of a circuit which processes the picture information becomes complex, and there is a problem in that an expensive output device having a high resolution must be employed. EP A 0 075 470 discloses an electronic image processing system containing a look up table in a read only memory for making threshold decisions. Shift registers are used to convert a digital picture element input including the picture element to be processed to an address for the look up table. The look up table provides a threshold value for the picture element being processed. The picture elements have values which represent a grey scale ranging from black to white. According to the invention, there is provided a picture information processing system as defined in the appended Claim 1. Preferred embodiments of the invention are defined in the other appended claims. It is thus possible to provide a picture information processing system which processes a picture information so that a printing area of each of dots constituting a picture is variably set depending on printing areas of the dots surrounding each dot. Thus, even an oblique line in the picture, for example, can be smoothened and printed as a smooth naturally looking line. In addition, in the case where an output device having the same resolution as that of an output device employed with a conventional picture information processing system is employed, it is possible to obtain a picture which looks extremely smooth and natural compared to the picture obtained in the conventional case. In other words, it is possible to print a satisfactory picture which does not look unnatural, without employing an output device having a high resolution. In such a case where an output device not having a high resolution is employed, the circuit construction of a circuit which processes the picture information becomes simple. It is also possible to provide a picture information processing system which comprises memory means for prestoring an optimum printing area of a dot for each of dot patterns. The optimum printing area of one dot is obtained depending on printing areas of the dots surrounding the one dot, and the optimum printing area is obtained for each of the dot patterns which are formed by the one and the surrounding dots. The optimum printing area of the one dot is read out from the memory means depending on the dot pattern formed by the one and the surrounding dots. Hence, it is possible to print a satisfactory picture which does not look unnatural by use of a circuit having a simple circuit construction. The present invention will be further described, by way of example, with reference to the accompanying drawings, in which FIG.1A shows a part of a picture which is to be printed, and in FIG.1A, picture elements dots A through X which constitute a part of the picture are represented by square blocks for convenience sake. FIG.1B shows an example of the dots which are to be printed in correspondence with FIG.1A, and in FIG.1B, the dots which are to be printed are represented by 1 and the dots which are not to be printed are represented by 0 . When it is assumed that the printing areas of the dots which are to be printed are constant, an unwanted gap may be formed between adjacent dots, and moreover, an oblique line in the picture will be printed as an unnaturally looking staircase line. As a result, the printed picture will look unnatural. Thus, in the picture information processing system according to the present invention, the printing area of each dot is variably set depending on a dot pattern which is formed by each dot and the dots surrounding each dot. The present inventor obtained by simulations performed on a simulator how the area of a center dot should be set depending on the dot pattern which is formed by the center and the surrounding dots. When it is assumed for convenience sake that each dot has one of four possible printing areas which are a large area, a medium area, a small area, and zero, it was found by the simulation that an oblique line in the picture is smoothened and a naturally looking printed picture is obtainable when a center dot in a dot pattern shown in FIG.2A has the small printing area. In the case of a dot pattern shown in FIG.2B, it was found that an unwanted gap will not be formed between adjacent dots and a naturally looking printed picture is obtainable when the center dot has the medium printing area. In addition, in the case of a dot pattern shown in FIG.2C, it was found that a naturally looking printed picture is obtainable when the center dot has the large printing area. Similarly, an optimum printing area of the center dot was obtained for all of the dot patterns. Next, description will be given with respect to the pitch interval and the radius of the dots. Paying attention to the dots F, K, and O in FIG.1A, it is seen from FIG.1B that a part connecting the dots F and O is important in smoothening the oblique line in the printed picture. A printing radius r As shown in FIG.3, in order to smoothen the connection between the dots F and O and the connection between the dots K and O, a common tangent ℓ Because r Further, a medium radius r From the above equation 3 , Therefore, it is seen that a ratio of the dot radii r As described heretofore, the printing area of each dot is set to the optimum printing area depending on the printing areas of the dots surrounding each dot. Hence, the dots shown in FIG.1B are printed with the printing areas shown in FIG.1C, for example, where 3 , 2 , 1 , and 0 in FIG.1C respectively represent the large, medium, small, and zero printing areas that is, the dot radii are r Accordingly, even the data which are printed as shown in FIG.5A when the dots are all printed with the same printing area, are printed as shown in FIG.5B by processing the picture information according to the picture information processing system of the present invention. As may be seen by comparing FIGS.5A and 5B, the printing area of each dot is controlled depending on the areas of the dots surrounding each dot so that the connection of the dots is smoothened. Next, description will be given with respect to an embodiment of the picture information processing system according to the present invention by referring to a block system shown in FIG.6. A composite video signal is applied to an input terminal 10 and is supplied to a synchronizing signal separating circuit 11. The synchronizing signal separating circuit 11 has a known circuit construction. The synchronizing signal separating circuit 11 separates horizontal and vertical synchronizing signals from the composite video signal and also generates a predetermined clock signal based on the separated synchronizing signals. An output video signal of the synchronizing signal separating circuit 11 is supplied to an analog to digital A D converting circuit 12 and is converted into a digital video signal which describes the picture information in a binary format. The output digital video signal of the A D converting circuit 12 is supplied to a picture information memory 13, and the memory 13 stores the picture information corresponding to one picture, for example. On the other hand, the horizontal and vertical synchronizing signals and the clock signal from the synchronizing signal separating circuit 11 are supplied to an address generating circuit 14. A pulse generating circuit 15 generates a first clock pulse and supplies the first clock pulse to a shift register circuit 16 and a frequency divider 17. The frequency divider 17 produces a second clock pulse by frequency dividing the first clock pulse, and this second clock pulse is supplied to the shift register circuit 16, the address generating circuit 14, and a printer 19 which will be described later on in the specification. A page synchronizing signal and a line synchronizing signal from the printer 19 are also supplied to the address generating circuit 14. Hence, based on the horizontal and vertical synchronizing signals and the clock signal, the address generating circuit 14 successively generates write in addresses for writing into the memory 13 the picture information corresponding to one picture, for example. On the other hand, based on the page and line synchronizing signals and the second clock pulse, the address generating circuit 15 successively generates read out addresses for reading out from the memory 13 a datum of one dot and data of the dots surrounding the one dot. As a result, the data of the dots A, B, C, E, F, G, I, J, and K shown in FIG.1A are successively read out from the memory 13, for example, and are supplied to the shift register circuit 16. The shift register circuit 16 supplies the data from the memory 13 to a memory 18 as a parallel datum constituted by the data of the one and the surrounding dots. The memory 18 pre stores therein in the form of a table the optimum printing areas of the dots which are dependent on the dot patterns and are obtained by the simulation and the calculation described before. Thus, a printing datum in the table within the memory 18 is read out from the memory 18 according to the output parallel datum of the shift register circuit 16 describing the dot pattern, and the read out printing datum is supplied to the printer 19. The printer 19 prints the dot with the printing area described by the printing datum read out from the memory 18, with a timing determined by the output second clock pulse of the frequency divider 17. A known printer may be used for the printer 19. The printer 19 needs to have such a construction that the printing area of the dot can be controlled, that is, the printing density of the dot can be controlled. For example, a themal printer disclosed in a United States Patent No.4,536,771 may be used for the printer 19. However, the printer 19 is not limited to the thermal printer, and other types of printers may be used. FIG.7 shows a concrete embodiment of an essential part of the block system shown in FIG.6. In FIG.7, those parts which are the same as those corresponding parts in FIG.6 are designated by the same reference numerals. The memory 13 comprises random access memories RAMs 27 and 29 and a latch circuit 28. The address generating circuit 14 comprises counters 31 and 33, a data selector 32, and NAND circuits 34 and 35. The shift register circuit 16 comprises shift registers 37 and 38 and a latch circuit 39. A read only memory ROM 18a is used for the memory 18. For convenience sake, it will be assumed that the printing area of one dot is determined by a 3 x 3 dot pattern and that the printing area of the dot is one of four kinds of printing areas which are large, medium, small, and zero. A 1 bit digital dot datum from the A D converter 12 is applied in series to an input terminal 21. A read write signal which indicates whether the dot datum is to be read out or written is applied to an input terminal 22. The clock signal and the horizontal and and vertical synchronizing signals from the synchronizing signal separating circuit 11 are respectively applied to input terminals 23 through 25. When writing in the dot datum, the data selector 32 selectively supplies to the counter 31 the signals from the input terminals 23 through 25 responsive to the read write signal. An inverted signal of the read write signal and the clock signal from the input terminal 23 are supplied to the NAND circuit 34, and an output signal of the NAND circuit 34 is supplied to a write enable terminal On the other hand, when reading out the dot datum, the data selector 32 selectively supplies to the counter 31 the second clock pulse from the frequency divider 17 and the page and line synchronizing signals from the printer 19 responsive to the read write signal. In the present embodiment, the frequency divider 17 frequency divides the first clock pulse from the pulse generating circuit 15 by 1 3 and produces the second clock pulse. The counter 31 supplies to the address terminal ADDR of the RAM 27 an address signal which is in synchronism with the second clock pulse and designates the read out address, and the dot datum read out from the designated read out address within the RAM 27 is supplied to a first bit input terminal D1 of the latch circuit 28. In this state, the second clock pulse is supplied to a clock terminal CLK of the latch circuit 28, and a datum from a first bit output terminal Q1 of the latch circuit 28 is supplied to a first bit input terminal I1 of the RAM 29 and the shift register 37. In addition, the counter 33 is supplied with the second clock pulse and the line synchronizing signal, and supplies to an address terminal ADDR of the RAM 29 an address signal which designates an address within the RAM 29. The NAND circuit 35 is supplied with the read write signal and the second clock pulse, and an output signal of the NAND circuit 35 is supplied to a write enable terminal In the case where the datum obtained from the first bit output terminal Q1 of the latch circuit 28 is the datum d The shift register 37 is supplied with the second clock pulse to a load terminal LD thereof and is supplied with the first clock pulse to a clock terminal CLK thereof. As a result, the shift register 37 converts the 3 bit parallel datum from the latch circuit 28 into 1 bit serial data and supplies the 1 bit serial data to the shift register 38. The shift register 38 is supplied with the first clock pulse to a clock terminal CLK thereof, and hence produces a 9 bit parallel datum related to one dot and the eight surrounding dots. For example, the 9 bit parallel datum is made up of the data d The ROM 18a pre stores therein in the form of a table the optimum printing areas of the dots which are dependent on the dot patterns and are obtained by the simulation and the calculation described before. In other words, the table contains the optimum printing area of the center dot in the dot pattern for all of the dot patterns. An embodiment of the contents of a ROM table the table pre stored in the ROM 18a for the present embodiment is shown in FIG.8. In FIG.8, access is made to the ROM table by designating a table address described by a₁ through a₉. In the case where the center dot is the dot F shown in FIG.1A, the table address is designated by the data d Similarly, when the center dot is the dot J shown in FIG.1A, the table address d In the embodiments described heretofore, it is assumed that the printing area of one dot is determined by the 3 x 3 dot pattern which is formed by the one dot and the eight surrounding dots. However, the printing area of one dot may be determined by an m x n dot pattern such as 3 x 5 and 5 x 5 dot patterns, where m and n are odd numbers. In addition, more than four kinds of printing areas may be used for printing the dots. In this case, it is possible to further improve the smoothness with which the oblique lines in the picture are printed. According to the picture information processing system of the present invention, in the case where an output device having the same resolution as that of an output device employed in a conventional picture information processing system is employed, it is possible to obtain a picture which looks extremely smooth and natural compared to the picture obtained in the conventional case. In the embodiments described before, the picture elements constituting one picture are respectively printed by use of one dot. However, the present invention is also applicable to a system which divides one picture element into a matrix of a plurality of dots and describes one picture element by the dot matrix. For example, in the case where one picture element is to be divided into a 3 x 3 dot matrix and processed, the picture elements shown in FIG.1A are respectively divided into the 3 x 3 dot matrix and printed as shown in part in FIG.9. In this case, the picture element J is described and printed by dots J1 through J9. Hence, by determining the optimum printing area of the dot J5 according to the dot pattern formed by the dots J1 through J9 in a manner similar to that described before, each dot can be printed with the optimum printing area. In this case, a printer having a relatively high resolution is required, but on the other hand, it is possible to obtain a printed picture in which the oblique lines are extremely well smoothened.