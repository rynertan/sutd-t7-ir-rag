# Electronic data memorising circuit in a domestic electrical appliance.

## Abstract
The present invention relates to a circuit for memorising in digital form in an electronic memory data relative to an operating programme of a household appliance, in particular, a washing machine, comprising a processing unit which pro vides for memorising the said data a number of times in the memory during the operating programme and calling it up whenever power is restored to the said processing unit after a manual or accidental power cut besides the said data, control data is also memorised to enable the processing unit to check whether the called up data is correct if power is cut off manu ally, the content of the memory is cleared whereas it is pre served if power is cut off accidentally when power is restored, the processing unit provides for continuing the interrupted programme if the called up data is found to be correct and for switching the appliance back to its initial condi tion if it is found to be incorrect.

## Claims
CLAIMS 1. Circuit for memorising in digital form in an electronic memory data relative to an operating programme of a household appliance, in particular, a washing machine, comprising an on off switch for turning the appliance on and off, a power supply unit, connected to the household electricity mains via the said switch and supplying, among other things, a processing unit which receives input signals and supplies output signals, and an electronic memory, connected to the said control unit, capable of preserving data in digital form even in the event of a power cut on the said household electricy mains so that, in the event of a mains power cut during a selected operating programme, when power is restored, the appliance is able to continue the said programme more or less from where it was left off whereas, if the appliance is switched off manually during the programme by means of the said switch and then turned on again, the appliance does not take up the programme from where it was left off but starts again from the beginning, characterised by the fact that means are provided for reading the data contained in the said electronic memory when the appliance is started up again and for determining, on the basis of the said data, whether the programme is to be continued or started again from the beginning. 2. Circuit according to Claim 1, characterised by the fact that the said processing unit provides a number of times during the programme for memorising in the said memory data relative to the type of programme selected, progress of the same and also control data and for calling up data from the memory and checking if it is correct by means of the said control data whenever the supply unit is supplied with energy. 3. Circuit according to Claim 2, characterised by the fact that the control data consists of complements of a preset information data number. 4. Circuit for memorising in digital form in an electronic memory data relative to an operating programme of a household appliance, in particular, a washing machine, comprising an on off switch for turning the appliance on and off, a power supply unit, connected to the household electricity mains via the said switch and supplying, among other things, a processing unit which receives input signals and supplies output signals, and an electronic memory, connected to the said control unit, capable of preserving data in digital form even in the event of a power cut on the said household electricity mains so that, in the event of a mains power cut during a selected operating programme, when power is restored, the appliance is able to continue the said programme more or less from where it was left off whereas, if the appliance is switched off manually during the programme by means of the said switch and then turned on again, the appliance does not take up the programme from where it was left off but starts again from the beginning, characterised by the fact that the content of the said electronic memory it is modified when the appliance is turned off by the said switch. 5. Circuit according to Claim 4, characterised by the fact that the said electronic memory is a volatile type supplied during the mains power cut by an auxiliary battery and that the said on off switch comprises a section which disconnects the said battery from the said memory when the machine is turned off. 6. Memorisation circuit as described and shown on the attached drawing.

## Description
Electronic Data Memorizing Circuit on a household appliance The present invention relates to a circuit for memorizing in digital form in an electronic memory data relative to an operating programme of a household appliance, in particular, a washing machine, comprising an on off switch for turning the appliance on and off, a power supply unit, connected to the household electricity mains via the said switch and supplying, among other things, a processing unit which receives input signals and supplies output signals, and an electronic memory, connected to the said control unit, capable of preserving data in digital form even in the event of a power cut on the said household electricity mains so that, in the event of a mains power cut during a selected operating programme, when power is restored, the appliance is able to continue the said programme more br less from where it was left off whereas, if the appliance is switched off manually during the programme by means of the said switch and then turned on again, the appliance does not take up the programme from where it was left off but starts again from the beginning. Up to now, so called automatic household appliances clothes and dish washing machines, ovens, etc. have always been fitted mainly with mechanical or electromechanical timers for which the problem does not exist of memorising data relative to the programme being performed or progress of the same in the event of an accidental power cut on the house hold mains. These mechanical timers are now being replaced by electronic devices usually comprising a processing unit microprocessor , a fixed operating programme memory ROM and a read write memory RAM for memorizing the data already mentioned. Electronic devices have a greater processing capacity than their e ectromechanical counterparts which means they can perform more sophisticated programmes, be con trowed automatically, indicate various operating defects and so on. One problem exists, however, as regards data memorisation. The memory must be capable of preservinp, data in the event of an accidental power cut on the mains. Two solutions are available volatile memory with an auxiliary supply battery, non volatil memory.In both cases, it is desirable for the programme to be taken up more or less from where it was left off in the event of an accidental power cut for the machine to forget the programme it was per forming and start again from the beginning if It is turned off manually by the operator before the pro gramme has been finished, This enables the operator to reselect the programme if a wrong one is started.For this purpose, it is common practice to fit the on off switch with a second section and to interlock this second section with continuation of the interrupted programme or resetting to the starting point of the programme.Electronic processing devices microprocessors are usually fitted with a special circuit, known as an ONRESET circuit, for starting them again from a present condition when supply is restored after a power cut. When power is restored, a check can then be made to ascertain whether the on off switch is closed or open and whether the programme is to be continued or not.To ensure smooth operation of this system, the on off switch must have two sections one which closes immediately and supplies the processing unit and the other which closes after a delay and whose condition is checked by ,the processing unit which, if it finds it open, starts the machine up again from the beginning.This system is critical and demands a special switch.the aim of the present invention is to provide a simple, reliable circuit with the above performance.With this aim in view, the present invention relates to a circuit for memorising in digital form in an electronic memory data relative to an operating programme of a household appliance, in particular, a washing machine, comprising an on off switch for turning the appliance on and off, a power supply unit, connected to the household electricity means via the said switch and supplying, among other things, a processing unit which receives input signals and supplies output signals, and an electronic memory, connected to the said control unit, capable of prcZserving data in digital form even in the event of a power cut on the said household electricity mains so that in the event of a mains power cut during a selected operating programme, when power is restored, the appliance is able to continue the said programme more or less from where it was left off whereas, if the appliance is switched off manually during the programme by means of the said switch and then turned on again, the appliance does not take up the programme from where it was left off but starts again from the beginning, characterised by the fact that means are provided for reading the data contained in the said electronic memory when the appliance is started up again and for determining, on the basis of the said data, whether the programme is to be continued or started again from the beginning.The invention will now be described in detail with re fernce to the attached drawing provided by way of a non limiting example.The attached drawing shows a block diagram of a memory circuit according to the present invention.The letter L represents the power supply line household mains , T the on off switch on the machine e.g. washing machine , and S a power unit for supplying processing unit PU and a number of other possible circuits not shown electromechanical actuators, etc. . Unit S is also connected via diode D and resistor R to battery B. The voltage of batter B is lower than that supplied by unit S. For example, the battery voltage may be 2.4V 2 rechargeable nickel cadmium cells whereas the voltage supplied by S may be 5V.An electronic memory 5 e.g. Intel 5101L 3 256 x 4 bit .tì4 is supplied via a second section of switch T, mech anically connected to the first from the intersection of diode D and resistor R.The processing unit PU e.g. Fairchild F 3870 micrQpro cessor is connected to memory M by a number of lines 4 two Way lines for data, 5 for addresses, 2 for controy and also to a number of signal inputs two are exemplified on the diagram, 11 and 12 for example, from a keyboard and consent devices thermostats, pressure switches, etc. and a number of signal outputs two are exemplified on the diagram, O1 and O2 , connected, for example, to display LED and actuator triac devices for controlling the motor, heating resistor, electrovalves, etc. None of these devices is shown on the diagram in that they are known types not pertinent to the invention.The circuit described operates as follows.Processing unit PU contains a 2048 byte ROM containing the machine s operating programme. This may comprise a sequence of control and actuating operations for enabling the machine to perform one or more e.g. wash programmes according to the data received initially e.g.when the machine was turned on from the operator e.g.from the keyboard .Each programme will comprise a number of successive stages e.g. soak, prewash, heat, wash, rinses, spinning .It is not necessary here to describe these operations in detail or how they are controlled by the PU.The invention is designed so that, a number of times during the programme e.g. at the start of each of the abovementioned stages , the PU provides for memorising in M the data required for taking up the programme following a power cut. Such data may be represented, for exmole, by 8 bytes, to indicate the number of the programme being performed the Programme stage being performed irput output status any special options selected by the operator at the beginning economy cycle, slow spin, etc. .Besides this data, the PU also memorises a set of control data e.g. the complements to one of the 8 data bytes for checking the called up data is correct.In the example given, a total of 16 bytes have to be memorised occupying 32 cells of the 255 x 4. When supply is restored after a power cut, the PU performs the automatic ON RESET cycle which starts the programme counter from a Dreset Doint 0000 in the case of F 3870 . The invention is designed so that a memory reading data call uD routine is situated at this point for checking the data is correct If it is found to be correct, the PU restores the required data in the appropriate registers and sets the programme counter so as to take up the programme more or less from where it was left off. If the data is found to be incorrect, however, the PU waits for further instructions from the operator from the key board by returning to the start of the programme.In view of the circuit arrangement, it will be clear that, if power failure is due to an accidental power cut on the mains, switch T will remain closed, memory N will be supplied by battery B and the data read will be correct. If, on the other hand, the power cut is due to the operator turning the machine off, memory M will be left unsupplied during the interruption, the data will be lost so that the random data read will be incorrect.The attached table shows an example of a memory writing and reading routine according to the present invention using an F 3870 microprocessor. The table shows both the machine code a set of hexadecimal numbers and the corresponding instructions in F 3870 language.Variations can, of course, be made to the circuit described. For example, instead of using an F 3870 microprocessor and a separate memory, an F 3876 can be used which incorporates a battery suppliable 128 x 8 RAM. Or, instead of a volatile RAM from which supply is cut off by the on off switch, a clearable non volatile RAM can be used with the memory clearing bit controlled by the second section of switch T. The advangages of the circunt in terms of simplicity and reliability will be clear from the description given. It should be pointed out that the fact that the 2 sections of switch T open and or close before or after one another has no effect on operation and that correct data reading is highly reliable in the example given, the probability of the bits being 9correctly distributed by chance is 1 264. TABLE TIMER PRA 138 06 26 9 79 START FIL RORG O 0000 dA DI 0001 7A LIS 10 SET TIMER 0002 B7 OUTS 7 0003 2OEA LI R EA 0005 B6 OUTS 6 0006 70 CLR 0007 56 LR 6,A 0008 58 LR 8,A 0009 50 LR O,A 000A 51 LR 1,A 000B B5 OUTS 5 CLEAR PORTS 000C BO OUTS OOOOD B1 OUTS 1 OOOE B4 OUTS 4 000F 6F LISL 7 0010 67 NK LISU 7 CLEAR 0011 SC LR S,A REGISTERS 0012 66 LISU 6 0013 5C LR S,A 0014 65 LISU 5 0015 5C LR S,A 0015 64 LISU 4 0017 5C LR S,A 0018 63 LISU 3 0019 SC LR S,A 001A 62 LISU 2 001B 5E LR D,A 001C 8FF3 BR7 NK 001E 9004 BR BEFD ORG H 20 INTERRUPT 0020 .290850 GO JMP INTER VECTOR 0023 280BFO BEFD PI DIAGCC 0026 2802CO PI LETT TEST MEMORY 0029 RTI ID 10.3 56 LISU 6 002A 5F LISL 7 002B 70 CLR 0020 CE AS D 002D 9405 BNZ RO1 002F 8FFC BR7 0031 9015 BR BLK SET DATA FOR CONTINUING EXECUTION OF OLD PROGRAMME 0033 48 RO1 LR A,8 0034 2280 OI H 80 0035 58 LR 8,A 0037 66 LISU 6 0038 6A LISL 2 0039 4C LR A,S 003A 64 LISU 4 003B 6D LISL 5 003C 5E LR D,A 003D 22FO OI H FO 003F 5D LR I,A 0040 4C LR A,S 0041 14 SR 4 0042 22FO OI H FO 0044 SC LR S,A 0045 9048 BR ACC WAITING FOR INPUTS 0047 64 BLK LISU 4 0048 .6F LISL 7 BLANK 0049 2OFF IT H FF 004B 5E LR D,A DISPLAY 004C 8FFE BR7OO4E 6C LISL 4 PROGRAMME O 004F 15 SL 4 FLASHING 0050 5C LR S,A 0051 63 LISU 3 0052 6F LISL 7 0053 70 CLR 0054 5E LR D,A 0055 8FFE BR7 0057 48 LR A,8 0058 21FF NI H FF 005A 2200 OI 005C 58 LR 8,A 005D 2080 LP3 LI H 80 RESET 005F 57 LR 7,A KEYBOARD 0050 1B LP1 El WAIT FOR NEW 0061 2B NOP DATA 0062 1A DI 0063 70 RIV CLR 0064 C7 AS 7 0065 91FA BM LP1 0067 2509 CI 9 0059 911D BM BE1 006B 54 LISU 4 006C 6C LISL 4 006D 4D LR A,I 006E 5E LR D,A 006F .47 LR A,7 DISPLAY DATA 0070 22FO 01 H FO 0072 57 LR 7,A 0073 5D LR I,A 0074 4E LR A,D 0075 210F NI H F 0077 2508 CI 8 0079 9414 BNZ ACC 007B 4C LR A,S 007C 210F NI H F 007E 2501 CI 1 1, 0080 940D BNZ ACC 0082 280BDO PI DIAGN 0085 90D7 BR LP3 0087 47 BE1 LP A,7 0088 250A CI 10 008A 94D2 BNZ LP3 008C 90BA ZIN BR BLK START PROGRAMME EXECUTION 008E 6D ACC LISL 5 PROGRAMME INCO8F 4C LR A,S R46 ...................... WRITE ROUTINE ORG H 280 0280 200F SCRITT LI H OF SET 0282 52 LR 2,A 0283 70 CLR ADDRESS 0284 B5 OUTS 5 028S 66 LISU 6 SELECT BANK 0285 6F LISL 7 0287 4E NEWD LR A,D 0288 59 LR 9,A 0289 49 SEBY LR A,9 DATA 1 2 028A 21FO NI H FO BYTE 028C C2 AS 2 ADRESS 028D B4 OUTS 4 ON PORT 4 028E 200C Ll H OC CS WE FOR 0290 B5 OUTS 5 MEMORY 0291 21F4 NI H F4 CS OFF 0293 B5 OUTS 5 0294 49 LR A,9 0295 18 COM CONPLEMENT 0296 21FO NI H FO DATA 0298 C2 AS 2 0299 B4 OUTS 4 029A 200E LI H OE IN MEMORY 029C B5 OUTS 5 029D 21F6 NI H F6 029F B5 OUTS 5O2AO 32 DS 2 DECREM. REG.02A1 91OC BM ONM ADRESS 02A3 42 LR A,2 02A4 2101 NI 1 02A6 94EO BNZ NEWD 02A8 2B NOP 02A9 49 LR A,9O2AA 15 SL 4O2AB 59 LR 9,AO2AC 90DC BR SEBY CONTINUE FOR 02AE 70 ONM CLR ALL REGISTERSO2AF B5 OUTS 5 CS E WE OFF 02BO B4 OUTS 4 02B1 15 POP READ ROUTINE ORG H CO 02C0 200F LETT LI H OF SETO2C2 52 LR 2,A ADDRESSO2C3 65 LISU 6 SELECT 0204 6F LISL 7 BANK 02C5 70 CLRO2C6 59 LR 9,AO2C7 42 ACH LR A,2 0208 210F NI H OF 02CA B4 OUTS 4 ADDRESS ONO2CB 2008 LI H 08 PORT 4O2CD B5 OUTS 5 CS E READ ON 020E A4 INS 4O2CF 14 SR 4 FOR MEMORYO2DO 55 LR 5,A DATA IN R9 02D1 09 AS 9 9D R5 02D2 59 LR 9,A CHECK SUM 02D3 42 LR A,2 02D4 210F NI H OF 02D6 B4 OUTS 4 02D7 200A LI H A 02D9 B5 OUTS 5 02DA A4 INS 4 02DB 18 02DC 14 SR 4O2DD E5 XS 5 02DF 8404 BZ GOON IF NOT CORRECTO2EO 290047 JMP BLK WAIT FOR NEW PROG 02E3 B5 GOON OUTS 5 CS OFF 02E4 42 LR A,2O2E6 2101 NI 1 DATA 02E7 8406 BZ NEME 02E9 49 LR A,9 02EA 15 SL 4 02EB 59 LR 9,A 02EC 9005 BR EREO2EE 49 NEME LR A,9 02EF 5E LR D,A 02F0 70 CLR IN R6X 02F1 59 LR 9,A 02F2 2B ERE NOP 02F3 32 DS 2 DECREM. REG.02F4 81D2 BP ACH ADDRESS CONTINUEO2F6 1C POP FOR ALL DATA