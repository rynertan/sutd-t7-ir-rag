# Electron beam system and method.

## Abstract
An electron beam method and apparatus for writing patterns, such as on semiconductor wafers, in which the writing field 50 is divided into a large number of overlapping subfields 51a, b with a predetermined periodicity. Subfield to subfield moves are made in a stepped sequential scan, such as raster, while patterns 53 , within a subfield, are addressed using vector scan and written using a sequential scan. Significant improvement in throughput results by the use of this electron beam method and apparatus which preferably employs magnetic deflection for the sequential scanning to the subfields and electric deflection for vector scanning within the subfield.

## Claims
C L A I M S 1. An electron beam system adapted for writing patterns within a writing field 50 comprising means 31, 34, 35 defining an electron beam of predetermined cross section and density and means 36, 37, 40 42, 45, 46 for focusing said beam on a target area within said writing field, characterized by means 20a, 25, 74 76 for successively directing the beam along a preselected path by a first deflection means 43 until it reaches one of a plurality of sub fields 51b of said writing field, and means 38, 39 for blanking the beam while flying the beam to preselected areas 53 within said subfield with a second deflection means 44 , whereat the beam is unblanked and predetermined patterns are written in said preselected areas. 2. The electron beam system of Claim 1, wherein the first deflection means comprises magnetic means 43 for scanning the beam to and positioning the beam in said subfield 51b . 3. The electron beam system of Claim 1, wherein the second deflection means comprises electric means 44 for vectoring the beam within said subfield 51b to said preselected areas 67, 68 for writing said predetermined patterns. 4. The electron beam system of Claim 3, wherein each predetermined pattern is composed of pattern elements connected to each other to form the pattern, and wherein the electric deflection means 44 vectors the beam to a pattern followed by successively scanning each of the pattern elements to write the pattern. 5. The electron beam system of Claim 1, wherein said means for defining the electron beam comprises a spot shaping deflector 33 and first and second spot shaping apertures 34, 35 so that, when shaping voltage signals are applied to the de flector, the first aperture beam image is caused to move laterally across the second aperture 35 to permit varying the spot cross section. 6. A method of writing patterns with an electron beam whose predetermined cross section and density is defined and which is focussed on a target area within a writing field 50 , characterized by successively directing the beam along a path until it reaches one of a plurality of subfields 51a, b of said writing field, and blanking the beam while flying the beam to preselected areas 51, 67, 68 within said subfield, whereat the beam is unblanked and predetermined patterns are written in said preselected areas. 7. The electron beam writing method of Claim 6, wherein the beam is magnetically deflected across the subfields 51a, b and positioned in said one sub field. 8. The electron beam writing method of Claim 6, wherein the beam is electrically vectored within said subfield 51b to a preselected area 53 for writing predetermined patterns. 9. The electron beam writing method of Claim 8, wherein each of the predetermined patterns within said subfield 51b is composed of pattern elements connected to each other to form the pattern, and wherein the beam is electrically vectored to a pattern followed by successively scanning each of the pattern elements to write the pattern. 10. The electron beam writing method of Claim 9, wherein the periphery of the pattern is formed of small pattern elements while the interior of the pattern is formed of large pattern elements. 11. The electron beam writing method of Claim 6, wherein the electron beam s cross section and density are defined by passing the beam through first and second apertures 34, 35 and deflecting the beam after it passes through the first aperture 34 to cause the beam to move laterally across the second aperture 35 thus varying the beam s cross section. 12. The electron beam writing method of Claim 6, wherein adjacent subfields 51a, b overlap each other so as to allow calibration of common points 64 within the overlap 61 to assure subfield boundary matching. 13. The electron beam system of Claim 12, wherein, when a predetermined pattern crosses over the boundary of two subfields 51a, b , the beam s time of exposure is controlled so that the pattern element in the subfield overlap 61 , during each subfield writing, is exposed at about one half the normal time used in the exposure of the pattern element in each subfield.

## Description
ELECTRON BEAM SYSTEM AND METHODThis invention relates to an electron beam system and, more particularly, to an electron beam system uniquely suited for writing both small and large areas, preferably, non repetitive patterns, such as is required in the fabrication of large scale integrated circuit patterns.Electron beam columns have previously been used in systems for the fabrication of large scale integrated circuits.Such columns have utility in writing patterns on substrates, such as on semiconductor wafers covered with photoresist, which is developed to form openings to the semiconductor wafer for further processing in integrated circuit fabrication. They also have utility in making masks for optical exposure, magnetic bubble fabrication, and optical data storage media fabrication. The function of any such system is to write a given pattern over a given area with a specified charge density and with adequate edge resolution in the shortest possible time.These patterns are made up of a plurality of pattern elements. The electron beam column must be designed such to achieve maximum throughput of semiconductor wafers while maintaining high quality exposure of the patterns. In cases where compatibility with other lithography systems is required, absolute deflection accuracy and, especially, repeatability are essential. In addition, for multi level patterns, it is essential to be able to overlay the successive layers of the pattern with a high degree of accuracy. In view of the above requirements, various electron beam lithography systems have been designed and utilized. A typical electron beam system utilized in connection with integrated circuit micro fabrication may include an electron beam source, condenser lenses, alignment stages, demagnification lens stages, a projection lens, a deflection unit, and a target area. For example,U.S. Patent 3 644 700 issued 22 February 1972 to Kruppa et al, describes a typical electron beam column. Other electron beam columns and components therefor are described in U. S. Patent 3 949 228 to Ryan and U. S. Patent 3 984 678 to Loeffler. Another type of electron beam column which has been adapted for fabrication of integrated circuits utilizes a fixed shape beam spot. An example of such a electron beam column is described in the Kruppa patent. A square beam column exposes a number of image points in parallel and gains an equivalent factor in throughput over Gaussian spot or round beam electron beam columns. With a square beam column, the electron beam is focussed to provide a demagnified image of an aperture called the beam shaping aperture, which is square.The size of the focussed square spot is generally chosen to be the same as the minimum pattern line that is required and the optical system is designed so that the edge resolution of the spot is considerably less than this. Each pattern element is written by moving the shaped beam in discrete jumps so that the pattern is written as a series of squares.The square beam imaging system has advantages over theGaussian round beam system, as enumerated in the publication New Imaging and Deflection Concepts For PerformingMicro fabrication Systems , by H. C. Pfeiffer, Journal ofVacuum Science and Technology, December 1975, Vol. 12,No. 6, pages 1170 1173. A further enhancement of the square beam imaging system is a variable shape electron beam column as described in German published patent applicationNo. 28 05 371 by H. C. Pfeiffer, P. M. Ryan and E. V.Weber. In this variable shape beam system, the deflection unit is placed between two beam shaping apertures. With the deflection unit switched off, the second square aper ture is fully illuminated, thereby resulting in a square focussed spot of maximum dimensions. When the deflection unit is energized, the illumination of any portion of the second square aperture can be blanked off, thereby producing a rectangle or a square spot of any desired size, up to the maximum, containing the same current density as the original square spot.The above described electron beam systems utilize a raster scan to write the patterns. The advantage of the raster scan is that the writing is the same for all of the patterns and errors may be measured and corrected prior to writing by the technique described in U. S. Patent 3 644 700. The disadvantage of the raster scan is that the total field area must be covered even though the written area is only a small percentage of the field.In contrast to the raster scan electron beam system, there is a system known as vector scan in which only the written area is scanned with a beam while non pattern areas are skipped. This means that the exposure time can be reduced by the percentage of unwritten area. In the vector scan mode of computer controlled circuit pattern writing, as described in A Computer Controlled Electron Beam MachineFor Microcircuit Fabrication , by T. H. P. Chang andB. A. Waldman, in IEEE Transactions on Electron Devices,May 1972, pages 629 635, the pattern is divided into a series of rectangles and parallelograms. The electron beam is then controlled by the computer to access the rectangles and parallelograms sequentially to expose the inside of them. Throughput of such a system is dependent on the speed at which the semiconductor wafer can be exposed by the electron beam.Since exposure speed is limited by the current delivered to the wafer surface by the beam and the beam current is determined by the beam size, one of the major drawbacks of such a system is the limitation on throughput necessitated by the small beam size required to insure edge sharpness and accuracy. Prior art systems have attempted to solve this problem by making trade offs between beam size on the one hand and edge definition and accuracy on the other. It was not feasible in the prior art systems to enlarge the size of the electron beam used to fill the inside of the circuit pattern, because the machine had to be powered down to change lenses in order to change the beam size. Therefore, the prior art electron beam systems were restricted to a speed determined by the electron beam size required for proper edge definition and accuracy.In addition, the vector writing approach with electron beam is inherently less accurate than a raster scan which has been corrected by a calibration scheme independent of the written patterns. The above described prior art electron beam systems employ only a single deflection means, usually electric. An article by O. C. Woodard et al entitled, Variable SpotShape Control Electronics , J. Vac. Sci. Technol. 16 6 Nov. Dec. 1979 describes a dual deflection electron beam system for raster writing semiconductor wafers. The dual deflection aspect of this system gives greater speed and accuracy than a single deflection means but, because of.the raster scan, the total field still must be covered to write only a small portion of the field.The present invention intends to provide a method and apparatus for exposing patterns with an electron beam with increased throughput, without sacrificing edge sharpness, accuracy and resolution by taking full advantage of variable shaped spot and vector scanning. In particular, the present invention intends to provide an electron beam method and apparatus which is capable of writing small and large areas with equal edge sharpness.This is attained with an electron beam method and apparatus in which an electron beam is directed along a preselected path until it reaches one of a plurality of subfields of the writing field, and then the beam is intermittently blanked within the subfield to cause writing of patterns therein by vectoring from pattern element to pattern element and filling in each pattern element by sequential scanning, e.g. raster scanning.That is, both sequential and vector writing systems are combined to provide an electron beam system with the advantages of both. The field is divided into a large number of overlapping subfields with a predetermined periodicity. Within each subfield, patterns are written as a series of elements, such as rectangles, which are addressed using vector scan. Subfield to subfield moves are made in a stepped raster mode with all subfields visited whether or not they contain patterns to be written. This regular and repetitive deflection pattern permits the use of an automated calibration system, so as to correct static and repetitive transient errors.The advantages flowing from the electron beam system of the present invention is that pattern elements, such as rectangles, within a subfield are rapidly written utilizing, preferably, wide bandwidth circuitry to drive electric deflection plates at high speed for electric deflection.Deflection errors caused by electronic noise generated by the wideband circuits are not significant, because the deflection range is limited to very small subfields. To cause the subfield to subfield stepping, narrow bandwidth magnetic deflection circuits preferably drive a deflection yoke to cause magnetic deflection. Noise related errors are minimized because stepping time between subfields is relatively long. However, the number of subfields is relatively small when compared to the number of pattern elements. Accordingly, it has been found that a significant saving in writing time, or a significant improvement in throughput, results by the use of this dual deflection system over a single deflection system, without any loss of accuracy and resolution.A further advantage results due to the subfield arrangement and vector writing and variable shaped spot capability within the subfield of the electron beam system. The periphery or sleeve part of each pattern element is written with a series of small rectangles by a small shaped spot for good edge definition, whereas the inside or full part of each pattern element, where edge slope accuracy is not required, is written with large spots. This allows better pattern resolution combined with reduced writing time and higher current density.An embodiment of the invention will be described below in connection with the appended drawings of which Fig. 1 is a perspective view of the computer controlled electron beam system of the present invention.Fig. 2 is a block diagram of the various subsystems of the electron beam system of the present in vent ion.Fig. 3 is a cross sectional schematic view of the electron beam column of the present invention. Fig. 4 is an example of a pattern written by the electron beam system of the present invention.Fig. 5 is a block diagram of the magnetic deflection circuit of the present invention.Fig. 6 is a block diagram of the electric deflection circuit of the present invention.Fig. 7 shows the subfield writing technique of the present invention.Fig. 8 is a block diagram of the calibration system of the present invention.The overall electron beam system is shown in FIG. 1. Herein, semiconductor wafers entering the system are oriented and loaded onto a carrier not shown , which is placed on an X Y table 10 under vacuum. The mechanical and vacuum functions of the X Y table are controlled by the mechanical interface unit 11, which contains analog and digital electronics which are controlled by a mechanical subsystem or minicomputer, such as an IBM Series I, which in turn is controlled by the system controller 12, a nother minicomputer, again such as an IBM Series I.A variable shaped spot size electron beam column 13 is mounted directly over the X Y table 10, allowing it to write patterns on chip sites of the semiconductor wafer after the sites have been moved into position. A focus grid, calibration grid, registration marks, and a faraday cup are mounted on the X Y table so as to permit both manual and automated calibration and diagnostics of the electron beam column. Diodes located above the table are utilized to detect back scattered electrons from registration marks and the calibration grid. A column interface unit CIU 14 controls the electron beam size, exposure time, and positions for writing patterns as well as processing of back scattered signals for registration and calibration. This unit also powers the electron beam column and performs the beam quality maintenance functions of focus, current density, and alignment. As a further function, this unit expands pattern data from rectangle position and size to individual spot size and position.To allow high speed access to pattern data so that throughput is not limited by data rates, the overall system includes a pattern buffer 15 which herein is at least an eight megabyte memory and is controlled by a pattern subsystem in the CIU 14. The pattern buffer is driven by a buffer power unit 17. The CIU 14 has direct access to the pattern buffer 15, which can be simultaneously back filled with pattern data by the system controller 12. A resident pattern library, stored on disk files not shown is accessed by the system controller which transmits the data to the pattern buffer. This controller 12, which includes keyboard CRTs 18 and printers 19, controls the overall system function. A more detailed showing of the overall computer control of the electron beam column of the present invention is shown in Fig. 2 in which it will be seen that the overall system is made up of a number of functional subsystems either directly or indirectly activated by the system controller 12. The system controller 12 communicates with the subsystems via external data buffers 15, 20a, 20b and a system control bus SCB 21, which allows the subsystem registers not shown to be read or written with control information. Process interrupts are used by the subsystems to inform the controllers of possible failure conditions or to synchronize various system operations. The overall electron beam system includes an electron beam column subsystem 23, a mechanical subsystem 24, a subfield positioning subsystem 25, a pattern subsystem 16 and a feedback subsystem 26.Except for the mechanical subsystem 24, the other subsystems are physically contained in the column interface unit 14 Fig. 1 . The mechanical subsystem 24 is associated with X Y table 10 and the mechanical interface and mechanical system controller are physically contained in the mechanical interface unit 11 Fig. 1 .Writing on the object, herein chip sites on a semiconductor wafer 52 Fig. 4 , is accomplished using three repeating cycles of operation registration A cycle , pattern writing B cycle and X Y table 10 move to next chip site C cycle . A magnetic deflection path which is used in each of these three cycles, is always active to retain deflection stability and, based upon the duration of each deflection path, provide the basic time of each. The ABC cycle sequence, therefore, is active even when no chip writing is taking place. With this background, the philosophy of the method of the system controller 12 is to minimally participate in the operation in order to achieve high throughputs. That is, the system controller presents control data to the subsystems designating the cycle during which an activity should occur.The activity then will begin at the start of the designated cycle, with no interruption to the ABC cycle sequencing. Accordingly, the synchronizing and control capability available to the system controller 12 is minimal, as is the cycle timing information sent to it by the subsystems. System controller 12 can communicate with the subsystems via a system control bus SCB 21, a bi directional data bus, through which it can write or read registers in most sub systems. For example, it can set bits that designate a cycle during which a pattern should be written, and it could also set bits that cause a cycle A, B or C to be extended until that bit is reset. This is useful for theX Y table 10 movements or registration that requires slightly more than the allotted cycle time, since it avoids skipping a full A, B, C cycle sequence.For writing a pattern on the chip site, pattern data, in the form of rectangular definitions, is transferred to the pattern subsystem 16 via the pattern buffer 15, which, in the present instance, is a memory with a minimum of eight megabytes data capacity. The system controller pre loads this buffer with a required pattern and that initializes a pattern work count and memory address register in the buffer to point to a pattern to be written. A control word, which is sent to the subsystems via the SCB 19, designates the cycle in which the pattern is to be written. During theB cycle, pattern rectangle data is read from the buffer 15, expanded to spot definitions, and applied to the beam. The spot data includes positions, herein electric, within the subfield, spot shape, and exposure times.When the pattern subsystem has read out the last word, the pattern buffer 15 issues an interrupt to the system controller, which initializes the buffer for the next pattern. The use of the pattern buffer allows data to be asynchronously transferred to the pattern subsystem at rates as high as 12.5 megabytes second while freeing the system controller to perform other services, such as backfilling the pattern buffer with required patterns not already in the buffer.As previously stated, the writing field is divided into sub fields and the spot is moved in a predetermined sequential fashion, herein bidirectional, to a particular subfield to write patterns. A specific number of subfields make up each of the three cycles A, B and C of operation.When a deflection is first started, system controller 12 loads the subfield count for each cycle into registers in the subfield positioning subsystem 25, via the SCB 21.This allows the subfield positioning subsystem 25 to delineate A, B, and C cycles and synchronize all activities.After loading the subfield count for each cycle, magnetic deflection data and corrections to the writing fields are pre loaded into two separate direct memory access buffers by the system controller. Both the electric correction buffer 20b and the magnetic positions corrections buffer 20a are initialized in the same manner as the pattern buffer 15. Typically, however, this data remains the same throughout daily wafer writing unless a deflection field change is made. This means that the system controller is required to re initialize each buffer back to the same starting point, once per A, B, C sequence. Once the buffers are loaded and enabled, the subfield positioning subsystem 25 reads the data with no system controller intervention and applies it to the electron beam column.The reading of these buffers and the re initialization by the system controller is continuous to sustain a repetitive A,B,C magnetic deflection, whether a pattern is being written or not.Turning now to the electron beam column, Fig. 3 schematically shows the variable shaped spot, dual deflection column 30. Electrons from the source 31 on their way to a target plane 32, herein a semiconductor wafer, pass through spot shaping deflector plates 33 located between first 34 and second 35 spot shaping square apertures. By applying shaping voltage signals to the deflector plates 33, the first aperture image is caused to move laterally across the second aperture 35 to produce the desired spot shapes. First and second con denser lenses 36 and 37 are positioned adjacent to the apertures 34 and 35 respectively, to focus the beam. To permit an off condition, blanking plates 38 are positioned below the second aperture 35 so that with voltage applied to the plates 38, the beam is deflected sufficiently to miss beam shaping round aperture 39.There is no spot movement in the target plane 32 caused by the blanking deflection. On opposite sides of the round aperture are first and second demagnification lenses 40 and 41.The foregoing was a description of the variable shaped spot aspect of the column 30, in which the first and second square aperture 34 and 35 shape the beam spot. Inasmuch as the image of the first square aperture 34 can be shifted laterally with respect to the second aperture 35, a predetermined fraction of the total beam, which depends on the signal applied to the electric shaping deflectors 33, passes through both apertures. The compound image formed by both apertures is sequentially demagnified and projected onto the target plane 32. The remaining portion of the column 30 is the projection lens 42 which includes the dual deflection as part of the column 30. Deflection yokes 43 are current driven by the magnetic deflection circuits to permit, in the present instance, bidirectional raster scanning from subfield to subfield. Within the subfield, electric deflection plates 44 produce vector scanning, rectangle to rectangle, to write the pattern on the target plane 32, herein a semiconductor wafer. Dynamic correction functions for focus and astigmatism are generated by analog circuits utilizing magnetic deflection signals as inputs and applied to a dynamic focus coil 45 and a dynamic stigmator 46.In operation, a focus operation first checks the focus of the beam including its astigmatism. This is accomplished through using only the C cycle. Next, during calibration, the beam is operated only in the A and B cycles with the beam during C cycle being blanked so as to detect errors in deflection in the beam during the A and B cycles, first for the deflection of the beam in the X or horizontal direction and then for deflection in the vertical or Y direction. After the deflection errors for the beam in both the X and Y directions have been determined, correction equal and opposite to errors are generated and added to the deflection. The result is the beam being focused and calibrated properly.For registration, only the A cycle is initially employed to locate wafer registration marks on a substrate, herein a semiconductor wafer. Then, during A cycle, registration marks associated with a chip site which is to have its resist exposed, are located. The error of registration mark s location is used to correct the writing field so as to match with the marks location. During the B cycle, the resist is exposed. During the C cycle, the beam is blanked, and the semiconductor wafer on the table is moved by moving the table to position another of the chip sites at the position in which the beam is registered This site is now ready for exposure of its resist.This operation continues until all the sites or a wafer have had their resist layer exposed in a predetermined pattern. Then, the wafer will be unloaded from the system while another wafer is loaded on the table. The abovedescribed operation is repeated and continues until the focus and calibration operations are again required as determined by either the operator or by a mini calibration program that monitors the beam and deflections between wafers load unloads. The pattern writing operation of the electron beam system of the present invention is best shown in Fig. 4. The writing field 50 is divided into a large number of overlapping subfields 51a, b... with a periodicity of, for example, 75 pm. Herein , the writing field 50 corresponds to a chip of a semiconductor wafer 52. Within each subfield 51, patterns, which are written as a series of rectangles 53, are addressed vectorially. Subfield to subfield moves can be made in any predetermined and repeatable path, herein a bidirectional stepped raster mode, with all subfields visited whether or not they contain patterns. This regular and repetitive deflection pattern allows for an automated calibration system which corrects static and repetitive transient errors.Herein, rectangles 53 within a subfield are rapidly written in a unidirectional raster fashion utilizing wide bandwidth circuitry to drive electric deflection plates at high speed. Deflection errors caused by electronic noise admitted by the wide band circuits are not significant, because the deflection range is limited, in the present instance, to 100 pm subfields. Narrow bandwidth magnetic deflection circuits drive the deflection yoke to cause the subfield to subfield bidirectional raster stepping. Noise related errors are kept to an acceptable value over a 10 mm range by the narrow bandwidth circuitry, which causes the stepping time between sub fields to be relatively long. However, the number of subfields 51 is relatively small compared to pattern elements or rectangles 53.A significant savings in writing time results by use of this dual channel deflection system over a single channel system with equivalent errors.To expand each rectangle into the required number of shaped spots by employing the spot shaping apertures 34 and 35 Fig. 3 of the electron beam column pattern data, which herein is 8 bytes per rectangle, is contained in the pattern buffer 15 Figs. 1 and 2 and defines position, size, and control data for each rectangle. Control data includes variable exposure time grey so that each rectangle can have three specified values of grey, 1 an internal value, 2 an edge value, and 3 an alternate edge value either of which can be applied to any edge.As shown in Fig. 5, to step the beam from subfield 51a to subfield 51b Fig. 4 , a subfield positioning subsystem 25 drives the magnetic deflection coil or yoke 43. The subsystem 25 comprises a subfield timing and deflection control 72 which receives the subfield position and correction data from buffer 20a and the position data is fed to a position digital to analog converter DAC 74, whereas the correction data is fed to correction DAC 75, the outputs of the DACs 74, 75 are fed to a summing circuit 76 which also receives an input of the present position of the beam from a sense resistor 77 connected between the magnetic deflection yoke 43 and the summing circuit 76.The output of summing circuit 76 is the sole input to a coil driver 78 which produces the proper quantity of current for the yoke 43 for accurate placement of the beam within the desired subfield. Accordingly, the circuit ofFig. 5 provides accurate positioning of the beam in each subfield while, at the same time, providing subfield position correction to compensate for field distortions and subfield center correction and field registration errors.Once the beam is positioned in a subfield for example 51b in Fig. 4 , the pattern to be written, in the present instance, is in the form of one or more rectangles, which are stored, as shown in Fig. 6, in the pattern buffer 15 as rectangle defining data. To interpret the rectangle defining data and convert it into a sequence of spot definition, a rectangle generator 80 connects the data it receives from the pattern buffer 15 and an electric correction buffer 20b. Upon converting the pattern into spot definitions, the rectangle generator 80 generates control signals relative to spot shape, spot position and exposure time. The signals relating to spot shape and exposure are fed to spot shaping plates 33 Fig. 3 and blanking plates 38 Fig. 3 .The correction data from the buffer 20b is added to the spot position data to yield a corrected spot position signal which is fed to a digital to analog converter DAC 82, whose output is fed via amplifiers 81 and 83 to deflection plates 44. Because a fast settling time is required, the output of the DAC 82 is, herein, fed to a fast analog switch not shown commutating between two identical signal channels not shown so that the deflection plates are connected to that channel in which the signal has become settled. To show how a number of different patterns are written, reference is made to Fig. 7. The subfields are shown in dashed lines 60 with subfield overlap 61 which allows calibration of common points within the overlap 61 to assure subfield boundary matching. Shapes which end or fall within the overlap 61, such as shapes 62 are written in one subfield only. However, shapes which cross subfield boundaries, such as shape 63, are spliced by overlaying the common spot 64 with one half normal exposure grey in both subfields. This grey splice technique minimizes the effect of subfield boundary matching errors.In operation as shown by Fig. 7, the electron beam is moved from subfield position X by magnetic deflection to position Y in adjacent subfield. The beam is vectored electrostatically to the rectangle 67 which is written or exposed using an electrostatic raster scan. When the writing of rectangle 67 is completed, the beam is vectored electrostatically to rectangle 68 to write that rectangle.A registration procedure is performed during the A cycle of the A B C operation cycle of the system so as to align the E beam pattern writing deflection to the chip site on the wafer. X and Y marks, which are located in the four corners of the chip are scanned and data is collected simultaneously. Further details about registration mark detection can be found in U.S. Patent 4 056 730 of 1 Nov.1977 by D. E. Davis et al . Collected data is digitized and fed to the feedback subsystem 26 Fig. 2 which processes feedback data and transfers the reduced data back to the feedback buffer 26a Fig. 2 . The system controller 12 edits this data as it is read from the feedback buffer and the marks displacements from their expected locations are determined. Upon locating all of the alignment marks, a set of corrections is generated A,B,C,D,E,F,G,H which modifies field translation, rotation, magnification and distortion in X and Y. Further details of registration correction can be found in U.S. Patent 3 900 736 of 19Aug. 1975 by M. S. Michail et al . These corrections are sent to eight registers within the subfield positioning subsystem 25 Fig. 2 via system control bus 21 Fig. 2 .The registration corrections will correct not only the magnetic position of every subfield but also it will affect the electric position of every spot within any subfield. The registration corrections are added digitally to the field correction and applied to the magnetic deflection and the electric deflection as will be described with reference to Fig. 8. The addition and application of correction is within the subfield positioning subsystem 25 Fig. 2 and pattern subsystem 16 Fig. 2 . It should also be understood that, when a wafer is loaded in the system, the system controller 12 Fig. 2 directs the X Y table to move to the first site. This shall be a unique site which contains large alignment marks to accommodate initially large wafer positional errors. This wafer registration procedure is functionally the same as chip registration procedure.A calibration procedure is provided to measure monitor, and correct the beam positioning distortion of both the magnetic and electric deflection systems. Distortions measurement is accomplished by using, herein, a grid of gold bars on silicon not shown which is mounted on theX Y table 10 Fig. 1 underneath the beam. The grid is scanned, resulting in a modulation of back scattered electrons which are intercepted by solid state diode detectors not shown located above the target place. The back scattered signal is filtered, summed and analog todigital converted. Digital processing of feedback signals includes noise and data reduction by digital averaging at the feedback subsystem 26 Fig. 2 which also provides hardware editing of data to check that it is within predetermined tolerances.Subsystem 26 performs digital clipping to determine relative position of the scans with respect to the target. Scans 65 Fig. 5 are made within the overlapping corners 66 Fig. 5 of the subfields so that scans from adjacent subfields are over a common calibration grid element. This enables corrections to be generated corresponding to the most suitable linear fit of deflection for each subfield. As a result, the subfields will be stitched together to produce a total field of specified size, herein 10 mm by 10 mm. Two collect cycles are used one for horizontal measurements and another for vertical measurements. The data is then transferred to the system controller 12 Fig. 2 for analysis.The output is the following set of linear correction parameters for each subfield A. Subfield X position correction B. Subfield X size correction C. Subfield X rotation correction Subfield X trapezoidal correction Ei Subfield Y position correction Fi Subfield Y rotation correction G. Subfield Y size correction Hi Subfield Y size trapezoidal correction The correction at any spot Xe, Y within any subfield e i is given by Xe A. BiXe CiYe DiXeYe Ye Ei FiXe GiYe HiXeYe Both A. and E. terms are combined with subfield position 1 1 addresses and, as shown in Fig. 8, loaded in the magnetic position and correction buffer 20a along with the magnetic position Xm, Ym The remaining terms Bi, Ci, Di, Fi, Gi andH. are loaded in the electric correction buffer 20b.These latter digital correction terms are then transferred from the buffer 20b to electric correction generator 90 of the pattern subsystem 16 Fig. 2 to generate corrections nX and hYe at any spot Xe, Ye received from the pattern buffer 16 within any subfield i whose magnetic position is Xm, Y m as received from the magnetic position and correction buffer 20a, and as modified by registration corrections received from system controller 12. Fast and small range terms are generated and added digitally to the spot position Xe, e to yield the spot address X e, byte which is fed to DAC 82, which generates a corresponding analog signal to apply to the deflection plates 44 Fig. 3 .Slow and large range terms axm, AYm are generated in the magnetic correction generator 93 from data in terms of A., E. and Xm, Y from the magnetic position and correction I m buffer 20a and the registration correction terms from the system controller 12, and are fed to DAC 75. The magnetic position terms Xm, Ym also are fed to DAC 74 and the analog signals from DAC 74 and DAC 75 are added in the summing circuitry 76 and its output signal is fed to the yoke 71 Fig. 3 via coil driver 78 Fig. 5 . The electric deflection for subfield i is governed by the equations X X e Xe B Bi DYm Xe C Ci DXm Ye D Di XeYe Y e Ye F Fi HYm Xe G Gi HXm Ye H Hi XeYe while the magnetic deflection for subfield i is governed by the equations X X A A. BX CY DX Y m m 1 m m mm Y Y E E. FX GY HX Y m m 1 m m mm