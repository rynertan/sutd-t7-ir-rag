# METHOD OF CONTROLLING BACKSTEP IN ELECTRIC DISCHARGE MACHINING APPARATUS.

## Abstract
A method of controlling backstep in an electric dis charge machining apparatus comprising the steps of moving an electrode EP relative to a workpiece WK to discharge machine the workpiece, then moving the elec trode in a direction that releases the contact with the work piece when a shortcircuit signal showing the contact be tween the electrode EP and the workpiece WK is generated, further determining in advance a stationary point A to which the electrode EP is moved back and moving the electrode EP back toward the stationary point A upon the generation of the shortcircuit signal.

## Claims
CLAIMS 1. A retraction control method in an electric discharge machine wherein an electrode is moved relative to a workpiece to subject the workpiece to electric discharge machining, and wherein the electrode is moved, in response to generation of a short circuit signal indicative of contact between the electrode and the workpiece, in a direction which will break said contact, characterized by defining beforehand a fixed point for retracting the electrode, discriminating generation of the short circuit signal, and retracting the electrode toward said fixed point in response to generation of the short circuit signal. 2. A retraction control method in an electric discharge machine according to claim 1, characterized in that the coordinates of said fixed point are the coordinates of a present position prevailing when a specific G function instruction is commanded. 3. A retraction control method in an electric discharge machine according to claim 1, characterized in that coordinates of said fixed point are commanded following a specific G function instruction. 4. In a retraction control method in an electric discharge machine wherein an electrode is moved relative to a workpiece to subject the workpiece to electric discharge machining, and wherein the electrode is moved, in response to generation of a short circuit signal indicative of contact between the electrode and the workpiece, in a direction which will break said contact, a retraction control method characterized by steps of defining beforehand a fixed point for retracting the electrode and storing the coordinates of the point, storing a discharge position in response to generation of a discharge signal, retracting the electrode toward the fixed position, halting retraction in response to termination of the short circuit, and positioning the electrode at the short circuit position. 5. A retraction control method according to claim 4, characterized by having a step of monitoring the present position of the electrode relative to the workpiece, wherein present position prevailing when the short circuit signal isis generated serves as the shortcircuit position. 6. A retraction control method according to claim 5, characterized in that, following positioning of the electrode at the short circuit position, the electrode is moved relative to the workpiece along a commanded path to resume electric discharge machining. 7. A retraction control method in an electric discharge machine according to claim 4, characterized in that the coordinates of said fixed point are the coordinates of a present position prevailing when a specific G function instruction is commanded. 8. A retraction control method in an electric discharge machine according to claim 4, characterized in that the coordinates of said fixed point are commanded following a specific G function instruction. 9. In a retraction control method in an electric discharge machine wherein an electrode is moved relative to a workpiece to subject the workpiece to electric discharge machining, and wherein the electrode is moved, in response to generation of a short circuit signal indicative of contact between the electrode and the workpiece, in a direction which will break said contact, a retraction control method characterized by defining beforehand a fixed point for retracting the electrode, discriminating generation of the short circuit signal, and retracting the electrode upon selectively switching between a retraction mode for retracting the electrode toward the fixed point in response to the short circuit signal, and a retraction mode for retracting the electrode along a previously machined path in response to generation of the shortcircuit signal. 10. A retraction control method in an electric discharge machine according to claim 8, characterized in that the retraction modes are switched by aG function instruction, and in that said G function instruction is a modal.

## Description
DESCRIPTIONRETRACTION CONTROL METHOD IN ELECTRIC DISCHARGE MACHINETechnical Field This invention relates to a retraction control method in an electric discharge machine. More particularly, the invention relates to an electric discharge machine control method suited for application to an electric discharge machine in which an electrode of a prescribed shape, held close to the surface of a workpiece, is moved into the workpiece to perform cutting and an electric discharge is produced across the electrode and the workpiece, thereby to subject the workpiece to electric discharge machining.Background Arc Electric discharge machines include a wire cut electric dishcarge machine wherein a wire electrode is moved relative to a workpiece along a commanded path, thereby to perform electric discharge machining, and an electric discharge machine wherein an electrode of a prescribeed shape, held close to the surface of a workpiece, is moved into the workpiece to perform cutting and an electric discharge is produced across the electrode and the workpiece, thereby to machine the workpiece into the same shape as the electrode. Fig. 1 is a schematic explanatory view of the latter electric discharge machine. An electrode EP serving as a punch is supported by a spindle SP, and is fed for machining in the direction of the arrow by a servomotor, not shown. A voltage is applied by a power source PS across the electrode EP and a workpiece WK which is to be machined into a die . Accordingly, when the electrode EP is advanced for machining while a minute gap is maintained between the workpiece WK.and the electrode EP, the workpiece WK is machined into a shape similar to that of the electrode EP. An enlarged bore of desired size can be readily machined in the workpiece WK by controlling, e.g., the machining pulses and energy.If necessary, the machining operation is carried out while the electrode EP is being moved in eccentric fashion, whereby an enlarged bore of desired dimensions can be machined. In the electric discharge machine of the above type, it is necessary to retract the electrode, thereby improving the interpole conditions, immediately upon the generation of a short circuit signal which is produced when the electrode EP contacts the workpieceWK, followed by resuming machining. A common method of controlling retraction is to return the electrode, in response to generation of the short circuit signal, back along the path machined up to that point i.e., along the already machined path .However, as shown in Figs. 2 a and 2 b , there are cases where the workpiece WK is subjected to circular or rectangular electric discharge machining by moving a round bar shaped or rectangular electrode EP along an arcuate or rectangular path, respectively. With the foregoing retraction control method, the electrode is constantly in intimate contact with the workpiece even though the electrode is retracted after generation of the short circuit signal. This is disadvantageous in that the short circuited state cannot be brought to an end. Accordingly, a first object of the present is to provide a retraction control method through which, when a short signal is generated, the electrode is moved linearly toward a previously designated fixed point irrespective of the already machined path, thereby to promptly end the short circuited state, shorten machining time and resume machining in stable fashion. A second object of the present invention is to provide a retraction control method through which an electrode can be retracted along an already machined path or toward a previously designated fixed point, wherein the electrode can be retracted in the manner best suited to the machining conditions and machining method by switching between the two foregoing alternatives.Disclosure of the Invention Disclosed is a retraction control method in an electric discharge machine wherein an electrode EP is moved relative to a workpiece WK to subject the workpiece to electric discharge machining, and wherein the electrode is moved, in response to generation of a short circuit signal indicative of contact between the electrode and the workpiece, in a direction which will break said contact, wherein a fixed point A for retracting the electrode is defined beforehand, and the electrode EP is retracted toward the fixed point A in response to generation of the short circuit signal. Also disclosed is a retraction control method in an electric discharge machine, wherein there are defined in advance a fixed point for retraction of the electrode, a retraction mode for retracting the electrode toward the fixed point in response to the short circuit signal, and a retraction mode for retracting the electrode along a previously machined path in response to generation of the short circuit signal, the electrode being retracted upon selectively switching between the retraction modes. According to foregoing retraction control method, when a short signal is generated, the electrode is moved linearly toward a previously designated fixed point irrespective of the already machined path, thereby to promptly end the short circuited state, shorten machining time and resume machining in stable fashion. It is also possible to switch between retraction along an already machined path and retraction toward a previously designated fixed point, so that the electrode can be retracted in the manner best suited to the machining conditions and machining method.Brief Description of the Drawings Fig. 1 is a schematic explanatory view of an electric discharge machine Fig. 2 is an explantory view for describing the disadvantage encountered in the prior art method Fig. 3 is an explanatory view of a retraction control method according to the present invention Fig. 4 is a block diagram for realizing the present invention and Fig. 5 is an explanatory view for describing circuit operation according to the present invention.Best Mode for Carrying Out the Invention Fig. 3 is an explanatory view for describing the general features of retraction control according to the present invention. In circular and rectangular machining as shown inFigs. 3 a and b , point A shall represent a predetermined retraction end point fixed point , point S a machining starting point, and point P a short circuit signal generation point. The electrode is moved from point S along an arcuate path ARC or rectangular pathRTP to subject the workpiece WK to electric discharge machining. When the short circuit signal is generated at point P in the course of machining, the electrode EP is thenceforth moved for retraction toward the fixed point A along a straight line until the short circuit ends. When the short circuit is terminated by retraction control, the short circuit signal SS assumes a low level or an forward movement signal rises to a high level, thereby halting retraction of the electrode EP and thenceforth moving the electrode toward the short circuit position P.After reaching the point P, the electrode is again moved along the commanded arcuate path ARC or rectangular path RTP to perform electric discharge machining as commanded. It should be noted that while the coordinates of the fixed point represent the present position at the instant aG function instruction G73 is issued, coordinate values along the X, Y and Z axes can be entered in advance following G73, which coordinate values can then be taken as the coordinates of the fixed point. With an electric discharge machine, furthermore, it is necessary at times that retraction control be performed by traversing the already machined path in the opposite direction. When such is the case, a G function instruction G72 is issued, whereby subsequent generation of the short circuit signal SS will cause retraction control to be effected along the already machined path. Thus, ordinary retraction control is performed in response to G72, whereas retraction control to the fixed point is executed in response toG73. G72 and G73 shall be treated as modals. That is, we shall assume that when one of them is commanded, retraction control is performed based thereon until the other is commanded. Fig. 4 is a block diagram for realizing the retraction control method according to the present invention. Fig. 5 is a diagram for explaining the same. In Fig. 4, TP represents an NC tape having a punched NC program comprising a multiplicity of numerical control data NC data . TRD is a tape reader, and ICT an input control circuit which controls the tape reader TRD for successively reading the NC aata from the NC tape and applying the data to a decoder circuit constituting the next stage. DEC denotes the decoder circuit for decoding the read NC data, for applying, e.g., a position command Xe, Ye,Ze and G function command to an arithmetic and control unit when such is the read NC data, and for applyingM , S and T function commands to the machine side through a power magnetics circuit when such is the readNC data. OPCN represents the arithmetic and control unit, which has a processor CPU, a control program memory CPM, etc.For example, if an absolute position command Xe, Ye, Ze enters in a linear interpolation mode, the arithmetic and control unit OPCN performs the operations EMI7.1 tb Xe Xa SEP SEP SEP X, SEP SEP Ye Ya SEP 3 SEP sY, SEP Ze Za SEP SEP zZ SEP SEP . SEP . SEP 1 tb where Xa, Yz, Za indicate the present position along each axis , thereby obtaining incremental values AX, sY, bZI and delivers these incremental values to a pulse distributor, which is the next stage.Each time the pulse distributor generates distributed pulses Xp,Yp, Zp, the arithmetic and control unit OPCN performs the operations given by the following equations EMI8.1 tb Xm l SEP SEP SEP Xm, SEP Ym l SEP SEP SEP Ym, SEP Zm l SEP SEP SEP Zm SEP . SEP . SEP . SEP 2 tb Xa l SEP SEP Xa, SEP Ya l SEP SEP SEP Ya, SEP Za l SEP SEP Za SEP . SEP . SEP . SEP 3 tb to update remaining amounts of movement Xm, Ym, Zm along each axis as well as the present position Xa, Ya,Za along each axis.In the operations shown at 3 , the signs depend upon the direction of movement, with plus signs prevailing for movement in the positive direction and minus signs for movement in the negative direction. The arithmetic and control unit OPCN is also adapted to execute processing in accordance with aG function instruction upon input of such an instruction. Specifically, when a G function instruction G01 indicative of linear interpolation enters, the arithmetic and control unit OPCN executes processing given by the expressions 1 , 2 and 3 until a circular interpolation instruction input G02 or G03 arrives. When G02 clockwise circular interpolation instruction or G03 counter clockwise circular interpolation instruction is commanded, circular interpolation processing is executed from that point onward.The foregoing process steps are controlled under the supervision of a control program and the actual processing is executed by the processor CPU.The arithmetic and control unit OPCN also executes retraction control processing. Specifically, when the electrode contacts the workiece, the short circuit signal SS is generated, whereupon retraction control processing, described below, is performed under the control of a prescribed control program. PDC represents a known pulse distributor for three axes simultaneously, and DMM indicates a data memory for storing, e.g., the present positions Xa, Ya, Za and incremental values AX, AY, bZ along respective axes, and the remaining amounts of movement Xm, Ym, Zm along respective axes.SMM represents a saving memory for temporarily saving the contents of the data memory DMM in response to control by the arithmetic and control unit OPCN when the short circuit signal SS is generated, and for returning the stored contents to the data memory DMM at the end of retraction control. FPM designates a fixed point storage memory for storing present positions Xa, Ya, Za along respective axes as coordinates Xf, Yf, f of a fixed point along respective axes when G73 is commanded, whereby the electrode is retracted toward the fixed point linearly during retraction control. As mentioned above, the coordinates of the fixed point may be commanded following G73 to store them in the fixed point memoryFPM.PWC represents a power magnetics circuit for supervising an exchange of data between the machine and the NC device, the short circuit signal SS being fed into the NC device from the machine side through this circuit. The operation of Fig. 4 will be described next. Under ordinary conditions, the input control circuit ICT controls the tape reader TRD to read NC data from the NC tape in block by block fashion, and applies the NC data to the arithmetic and control unitOPCN, the latter executing numerical control processing to subject a workpiece to desired electric discharge machining. Specifically, when a command read from theNC tape is an absolute positional command Xe, Ye, Ze , the decoder circuit DEC applies the positional command to the arithmetic and control unit OPCN.When the positional command Xe, Ye, Ze arrives we will assume that the linear interpolation mode prevails in response to G01 , the arithmetic and control unit performs the operations given by expression 1 to find the incremental values XX, sY, zZ, applies these to the pulse distributor PDC, stores them in the data memory DMM, and sets sX, AY, hZ in remaining amount of movement storage areas as remaining amounts of movement Xm, Ym,Zm Xm oX, Ym sY, Zm hZ . The pulse distributor PDC executes a pulse distribution operation immediately upon being provided with the incremental values hX, dY, AZ. When distributed pulses Xp, Yp, Zp are produced in response to the pulse distribution operation, they are applied to a servo unit, not shown, to drive DC motors for respective axes, whereby the electrode is transported along the programmed path. At the same time, the distributed pulses Xp, Yp, Zp are applied to the arithmetic and control unit OPCN. The latter executes the arithmetic operations of expressions 2 and 3 and updates the contents of the storage area DMMa storing the present positions Xa, Ya, Za along respective axes and the contents of the storage areaDMMb storing the remaining amount of movement Xm, Ym,Zm along the respective axes.When the condition Xm 0, Ym 0, Zm 0 is attained, the unit OPCN delivers a pulse distribution inhibit signal PDI to the pulse distributor PDC and generates a read signal RST for the next block of NC data, whereby the input control circuit ICT reads said next block of NC data. When the machining data read from the NC tape TP is an M , S or T function instruction, the arithmetic and control circuit OPCN delivers the instruction to the machine side through the power magnetics circuitPWC. Then, when a signal from the machine side rises to a high level, indicating completion of the machine operation based on the M , S or T function instruction, the arithmetic and control circuit OPCN generates the NC data read signal RST to effect the read out of the next item of machining data. When a G function instruction is read from the NC tape TP, the input control circuit ICT applies the instruction to the arithmetic and control unit OPCN, the latter responding by executing processing in accordance with the G function. When the G function instruction G73, for moving the electrode toward a fixed point along a straight line, is commanded in a retraction control operation, the arithmetic and control unit OPCN stores the G function instruction G73 in a storage area not shown , i.e., sets a predetermined storage area to logical 1 , and stores the present position Xa, Ya, Za , in terms of each axis, in the fixed point storage memory FPM as coordinates Xf, Yf, Zf of the fixed point A Fig. 5 . As the electrode is performing machining by being moved along the commanded path based on a path command following the issuance of G73, the short circuit signal SS is applied to the arithmetic and control unit OPCN through the power magnetics circuit PWC when the electrode contacts theworkpiece at the point P in Fig.5. When the short circuit signal SS goes high, the arithmetic and control unit OPCN immediately delivers the pulse distribution inhibit signal PDI to the pulse distributor PDC, and saves the contents of the data memory DMM, namely the present position Xa, Ya, Za , incremental values AX, Y, and the remaining amounts of movement Xm, Ym, Zm , etc., in the saving memory SMM, so that the contents of the data memory will not be erased.Next, the unit OPCN obtains the fixed point A and the incremental values AX , AY , bZ up to the present position short circuit position P by performing the following operations EMI12.1 tb Xf Xa SEP SEP AX , SEP Yf Ya SEP SEP AY , SEP Zf Za SEP SEP AZ SEP tb and applies the incremental values aX , iY , oZ to the pulse distributor PDC, thereby starting the pulse distribution operation.Accordingly, the electrode is moved retracted toward the fixed point A along a straight line and continues to be retracted until the short circuit ends or until a forward movement signal is generated. When the short circuit ends when the short circuit signal SS vanishes at point R Fig 5 , the pulse distribution inhibit signal PDI is generated to halt the pulse distribution operation. At this time, the present position in the data memory DMM isXa , Ya , Za , which is equivalent to the coordinates of the point R. Next, the arithmetic and control unit OPCN performs the operations EMI13.1 to obtain incremental values X , AY11, sZ up to the contact point point P , applies these values to the pulse distributor circuit PDC, and stores the incremental value sX , Y , dZ as remaining amounts of movement Xm , Ym Y , Zm Z . The pulse distributor PDC performs a pulse distribution operation based on the incremental values , sY , XZ and applies the distributed pulses Xp, Yp, Zp to a servo unit not shown to drive DC motors for respective axes, whereby the electrode is moved toward the shortcircuit point P. At the same time, the distributed pulses Xp, Yp, Zp enter the arithmetic and control unitOPCN. The latter performs the operations given by expressions 2 , 3 each time the distributed pulsesXp, Yp, Zp are received, thereby updating the present position and the remaining amounts of movement. When the condition Xm 0, Ym 0, Zm 0 is attained, that is, when the electrode arrives at the short circuit pointP, the pulse distribution inhibit signal PDI is generated to halt the pulse distribution operation.Then, finally, the present position Xa, Ya, Za , incremental values X, aY, xZ and remaining amounts of movement Xm, Ym, Zm, which have been saved in the saving memory SMM, are returned to the data memory DMM, and the incremental values X, sY, XZ are applied to the pulse distributor PDC, whereupon the electrode is again moved along the commanded path to resume electric discharge machining. In a case where G72 is commanded, retraction control is performed in the known manner, with the electrode being retracted along the previously machined path, when the short circuit signal SS is generated. In other words, the control program includes a processing program for retraction toward the fixed point, and a processing program for retraction along the previously machined path. Switching between the programs is controlled in accordance with whether G72 or G73 is commanded. According to the present invention, when a short signal is generated, the electrode is moved linearly toward a previously designated fixed point irrespective of the already machined path, thereby to promptly end the short circuited state, shorten machining time and resume machining in stable fashion. It is also possible to switch between retraction along an already machined path and retraction toward a previously designated fixed point, so that the electrode can be retracted in the manner best suited to the machining conditions and machining method.