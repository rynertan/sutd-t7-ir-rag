# FUNCTION INSTRUCTION SYSTEM FOR A PROGRAMMABLE CONTROLLER.

## Abstract
The system expands functions by allowing three or more results of logical operations to be considered. E.g., a function instruction for a subrouting SUB 90 orders comparison of a value with a reference value under particular control conditions BYT, DAT, ACT e.g., specifying whether the reference value is a constant or an address, etc.. The result of the comparison is supplied to one of three registers R1 3 indicating whether the compared value is less than, equal to or greater than the reference value. In the first case processing continues, in the second, processing continues until a correction value is reached, whereupon a lamp lights up to indicate this, and in the third an interrupt sequence is initiated.

## Claims
CLAIMS 1. A functional instruction system of a programmable controller, comprising functional instruction means for executing functions necessary for machine tool control means for deciding control conditions serving as data needed by the functional instruction means for execution means for deciding parameters serving as data needed by the functional instruction means for execution plural memory means for storing plural execution results from said functional instruction means and means used in machine tool control for freely referring to results of logical operations stored in said plural memory means. 2. A functional instruction system of a programmable controller according to claim 1, characterized in that said plural memory means is a plurality of registers each comprising one bit.

## Description
DESCRIPTION FUNCTIONAL INSTRUCTION SYSTEM OF PROGRAMMABLE CONTROLLERTechnical Field This invention relates to a functional instruction system of a programmable controller hereafter referred to as a PC and, more particularly, to a functional instruction system of a PC capable of outputting the plural results of logical operations.Background Art The instructions of a PC conventionally include basic instructions and functional instructions. Basic instructions are those most used for creating sequence programs and are for performing one bit logical operations such as AND or OR. Functional instructions, on the other hand, are prepared specially for NC machine tools and facilitate the creation of programs that would be difficult to create using basic instructions alone. With an increase in the varieties and complexity of objects that can be placed under control, occasions in which functional instructions are used are becoming more frequent. Fig. 1 is an explanatory view illustrating functional instructions and shows that it has become possible to execute timer processing, decode processing, counter and comparison instructions, a coincidence decision, etc. Since it is nearly impossible to operate on numerical data using a one bit basic instruction in thePC instructions, an instruction for operating on numerical data generally is registered in advance as a functional instruction in the PC and the instruction is used upon being called by a sequence program. Figs. 2 a and b are embodiments of PC instructions using functional instructions. Fig. 2 a is an example execution of Comparison COMP SUB 15 , and Fig. 2 b is an example of execuation of Coincidence decision COIN SUB 16 . Let us now describe the comparison function. In this subroutine SUB 15 , a reference value and a comparison value are compared in magnitude and the result is set in R1. 1 If BYH is O as a control condition, the processing data is a two digit BCD binary coded decimal if BYH is 1 , the processing data is a four digit BCD. 1 If DAT is 0 as a control condition, the reference value is specified by a constant if DAT is 1 , the reference value is specified by an address. 3 If ACT is 0 as a control condition, comparison processing is not carried out and R1 is unaffected if ACT is 1 , processing is executed. If the result of processing is 0 , the comparison value is less than the reference value if 1 , the comparison value is equal to or greater than the reference value. Next, let us describe the coincidence decision function. In this subroutine SUB 16 , it is determined whether the reference value and comparison value are the same, with the result of the operation being set in R1. The control conditions are the same as those for the comparison function. If R1 is nO , the reference value does not equal the comparison value if 1 , the reference value and comparison value are equal. Thus, functional instructions supplement a program which is difficult to create solely with basic instructions and they simplify sequence control programs. Objects which are placed under control are growing more diversified and it has recently become necessary to perform logical operations for which the above described functional instructions are inadequate.Let us describe one example. In a case where a reference value and comparison value are compared, it would be very convenient if 1 reference value comparison value 2 reference value comparison value, and 3 reference value comparison value could be obtained simultaneously and sequence processing executed in accordance therewith. With the conventional PC instructions, however, as mentioned above, R1 is the result of this logical operation and can be expressed only as 1 or O . By way of example, if it is attempted to obtain three results, as set forth above, then it will be necessary to execute both the comparison instruction SUB 15 and the coincidence decision SUB 16. This increases the number of steps, raises the cost of programming and makes programming a troublesome task.Disclosure of the Invention The present invention has been devised to solve the foregoing problems and its object is to provide a functional instruction system of a PC in which, even if the result of a logical operation comes to two or more values, these are stored in a plural bit register and sequence processing in conformance with the result of this logical operation is executed, thereby enriching the functional instructions. According to the present invention, the foregoing object is attained by providing a functional instruction system of a PC, the system including functional instruction means for executing functions necessary for machine tool control, means for deciding control conditions serving as data needed by the functional instruction means for execution, means for deciding parameters serving as data needed by the functional instruction means for execution, plural memory means for storing plural execution results from the functional instruction means, and means used in machine tool control for freely referring to results of logical operations stored in the plural memory means. By providing the above described functional instruction system of a PC, the conventional functional instructions can be enriched, the number of steps reduced and costs lowered.Brief Description of the Drawings Fig. 1 is an explanatory view of PC functional instructions, Figs. 2 a and b are examples of PC functional instruction formats, Fig. 3 is an example of a PC functional instruction format according to the present invention, Fig. 4 is a schematic view of a sequence program, and Fig. 5 is a flowchart showing an example of sequence processing to which the functional instruction system of the present invention is applied.Best Mode for Carrying Out the Invention Fig. 3 illustrates a format embodying a functional instruction system according to the present invention.An embodiment of a functional instruction system will now be described in conjunction with this drawing. In this functional instruction, a reference value and a comparison value are compared and the arrangement is such that any of the three logical operation results, namely 1 reference value comparison value 2 reference value comparison value 3 reference value comparison value is set in a respective one of plural bit registers R1 R3. The control conditions are the same as those for the comparison function of Fig. 2 a and a description thereof is deleted. Register R1 indicates 1 if reference value comparison value holds and O in all other cases. Register R2 indicates 1 if reference value comparison value holds and 0 in all other cases.Register R3 indicates 1 if reference value comparison value holds and 0 in all other cases. If register R1 indicates 1 , machining performed by a machine tool continues. Next, if register R2 indicates 1 , machining performed by the machine tool continues and the fact that a compensation value has been attained is indicated by a lamp. If register R3 is 1 , machining performed by the machine tool is suspended. Though the plural registers R1, R2, R3 are used in this embodiment, it can be arranged to use the registers R1 and R2, wherein reference value comparison value is set in a case where register R1 is 0 , reference value comparison value is set in a case where register R1 is 1 , and reference value comparison alue is set in a case where register R2 is nl . Fig. 4 is an explanatory view of this condition. A sequence main program calls the above described functional instruction subroutine, performs plural bit logical operations and refers sequentially to the results of these logical operations by the sequence program. Fig. 5 is a sequence processing flowchart using the functional instruction system of the present invention. According to the flowchart, 1 when a comparison command is issued by the sequence program, the functional instruction subroutine 2 reads in the reference value and comparison value and 3 compares the reference value and the comparison value. 4 If the result is reference value comparison value, machining performed by the machine tool continues if the result is reference value comparison value, machining performed by the machine tool continues and an indication is made showing that a compensation value has attained the reference value and if the result is reference value comparison value, machining performed by the machine tool is suspended.Industrial Applicability The present invention is not limited to the PC instruction comparison of the illustrated embodiment but can be applied to other PC instructions, such as coincidence decision and rotation control . Also, the invention not limited to the registers R1, R2, R3 for storing the results of operations, for it goes without saying that a required number of registers in excess of the above can be provided.