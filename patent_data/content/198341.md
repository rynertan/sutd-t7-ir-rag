# DIGITAL DATA PROCESSING CIRCUIT HAVING A BIT REVERSE FUNCTION

## Claims
Datenverarbeitungsschaltung mit einem Satz Dateneingangsanschlüsse, denen Eingangsdaten aus einer Reihe von Bits B0 B3 zugeführt werden, und einem Satz von Datenausgangsanschlüssen 00 03 von denen Ausgangsdaten abgeleitet werden, wobei die Datenverarbeitungsschaltung eine Bitumkehrschaltung 2 mit einem Satz Eingangsknoten aufweist, von denen jeder mit einem entsprechenden der Dateneingangsanschlüsse verbunder ist, und einem Satz Ausgangsknoten DB0 DB4 zur Ausgabe von Bitumkehrschaltungs Ausgangsdaten, und einer Schiebeschaltung 3 mit einem Satz Eingangsknoten, von denen jeder mit einem entsprechenden der Ausgangsknoten DB0 DB4 der Bitumkehrschaltung verbunden ist zum Empfang der Bitumkehrschaltung Ausgangsdaten, einen Satz von Ausgangsknoten, von denen jeder mit einem entsprechenden der Datenanschlüsse 00 03 verbunden ist und einem Satz Steuerknoten, der mit einem Verschiebewert darstellenden Steuerdaten versorgt wird, wobei die Schiebeschaltung 3 die Bitumkehrschaltungs Ausgangsdaten um den durch die Steuerdaten repräsentierten Verschiebewert verschiebt und die verschobenen an die Ausgangsknoten der Schiebeschaltung 3 ausgibt und somit an die Datenausgangsanschlüsse 00 03 , dadurch gekennzeichnet, daß die Umkehrsteuerschaltung 2 ferner aufweist einen Steuerknoten, der mit einem Steuersignal C0 versorgt wird, das zwischen einem ersten logischen Pegel und einem zweiten logischen Pegel variabel ist, wobei die Bitumkehrschaltung eine vollständige Reihe der Eingangsdaten B0 B3 umkehrt und die umgekehrten Daten an die Ausgangsknoten DB0 DB3 als die Bitumkehrschaltungs Ausgangsdaten ausgibt in Abhängigkeit vom ersten logischen Pegel des Steuersignals C0 , und wobei die Bitumkehrschaltung die Eingangsdaten B0 B3 an die Ausgangsknoten DB0 DB3 als Bitumkehrschaltungs Ausgangsdaten ohne die Reihenfolge der Bits der Eingangsdaten B0 B3 umzukehren in Abhängigkeit von dem zweiten logischen Pegel des Steuersignals ausgibt, wobei die Datenverarbeitungsschaltung eine vollständige oder partielle Bitreihe der Eingangsdaten B0 B3 umkehrt und Ausgangsdaten erzeugt, die Informationen entsprechend der umgekehrten Bitreihe der Eingangsdaten enthält in Abhängigkeit von dem ersten logischen Pegel des Steuersignals C0 , wobei eine Anzahl von Bits der ersten partiellen Bitreihe der Eingangsdaten durch den durch die Steuerdaten repräsentierten Verschiebewert bestimmt sind, und wobei die Datenverarbeitungsschaltung die Eingangsdaten B0 B3 um den durch die Steuerdaten repräsentierten Verschiebewert verschiebt und Ausgangsdaten erzeugt, die Informationen entsprechend der verschobenen Eingangsdaten enthalten, in Abhängigkeit vom zweiten logischen Pegel des Steuersignals C0 .

## Description
The present invention relates to a digital data processing circuit having a bit reverse function and more particularly to a digital data processing circuit suitable for a digital signal processor with fast Fourier transform FFT function. When a discrete Fourier transform DFT is performed by a digital signal processor, the FFT algorithm is usually employed. In order to perform the FFT, the order of a bit string of a data to be processed has to be reversed. The data to be processed is usually stored in a memory. To reverse the order of the bit string, the data is read out of the memory and is processed by means of software technology or a hardware circuit. It is important to reverse the order of the bit string at a high speed in order to enhance a signal processor s performance. With respect to the bit reverse, various techniques have been proposed. For example, a table memory in which data having a reversed bit string are preliminarily stored is used in the prior art. The stored data having the reversed bit string is read out of the table memory at need. This prior art, however, requires a large amount of memory capacity and is unsuitable for a small size signal processor chip. Therefore, a hardware circuit to reverse the bit string is effective in the signal processor chip. A bit reverse circuit proposed in the prior art uses a plurality of switching gates inserted between a bus and a register. A bit string of a data in the register is reversed and derived from the register via the switching gates. Thus, the bit reverse operation can be performed at a high speed without a large amount of memory capacity. However, the abovementioned bit reverse circuit can not reverse a part of the bit string, selectively. In other words, a full bit string or a fixed bit string is only reversed. Therefore, in the case that a bit reverse operation for a part of a data or for arbitrary bits of a data is required, the prior art bit reverse circuit is not satisfied and is incomplete. Never the less, the device described in the disclosure US A 4181976 operates a reversing of a part of a bit string. The document Electronic Design, January 12, 1984, pages 385 391 discloses a device including a bit reversal multiplexer connected to a shifter, but it does not teach the reversing of a part of a bit string. An object of the present invention is to provide a data processing circuit having a bit reverse function of a part or arbitrary bits of a data. Another object of the present invention it to provide a data processing circuit suitable for a signal processor having the FFT function. A data processing circuit having a bit reverse function according to claim 1 comprises a bit reverse circuit which reverses a full bit string of a data or a fixed part of a bit string of a data and a shifting circuit coupled to the bit reverse circuit through a bus. The bit reverse circuit includes a plurality of switching gates for reversing the full bit string or the fixed part of a bit string. The shifting circuit receives the data having a reversed bit string and shifts the received data rightwardly or leftwardly according to a required shift value. Thus, both a full bit string or a fixed part of a bit string and a part of a bit string or arbitrary bits of a bit string can be easily reversed at a high speed. A further embodiment of the invention is defined in the appended dependent claim. Referring to Fig. 1 a data processing circuit manipulating a data with 4 bits B0 to B3 is indicated. A register 1 can store a data of 4 bits B0 to B3 and is coupled to a bus having 4 signal lines DB0 to DB3 via a bit reverse circuit 2. The bus is coupled at an input end of a shifting circuit 3. In detail, the signal lines DB0 to DB3 are coupled to input terminals I₀ to I₃, respectively. A data with a reverses bit string is derived from output terminals 00 to 03 of the shifting circuit 3. The bit reverse circuit 2 has a first group of switching transistors Q₁ to Q₄ and a second group of switching transistors Q ₁ to Q ₄. The first group of transistors Q₁ to Q₄ are turned on at the same time in response to a control signal C₀, while the second group of transistors Q ₁ to Q ₄ are turned on at the same time in response to an inverted control signal C₀. That is, the first group transistors and the second group transistors are switched exclusively for each other. The transistors Q₁ to Q₄ are connected to the signal lines DB0 to DB3, respectively, while the transistors Q ₁ to Q ₄ are connected to the signal lines DB3 to DB0, respectively. Thus, when the first group of transistors Q₁ to Q₄ is selected, bits B0 to B3 of a data stored in the register 1 are transferred to the signal lines DB0 to DB3 as they are, respectively. On the other hand, when the second group of transistors Q ₁ to Q ₄ is selected, the bits B3 to B0 are transferred to the signal lines DB0 to DB3, respectively. In the latter case, a data having a reversed bit string B3, B2, B1, B0 is transferred to the bus. As described above, a full bit string of a data in the register 1 is reversed by the bit reverse circuit 2. Further, in the case that the bit reverse circuit 2 is employed to a part of a bit string, a fixed part of the bit string may be reversed. However, the bit reverse circuit 2 can not reverse a variable part of the bit string of the data in the register 1. Therefore, to obtain the data in which a required bits of the bit string are selectively reversed or in which the order of the bit string is changed arbitrary, the shifting circuit 3 is provided. The shifting circuit 3 has a plurality of switching transistors 16 transistors Q₅ to Q₂₀ in this embodiment arranged in a matrix shape. The transistors Q₅, Q₉, Q₁₃ and Q₁₇ are coupled in common to the signal line DB0 via the input terminal I₀ at their one ends. The transistor Q₆, Q₁₀, Q₁₄ and Q₁₈ are coupled in common, at their one ends to the signal line DB1 via the input terminal I₁. The transistors Q₇, Q₁₁, Q₁₅ and Q₁₉ are coupled in common at their one ends to the signal line DB2 via the input terminal I₂. The transistors Q₈, Q₁₂, Q₁₆ and Q₂₀ are coupled in common at their one ends to the signal line DB3 via the input terminal I₃. The other ends of the transistors Q₅ to Q₈ are connected to the output terminal 03. The other ends of the transistors Q₉ to Q₁₂ are connected to the output terminal 02 in common. The other ends of the transistors Q₁₃ to Q₁₆ are connected in common to the output terminal 01. The other ends of the transistors Q₁₇ to Q₂₀ are connected in common to the output terminal 00. The transistor matrix shown in Fig. 1 is divided into four groups a first group of Q₅, Q₁₂, Q₁₅ and Q₁₈ a second group of Q₆, Q₉, Q₁₆ and Q₁₉ a third group of Q₇, Q₁₀, Q₁₃ and Q₂₀ and a fourth group of Q₈, Q₁₁, Q₁₄ and Q₁₇. These four groups are selectively controlled by an output of a decoding circuit 4 receiving a data A₀ and A₁ representing a shift value. Transistors of the first group are selected and turned on at the same time in response to an output of an NOR gate N₃ which generates an active signal when A₀ and A₁ are both 1 . Transistors of the second group are selected and turned on at the same time in response to an output of an NOR gate N₂ which generates an active signal when A₀ and A₁ are 0 and 1 , respectively. Transistors of the third group are selected and turned on at the same time in response to an output of an NOR gate N, which generates an active signal when A₀ and A₁ are 1 and 0 , respectively. Transistors of the fourth group are selected and turned on in response to an output of an NOR gate N₀ which generates an active signal when A₀ and A₁ are both 0 . The relation between an input data and an output data of the shifting circuit 3 will be described in table 1. As shown in table 1, when the control signal C₀ and the A₀ and A₁ are all 0 , the data with the full bit reversed string is obtained at the output end of the shifting circuit 3. When the control signal C₀ and the A₀ and A₁ are 0 , 1 , 0 , respectively, upper 3 bits are selectively reversed. While, low 2 bits are reversed when C₀, A₀, A₁ are 0 , 0 , 1 , respectively. When C₀, A₀, A₁ are 0 , 1 , 1 , respectively, lower 3 bits are reversed. Thus, a full bit string or a part of the bit string can be selectively reversed at a high speed with a small amount of memory capacity. Further, as shown in table 1, arbitrary bits can be changed or shifted according to the combination of the C₀, A₀ and A₁. The present invention can also be applied to reverse a data having N bits N 2 . Fig. 2 indicates a block diagram of a principal part of a signal processor chip. A working register WR 12 which stores 55 bits is coupled to a memory 10 storing a plurality of data to be processed in accordance with the FFT algorithm via a system bus 11. A data to be reversed is read out of the memory 10 and is entered into the working register 12 in respone to a clock signal ø₁ shown in Fig. 3. The data entered into the working register 12 is read out thereof in response to a clock signal ø₂. The bit string of the read out data is reversed fully by a bit reverse circuit 13. Thereafter the reversed data is restored in the working register 12 in response to the clock signal ø₁. The reversed data is transferred to a Q register 14 in response to the clock signal ø₂. The Q register 14 is coupled to a shifting circuit a barrel shifter or a lateral shifter 15. The shifting circuit 15 shifts the data of the Q register 14 according to the result of a decoder 17 which receives a data representing a shift value from a register 16 to which the data is preliminarily stored by means of a program control, a key input operation or the like. The output of the shifting circuit 15 which may be the same circuit as that of Fig. 1 is applied at one input end of an arithmetic logic unit ALU 19 via a multiplexer 18. At this time, the ALU 19 receives a no operation command NOP . So that the output of the shifting circuit 15 is entered into the working register 12 as it is in response to the clock signal ø₁. As described above, by providing the shifting circuit 15, the multiplexer 18 and the bit reverse circuit 13 on the signal processor chip, a full bit string and a part of bit string of a data used in the FFT operation can be selectively reversed. Further, the reverse operation is performed at a high speed as shown in Fig. 3