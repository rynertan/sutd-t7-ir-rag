# Device for detecting the direction and speed of rotation of a rotating element.

## Abstract
Device for detecting the direction and speed of rota tion of a rotating element comprising a pair of phototran sistors 6, 7 which are energized by a light source 1 , according to an ordered sequence, through a disck 4 formed by opaque and transparent sectors coupled to the rotating element. The two phototransistors control, when energized, the switching on of two transistors 8,9 which enable the dis charge of two capacitors 14, 16 , charging with a pre determined time constant in the interval time between dis charges. The discharge control action of one of the two photo transistors on a first capacitor 16 is however conditioned by the charge level reached by the other capacitor 14 and therefore both by the order in which phototransistors are energized and by the energization frequency. If the energization frequency is lower than a certain limit or the energization order is not the correct one, the first capacitor reaches a charge level higher than a reference value and supplies an indication signal accordingly.

## Claims
Claims 1. A device for detecting direction and speed of rotation of a rotating element characterised in that it comprises first circuit means 7, 11 for generating a first pulsed signal having a frequency related to the rotational speed of said element, second circuit means 3, 13, 14, 12 receiving in Input said first pulsed signal for producing a record sawtooth pulsed signal with frequency equal to the one of said first signal, third circuit means 3. 10 responsive to said signal and to the rotation of said element for generating a third pulsed signal having frequency equal to the one of said first signal, phase angle relative to said first signal d depending on the direction of said ro tation movement and variable width depending both on said frequency and said phase angle, fourth circuit means 15, 16 responsive to said third pulsed sisignal to produce a fourth electrical signal, in form of sawtoothed pulses with frequency equal to the one of said first signal, when the width of said third signal is higher than a predetermined value, in form of a voltage rising damp for a width of said third signal lower than a predetermined value, fifth circuit means 10 responsive to said fourth signal to supply an information signal whom the width of said fourth signal exceeds a predetermined threshold value 2. Device as claimed In clair 1 characterised in that said first circuital means comprises a first photosensitive element 7 fed by a constant voltage and intermittently energized by the rotation of said element to produce said first pulsed signal and wherein said third circuit means comprises a accord photosensitive element 6 fed by se cond signal produced by said second circuit means and intermittently energized by the rotation of said element to produce said third pulsed signal. 3. Device as claimed in claim 2 characterised in that said second circuit means comprises a resistor 13 and a capacitor 14 , series connected between a voltage supply end ground and a first transistor switch 8 for shorting said capacitor, said first transistor receiving at its base said first pulsed signal and wherein said fourth cir cuit means comprises a second resistor 15 and a second capacitor 16 series connected between a voltage supply and the ground and a second transistor switch 9 for shorting sald second capacitor, said second transistor receiving at tis base said third pulsed signal.

## Description
Device for detectIng the direction and speed of rotation of a rotating elementThe present invention relates to deo ces for detecting the direction of rotation of a rotating element and for signalling both the actual direction of rotation and any variation from a predetermined rotational speed.Devices for detecting the speed and the direction of rotation of a rotating element are known in the prior art.An example of such devices is the one described in French PatentN. 2.404.855, relating to digital tachometers which utilizes a logic circuit comprised of 8 AND and 2 OR gates having two inputs and two outputs.Two pulse signals, which can be obtained from the rotation movement, are applied to the inputs.According to the direction of rotation, one of the two outputs is at logic level 0 while the other one presents a pulse train whose frequency is proportinat to the rotational speed.Such device, already complex in its structure, is not capable of detecting by itself the direction and the speed of rotation of a rotating element to carry out such operation further circuits, which make it more complex and expensive, are needed.The present invention device is simplified and therefore is particular ly suitable as a protection circuit as well as useful in several appli cation for control ose Its utilization is particularly suitable for fan monitoring.Cooling fans are necessary to dispose of the heat developped inside the equipments which are characterized by great electrical heat converted power losses, as nor instance tr motIon picture projectors, power supplies for processors and electronic equipments, electronic equipments themselves and so on.For ventilation purposes several control devices for electrical fans are known in the prior art, as for instance the one described in U.S.Patent n. 3.935.522, lit their ma n purpose is the one to obtain different working speed for the fan, without providing to the equipments any protection from possible failures.The device of the present invention, when used in the particular field of ventilation, controls, cn the contrary, that the fan is rotating with a rotational speed higher than a predetermined value and provides a signal which allows to intervens quickly, switching off the device, if the fan stops or rotates with a speed lower than a critical Qne. Besides the device provides an intervention signal also in case the fan rotates in the direction opposite to the desired one, which can occur in a system comprising several fans when one of such fans is not working in such case, in fact the defective fan can be drown to rotate with direction opposite to the normal one owing to the air flow generated by the other fans.These and other features of the invention will appear more clearly from the following detailed description of a preferred form of embodi ment and from the attached drawings in which Figure 1 shows a preferred en bodinsn 0 She invention Figure 2a and 2b show the signal waveforms at different points of the circuit where the direction of rotation is correct and where the rotational speed is higher and tower respectively than a prede termined critical speed Figure 3 shows the signal waveforms at different points of the cir cult where the direction of the rotation is incorrect.With reference to figure 1 the device according to the invention com prises an emitting photodiode 1 whose cathode is connected to ground 5 and whose anode is connected, through resistor 2, to the positive pole 3 of a V continuous voltage source.The negative pole of such continuous voltage source not shown is connected to ground 5 Diode 1 is directly polarized and emits light raciation. A disk 4, having opaque and trasparent sectors, is fixed to a shaft not shown whose direction and speed of rotation is to be monitored.Together with photodiode 1, the disk 4 forms a light pulse generator which energizes two phototransistors 6 and 7.The light pulse duration depends both on the rotatioral speed of disk 4 and on the angular wicks of the disk s trasparent sectors.The two phototransistors 6 and 7 are placed in slighty different angular position in order that during disk 4 rotation one phototransistor is lighted befo the other one altought in a particular anou lar position of the disk the ts.o phototransistors can be lighted at the same time.It is also to be noted that if the direction and the speed of rotation of a fan is to be monitored, the fan itself with its vanes may perform the function of disk 4.Phototransistor 6 has its emitter connected both to ground, through a resistor 10, and to the base of transistor 9 its collector is connected to the collector of transistor Transistor 9 has its mitter connected to ground and the collector con nected to the V voltage source through a resistor 15.Transistor S has its emitter connecten to ff0 d and its collector con nected to the V voltage source through a resistor 13.A capacitor 14 is connected between collector of transistor 8 and ground.Likewise a capacitor 16 is connected between collector of transistor 9 and ground.Phototransistor 7 has its collector connected to the V voltage source through a resistor 11 and its emitter connected to the base of tran sistor 8.A resistor 12 is connected between the base of transistor 8 and ground.Transistor 8 is brought to saturatic n by phototransistor 7 with a fre quency proportional to the rotational speed of disk 4, thereby allowing capacitor 14 to discharge. It is to be noted that when phototransistor 6 is lighted, and conducting, the voltage level present on capacitor 14 is shared between the internal resistance of phototransistor 6 and the one of resistor 10.Depending on its level tre voltage crop on resistor can bring or not bring transistor 9 in saturation.Collector of transistor 9 is connected to the inverting input of a comparator 18.A capacitor 15 is connected between ccllector of transistor 9 and ground. Even transistor 9, ten cottiductin. allows capacitor 16 to discharge.A reference voltage Vnr corresponding to a suitable fraction alpha of the voltage supply V is applied to the non inverting input of comparator 18.This value VR is the comparator 1S threshold voltage.The operation of the circuit is row consiDereC in detail.When the light emItted by photodiode 1 energizes phototransistor 7, a base current is generated causing conduction of phototransistor 7 through resistor 11 e colleotor current is therefore drawn and another current with the same order of magnitude flows through resistor 12, causing a voltage tsc c.rng rg transistor 8 to saturation.As soon as transistor 8 gets to saturation, capacitor 14, which is charged during the the intervals ve transistor 8 is not conductive, with a time constant given by the value of resistor 13 and the one of capacitor 14, is quickly discharged through transistor 8. When the light pulse is terminated, phototransistor 7 is returned to interdiction and transistor 8 too, so that capacitor 14 beginsto char ge again with the already mentioned time constant.When the light emitted by photodiode 1 energizesphototransistor 6, it becomes conductive thereby presenting an internal resistance value re latively low if compared with the value of resistor 10.In such a situation nearly the whole voltage present at capacitor 14 ends is applied to resistor 10.It is to be noted that during the period when phototransistor 6 is in conduction the charge tit constant of capacitor 14 decreases.It is now assumed that disk 4 rotates Ir order to energize first phototransistor 6 and, with a short delaj, phototransistor 7 sequence corresponding to the correct direction of rotation .Refer to figure 2a where signal waveforms at several circuit points are shown. Diagram A shows a timing diagram of the saturation conduction or interdiction status of phototransistor 6.Diagram B shows a timing diagram of the saturation conduction or interdiction status of phototransistor 7 Diagram C shows a timing diagram of the charge status of capacitor 14.In case of correct direction of rotation the time interval from the end of the light pulse on phototransistor 7 to the beginning of the next light pulse on phototransistor 5 1 sufficiently long to enable capacitor 14 to charge at a voltage value which suffices to bring to saturation transistor 9 through the voltage divider formed by the in ternal resist abe of phototransistor 6 and by resistor 1S, when phototransistor 6 is conductive Diagram D shows a timing diagram of the conduction status of phototransistor 6.During the interval in which phototransistor 6 is conductive, capacitor 16, which was previously charging through resistor 15, is quickly discharged through transistor 9 diagram E . Therefore, when phototransistor 6 Is I lighted before phototransistor 7 and the illumination cycles follow with an adequate frequency, caps citor 16 will not reach a charge voltage so high in value as to equal or exceed the reference voltage value MR. Comparator output will therefore have an high voltage value diagramF .It is however evident that if rotational speed decreases to a value for which the luminous purse train frequency decreases to a value lower than a predetermined minimum one given by EMI6.1 where R15 resistor 15 value, C16 capacitance 16 value and 1n is the natural logarithm notations the voltage ramp of terminals of capa citor 16 reaches the VR value of the reference voltage and the output of comparator 18 is brought intermittently do vn to a low voltage value diagram F flg e 2b In such a case, to avoid that the comparator output rises again to an high voltage value fcllcwirg the discharge of capacitor 16, a simple logic network can be used to m.crize the occurrence of an anomalous working condition.It is now assumed that disk 4 rotates In a way as to light phototransistor 7 first and. phototransistor 6 sequence corresponding to wrong direction of rotation In such a case the time interval from the end of light pulse on phototransistor 7 and the begining of the light pulse on phototransistor 6 is too short to enable tho charge voltage of capacitor 14 to reach a relatively high value and consequently during conduction of phototransistor 1 the voltage drop on resistor 10 is not sufficient to bring transistor 3 n InTherefore the charge of carachter on 15 roaches in a short time the VP value of the voltage reference and consequently output of comparator 18 will drop a 10 voltage value.Figure 3 shows with its waveforms the above situation.In the preferred embodiment of tre invention, pho osensitive detectors convert the rotational movement into electrical signals.such elements are inexpensive and after several possibilities of utilization.It is however obvieus that othem Finds of transducers can be used to convert the rotation movement into a train of electrical pulses, as for instance magnetoelectric transducers without departing from the scope of the invention. Likewise, further circuit modifications can be made to the device, still without departing from the invention purpose. For instance the emitter of of transistor 5 Can be connected to the base of transistor 9 through an RC 17 derivative circuit shown within dotted line in fire 1. It may happen that, at the power on, disk 4 does not start to move and that its sectors stand in such a position as to energize phototransistor 5 but not phototransistor Therefore a relatively hirnJ continuous voltage is available at resi stor 10 which locks transistor 9 in saturation.Consequently the charge voltage of capacitor 15 does not reach the VR value and the device does not intervence to detect an anomal working condition.Derivative circuit 17, making transistor 9 sensitive at the rise fronts only of the voltage present at resistor 10 ends avoids such an unlikely inconvenience.