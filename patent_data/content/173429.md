# DATA PROCESSING SYSTEM

## Claims
Datenverarbeitungssystem mit einer Zentraleinheit 53 , mit der ein Ein Ausgangsbus 59 und ein Speicherbus 61 verbunden sind, gekennzeichnet durch einen mikroprozessorgesteuerten Videosteuerabschnitt 57 mit einem Videospeicher 127 , der direkt mit dem Speicherbus 61 verbunden und zur Abgabe von Videosignalen für eine CRT Bildschirmeinheit 65 geeignet ist, und durch eine Ein Ausgabesteuerung 55 mit einem einzigen Prozessorabschnitt 71 , der einerseits zur Steuerung von Terminal Ein Ausgabegeräten KEYBOARD und des Videosteuerabschnitts 57 über einen Terminalsteuerabschnitt 75 mit der Zentraleinheit 53 und dem Videosteuerabschnitt 57 und andererseits zur Steuerung anderer Ein Ausgabegeräte MOUSE, MODEM, MAG, TAPE, LPT, LAN, DISKS über einen Ein Ausgabe Steuerabschnitt 77 mit dem Ein Ausgangsbus 59 verbunden ist.

## Description
The present invention relates to data processing systems, and more particularly to the terminal and input output control sections of a data processing system. In data processing systems the terminal is normally connected to the system host central processing unit CPU through an RS232 cable. A CRT display, a keyboard and sometimes a mouse are connected to the terminal. Control of these devices is achieved through a controller device in the terminal. The controller device usually includes some logic and or hardware for generating the video timing and control signals for the CRT display. The video memory for use with the CRT is generally a part of the controller devices. Input output devices, such as a disk drive and or a tape drive are connected to the system input output bus, each through a separate controller device having a separate processor. One of the shortcomings of this arrangement is that it uses a number of different processors, one for the terminal controller and a separate one for each one of the input output controllers. Another shortcoming of this arrangement is that although the memory in the terminal controller is generally adequate for use with the CRT display for displaying text it is not adequate when graphics are to be displayed. It is known from Computer Design, Vol.15, No.6, June 1976, page 42, Graphics System Provides Both Storage and Refresh Graphics to provide an intelligent graphics terminal which incorporates two processors, one a general purpose processor and the other a special display processor. It is also known from Wescon Conference Record, Vol.25, September 1981, pages 1 10 31 5 , Color graphics with an advanced LSI controller , Jeffrey L. Wise and Henryk Szejnwald, to provide a display controller which operates independently of the local terminal microprocessor. According to the present invention there is provided a data processing system comprising a central processing unit, an input output bus connected to said central processing unit, and a memory bus connected to the central processing unit, characterised by a microprocessor controlled video control section including a video memory directly connected to the memory bus and adapted to output video signals for a CRT display, and by an input output controller including a single processor section connected on one hand to the central processing unit and to the video control section via a terminal control section to control terminal input output devices and the video control section, and connected on the other hand to the input output bus via an I O control section to control other input output devices. In the following description, reference is made to the accompanying drawings and in which is shown by way of illustration, a specific preferred embodiment of the invention. In the drawings wherein like reference numerals represent like parts Referring to Fig. 1 there is illustrated a block diagram of conventional prior art data processing system 11. Data processing system 11 includes a main or host CPU 13 which is connected to an I O bus 15 and a memory bus 17. A plurality of memory devices labelled 17 1 and 17 N are connected to memory bus 17 and a plurality of controllers are coupled to I O bus 15, each controller being used in connection with a different peripheral device. In the system shown there is a disk controller 19 for use with a disk drive, a LAN controller 21 for connecting the system to a local area network, a LPT controller 23 for use with a line printer and a tape controller 25 for use with a tape drive. Each controller includes its own processor. A terminal 27 is connected to CPU13 over an RS232 cable 29. Terminal 27 includes a controller 31 which includes its own video memory 33. A CRT display 35, a keyboard 37 and a mouse 39 are each connected to controller 31. Referring now to Fig. 2, there is illustrated a block diagram of a data processing system constructed according to the teachings of the present invention and identified generally by reference numeral 51. Data processing system 51 includes a central processing unit CPU 53, an input output I O controller 55, a video control section 57, an I O bus 59, a memory bus 61 and a memory device 63. CPU 53 is the host CPU for data processing system 51 and controls and manages the overall operations for the system. I O controller 55 is implemented as a single printed circuit board and controls the various input output devices which are connected to it. Video control section 57 is implemented as a single printed circuit board and controls the operations of a CRT device 65 which is coupled to it over a line 67. I O bus 59 and memory bus 61 are each connected to CPU 53. Memory device 63, which is coupled to memory bus 61 over a line 69, holds the operating program for data processing system 51 as well as data received from I O control section 77. I O controller 55 includes a processor section 71, a timing clock generating section 73, a terminal control section 75 and an I O control section 77. Processor section 71 manages the operations of terminal control section 75 and I O control section 77. Timing clock generating section 73 generates the necessary clock signals for the operation of I O control subsystem 55. Terminal control section 75 includes a keyboard interface 79 for interfacing the section to a keyboard, a CPU interface 81 for interfacing the section to CPU 53 and a video control section interface 83 for interfacing the section to video memory subsystem 57. CPU interface 81 is coupled to CPU 53 through a cable 85 which may be an RS 232 cable. Video memory subsystem interface 83 is coupled to video control section 57 over a line 87 made up of two wires. One of the wires constitutes the data path from terminal control section 73 to video control section 57 and the other line provides a path for sending clock signals from video memory subsystem 57 to terminal control section 75. I O control section 77 includes an I O bus 88, a disk drive interface and controller section 91, a local area network interface controller section 92, a line printer interface and controller section 95, a tape drive controller section 97, a mouse comtroller section 99 and a modem interface section 101. Data channel controller 89 controls the flow of data between I O control section 77 and I O bus 59 over a line 103. Disk drive controller section 91 controls the operations of disk drive systems which are coupled thereto over a line 105. Local area network controller section 93 controls the operation of a device connected thereto over a line 107 which is coupled to a local area network. Line printer controller section 95 controls the operation of a line printer which may be connected thereto over a line 109. Tape drive controller section 97 controls the operation of a tape drive system which may be connected thereto over a line 111. Mouse controller section 99 controls the operations of a mouse which may be connected thereto over a line 113. Modem interface section 101 allows a modem to be coupled thereto over a line 115. As can be seen, the only connection between terminal control section 75 and CPU 53 is through cable 85 and the only connection between I O control section 77 and I O bus 59 is through line 103. Also, line 87 serves as the data path from terminal control section 75 to video memory subsystem 57 for transferring data. Referring now to Fig. 2A there is shown a block diagram of the video control section 57. Video control section 57 includes a microprocessor 121, an EPROM 123, a microprocessor memory bus interface section 125, a video memory 127, a memory bus video memory interface 129, an oscillator section 131, a timing and synchronizer circuit 133, a shifter 135, a palette 137, and a D A converter 139. Microprocessor 121 manages the overall operations of video control section 57 and may be an 8031 chip. Microprocessor 121 receives coded data signals from I O controller subsystem 55 over line 87. Eprom 123 holds the operating program for microprocessor 121. Interface section 125 interfaces microprocessor 121 to memory bus 61. Video memory 127 is a dual port RAM which receives data signals from microprocessor 121 over memory bus 61, timing signal called V clock from timing and synchronizer circuit 133 over a line 140 which shifts a row register in video memory 127 and outputs a serial stream of data and timing signals to shifter 141 over a line 141. Interface 129 interfaces video memory 129. Oscillator section 131 generates two clock signals, one called processor clock which is sent to microprocessor 121 over a line 143 and to timing and synchronizer circuit 133 over a line 145 and the other called pixel clock which is sent to timing and synchronizer circuit 133 over a line 147 and to palette 137 over line 149. Timing and synchronizer circuit 133 receives in addition to the processor clock and pixel clock signals a video timing control signal called HBLANK from microprocessor 121 over a line 151, a video timing control signal called Referring now to Fig. 2, there is shown a more comprehensive block diagram of I O control subsystem 55. Subsystem 55 includes a microprocessor 201, identified as ALPHA,a peripheral interface controller 203 identified as EPIC which serves as a multi function subsystem and a memory array 205. Microprocessor 201 manages all of the functions in I O control subsystem 55. Peripheral interface controller 203 which is implemented as a single chip contains circuitry and or logic 207 for providing a real time clock for supporting the timing of the program executed by microprocessor 201, circuitry 81 for interfacing to the RS242 cable 85 and interface circuitry 209 for interfacing to a magnetic tape drive. Interface circuitry 209 is connected to a transceiver 211 that converts the signals generated by multi function subsystem chip 203 into appropriate signals for transmission to and from the magnetic tape drive over line 111. Memory array 205 is a 64K x 16 dynamic RAM DRAM which stores information received from microprocessor 201 or from disk controller 91 or from LAN controller 93 or from data channel controller 89 and thus serves as the memory for processor section 6. An address multiplexor 213 is connected to DRAM 205 over a line 215. Address multiplexor 213 selects which particular source, i.e. microprocessor 201, data channel controller 89, LAN controller 93 or disk controller 91 is addressing DRAM 205. A 16 bit memory bus 217 having a data in channel 219 and a data out channel 221. Microprocessor 201 is connected to a processor bus 223 over a bi directional line 225. Sub system chip 203 is connected to processor bus 223 over a bi directional line 227. As can be seen, processor bus 223 provides the address and data path from microprocessor 201 and subsystem chip 203 to all other sections on I O control subsystem 55. Processor bus 223 is connected over a line 227 to an address latch 229 which latches the address generated by microprocessor 201 or sub system chip 203. Address latch 229 is connected to an address decoder 231 which interprets the address in address latch 229 and determines which section on I O control subsystem 55 is being addressed. Processor bus 223 is connected to the 16 bit memory bus 217 by a latch 233 and a buffer 235. Latch 233 is a data out latch which is connected to the data in channel 219 of memory bus 217. Data out latch 233 takes data sourced from either microprocessor 201 or sub system chip 203 which is being sent to memory 205 and holds the data until memory 205 is ready to receive it. Buffer 235 is a tri state buffer that receives data coming from memory 205 over channel 221 of memory bus 217 and drives it into either microprocessor 201 or sub system chip 203. Data channel controller 89, local area network LAN controller 93 and disk controller 91 are also connected to memory bus 217. Data channel controller 89 which manages the transfer of data between memory 205 of processor section 71 over system I O bus 59 to system memory 63 through CPU 53 includes a local data channel address counter 241, a data channel input register 243, a data channel output register 245, a data channel address counter 247 and an input output transceiver 249. Local data channel address counter 241 is a counter that is loaded from either microprocessor 201 or sub system chip 203 with the address in microprocessor memory 205 that is to be accessed. Data channel input register 243 is a 16 bit register that holds data which is read from processor memory 205 and sends it over I data line 103 to system I O bus 59 to system CPU 53 when requested to do so by system CPU 53. Data channel output register 245 is a register that holds data received from main CPU 53 over I O bus 59 and line 103 until such time as it can be written into processor memory 205. Data channel address counter 247 is an address counter that holds the main CPU 53 address which is to be accessed. I O transceiver 249 is a driver receiver combination that interfaces data channel controller 89 to the system I O bus 59. LAN controller 93 includes a serializer 251, a microprocessor 253, an address latch 255, a data in buffer 257 and a data out buffer 259. Serializer 251 is a serial interface adapter which converts differential signals from microprocessor 253 to single ended mos type signals which are sent out and received from the local area network transceiver interface not shown . Microprocessor 253 is a dedicated microprocessor that performs the functions of the local area network to which LAN controller may be attached. Address latch 255 is a latch that takes the address from microprocessor 253 and holds it to access processor local memory 205. Data in buffer 257 serves as a driver for driving data from local memory 205 to microprocessor 253 during a read operation. Data out buffer 259 serves as a driver for driving data from microprocessor 253 to local memory 205 during a write operation. Disk controller 91 includes a floppy formatter 261, a Winchester formatter 263, a microprocessor 265, a disk data output register 267, a disk data input register 269 and a memory address generator 271. Floppy formatter 261 interfaces I O control section 77 to floppy disk drive which may be attached thereto. Winchester formatter 263 interfaces I O control section 77 to a Winchester disk drive which may be attached thereto. Microprocessor 265 manages the operations of floppy formatter 261 and Winchester formatter 263. Disk data output register 267 provides a data path for data from floppy formatter 261 and Winchester formatter 263 to local memory 205 through data input channel 219. Disk data input register 269 provides a data path for data from local memory 205 through data output channel 221 to floppy formatter 261 and Winchester formatter 263. Disk data output register 267 and disk data input register 269 perform the necessary byte packing and unpacking between memory bus 217 which is 16 bits and the disk internal bus 273 which is 8 bits. Processor bus 223 is also connected to a local bus L identified as bus 273 through an L data out latch 275 and an L data in buffer 277. L data bus 273 can be accessed only by microprocessor 201 and is the bus used by microprocessor 201 to manage the remainder of I O control subsystem 55. L data out latch 275 takes data from processor bus 223 that is sourced from microprocessor 201 which is being sent out over L data bus 273 to a particular device coupled to L data bus 273 and holds the data until that device is ready to receive it. Data in buffer 277 is a tri state buffer that receives data from L data bus 273 that is coming from one of the devices connected to L data bus 273 and drives the data into microprocessor 201. A number of devices are connected to L data bus 273. These devices are an 8K x 16 ROM 279, a first DUART 281, a second DUART 283, a set of data channel control registers 285, a first interface 287, a second interface 289, a command register 291, a status register 293 and a set of PIO interface registers 295. In addition to receiving data and sending out data over L data bus 273, these devices also receive address and control signals from microprocessor 201 over line 297. ROM 279 is the ROM that holds the program for microprocessor 201 that is executed by microprocessor 201 on power up. After power up, the operating program for operating I O control subsystem 55 is obtained from either the Winchester, the floppy or the tape drive. DUART 281 is a single chip containing two universal asynchronous receiver transmitter devices. One of the devices is used to communicate with a mouse over line 113 while the other device is used to communicate with the line printer over line 109. DUART 283 is also a single chip containing two UART devices. However, only one of the UART s is actually used, and that one is used for communicating with the modem over line 115. Data channel control registers 285 comprises a set of registers which are used to provide a data path from microprocessor 201 for loading up local data channel address register 241, data channel address control register 247, to store the particular operation being performed and to store the number of words to be transferred across the data channel. First interface 287 contains the circuitry for interfacing the terminal control section 75 to the keyboard and second interface section 289 contains the circuitry for interfacing terminal control section 75 to video memory subsystem 57. Command register 291 is a register that is written into by microprocessor 201 to control the various functions of I O control subsystem 55. Status register 293 is the register that microprocessor 201 reads into to determine what is actually occurring in I O control subsystem 55. PIO registers 295 are registers used to provide a command and status interface to CPU 53. Referring now to Fig. 4 there is shown a schematic diagram of the major components of the timing generator section 73. Timing generator section 73 includes a twelve cell twisted ring counter 301, an oscillator circuit 303, a memory timing circuit 305, associated logic 307 and associated logic 309. Twelve cell twisted ring counter 301 is made up of six quad D type flip flops labelled 311 through 321. Flip flops 311, 313 and 315 are used to convert the 48 MHZ clock signal from oscillator circuit 303 into a 2 MHZ clock signal. Flip flop 317 converts the 48 MHZ clock signal into an 8 MHZ clock signal and flip flops 319 and 321 convert the 48 MHZ clock signal into a 4 MHZ clock signal. Oscillator section 303 includes 48 MHZ crystal oscillator 323 and a buffer 325. Oscillator 323 and buffer 325 together generate the 48 MHZ clock. Memory timing circuit 305 includes an OR gate 327 which gates clock signals Referring now to Fig. 5 there is shown a schematic diagram containing microprocessor 201, subsystem chip 203, latches 233, 275, buffers 235 and 277 and RS232 interface section 81. Microprocessor 201. ALPHA in Fig. 3 includes a microprocessor chip 357 and associated logic 359, the associated logic including a pair of gates 359 1 and 359 2. Controller chip 203 includes a circuit 91 for interfacing processor section 71 to the magnetic tape, portions of the circuitry for interfacing terminal control section 75 to the RS232 cable and a real time clock. The interface circuitry 81 for interfacing terminal control section 75 to the RS232 cable also includes a pair of receivers 361 and 363 and a transmitter 365. Data output latch 233 includes a pair of octal latches 233 1 and 233 2. L Data output latch 275 includes a pair of octal latches 275 1 and 276 2. Data in buffer 235 includes two octal tri state buffers 235 1 and 235 2. Referring now to Fig. 6 there is illustrated logic circuitry associated with the processor bus 223. The circuitry includes three latches 229 1, 229 2 and 229 3 which together comprise address latch 229, a PAL 231 1 and a PROM 231 2 which together comprise address decoder 231, a PAL 367 which controls the flow of data on processor bus 223, a D type flip flop 369 which latches the ready signal to PAL 231 1, a random logic 371 which permutes the high order microprocessor address and a pair of PROMS 279 1 and 279 2 which together comprise ROM 279. Referring now to Fig. 7 there is illustrated a schematic diagram of the magnetic tape interface circuitry 97. Circuitry 97 includes a transceiver chip 97 1, an interrupt receiver circuit 97 2 for bus 111 and circuitry 97 3 which serves as a passive interface termination to bus 111. Referring now to Fig. 8, there is illustrated a schematic diagram of the command and status portion of processor section 71. The portion includes a bank of four configuration switches 373 1 through 373 4, a set of four pull up resistors 375 1 through 375 4 and a set of four 2 line multiplexors 377 1 through 377 4. The four configuration switches 373 together provide 32 switches whose values can be read from microprocessor 201 as two 16 bit words. The portion also includes the address decoder 231 which is made up of three decoders 231 1, 231 2 and 231 3. The portion further includes interrupt status registers 231. These registers comprise a pair of tri state buffers 293 1 and 293 2 which act as buffer line drivers and allow microprocessor 201 to read the interrupt status of the various devices coupled to the I O control unit 77. The portion further includes a mask register 379 which is made up of two quad D flip flops 379 1 and 379 2. The mask register 379 allows microprocessor 201 to write into it with bits that enable each device that it interrupts. There is also a tri state buffer 381 which allows microprocessor 201 to read a number of other status bits on I O control subsystem 55, a quad D flip flop 383 which serves as a MAP register and a quad D flip flop 385 which has 4 bits of state that microprocessor can write into it. One of the states lights an LED 387 which indicates the status of the subsystem is OK after power up and self test. Referring now to Fig. 9 there is illustrated a schematic diagram of another portion of processor section 27 along with the interface circuits connecting terminal control section 75 to the keyboard and connecting terminal control section 75 to video memory subsystem 57. Referring now to Fig. 10 there is illustrated a circuit diagram of the interface 95 to the line printer LPT, the interface 99 to the mouse and the interface 101 to the modem. The circuitry includes a set of ten RS232 receivers 501, a pair of UARTS 403 and 405, a NAND gate 407 which buffers the reset to UART 403, an oscillator 409 which generates a 10 MHZ clock signal for UART 405, a set of RS232 transmitters 411, a UART interrupt circuit 413, an OR gate 415 and an and or gate 417. Referring now to Fig. 11, there is illustrated a schematic diagram of the memory control portion of processor section 71. The portion includes a quad D flip flop 419, a refresh counter 421, a D type flip flop 423, a PAL 425, a 4 to 1 multiplexor 427, a pair of address decoders 429 and 431, a quad D flip flop 433, a NAND gate 435 that is used as an inverter for the refresh signal and three other gates 437, 439 and 441. Referring now to Fig. 12, there is shown a schematic diagram of the memory section of processor section 71. The memory section includes a memory array 205, sixteen 64K DRAM s labelled 205 1 through 205 16 which collectively provide storage For 64K 16 bit words and a set of 8 address multiplexors labelled 213 1 through 213 8. The memory section also includes a pair of refresh address counters 419 and 421 and a refresh address driver 423. The refresh address driver is used to drive the memory address during the refresh cycle. Referring now to Fig. 13, there is illustrated a schematic diagram of a portion of the data channel control section 88 labelled PIO registers section 295. There is logic 501 which performs arbitration between microprocessor 201 accessing the PIO registers and the host CPU 53 accessing the PIO registers. The logic includes an 8 input NAND gate 503, a 2 input AND gate 505, a 3 input NAND gate 507, a latch 509, a pair of 3 input NAND gates 511 and 513 and a 2 input NAND gate 515 and a D type flip flop 517. There is also a PROM 519 which serves as a reincoder device for reincodeing the code from I O bus 59 into the addresses in the RAMS that hold the PIO registers, a PAL 521 which converts commands from the CPU interface PIO into addresses and control signals to access the RAMS that hold the PIO registers and a PAL 523 which generates control signals for the data transfers in and out of I O control subsystem 55. There is also a circuit 525 for interrupting the host CPU 53 if microprocessor 201 runs into any problems. Circuit 525 includes an inverter 527, a 3 input NAND gate 529 that decodes the signal from the host CPU 53, an RS type flip flop 531, an inverter 533 and a D type flip flop 535. There is also a circuit 537 that generates the chip select that enables the RAMS that contains information whether and based on that information accesses from either microprocessor 201 on the PIO registers. Circuit 537 includes an inverter 539 and four NOR gates 541,543, 545 and 547. There is also a circuit 549 made up of an OR gate 552, three 4 input NAND gates 553, 555 and 557, an inverter 559 and four OR gates 561, 563, 565 and 567. There is also a D type flip flop 569 that generates a bit indicating whether anything has been done after a reset, an AND gate 571, a pair of J K flip flops 573 and 575 and a gate 577. Referring now to Figs. 14 and 15 there are illustrated schematic diagrams of other portions of PIO register sections 295. Looking first at Fig. 14, there is a RAM section 600 made up of four 1K x 4 bit RAMS 601, 603, 605 and 607 which are used to store the PIO registers. There is a circuit 609 made up of two multiplexors 611 and 613 and 3 AND gates 615, 617 and 619. The multiplexors 611 and 613 selects between addresses to RAMS 600 from addresses microprocessor 201 and addresses from the PIO. There are a pair of octal transceivers 615 and 617 which provide a data path between RAMS 600 and the I O interface. There are a pair of octal transceivers 619 and 621 that provide a data path between RAMS 600 and the processor bus 223 and the L data bus 273. There is a 8 bit latch 619 that contains bits which are set when a PIO command comes in for a particular device, a tri state buffer 621 which is used to allow microprocessor 201 to determine who is doing the interrupting, a pair of five input NAND gates 623 and 625 and a two input NAND gate 627 which together form a bit that interrupts the microprocessor 201 and an open collector driver 629 which actually interrupts microprocessor 201. There is a D type flip flop 629 which is used to provide a ninth interrupt bit, an RS type flip flop 631 that gets set when host CPU 53 issues an I O reset command that interrupts microprocessor 201 through a collector driver 633 and a latch 635 that latches on the PIO address system that connects to RAMS 600. Turning now to Fig. 15, there is circuitry for the BUSY and DONE latches for each one of the devices connected I O control subsystem 55 and the interrupt generation logic. There is an 8 bit latch 641 that contains the busy bits for each device code, an 8 bit latch 643 that contains the done bits for each device and a pair of multiplexors 645 and 647 that allow host CPU 53 to interrogate the busy bits and the done bits. Drivers 649 and 651 are I O bus drivers for the busy and done bits, respectively. Register 653 is a register that holds the masked bits. When a masked bit is set it disables that particular device from interrupting. Octal tri state buffer 655 is used as an octal inverter for the masked bits. NAND gates 657 gate each device s done bit with each device s masked bit. Encoder 659 functions as a priority encoder for all of the interrupts. Register 661 is a register which synchronizes the interrupt to the signal from the host CPU and also synchronizes a data channel request to the host CPU. Drivers 663 and 665 are the drivers to the host CPU for data channel requests and interrupt requests. PROM 667 converts the interrupting device into its device code which can be interpreted by the host CPU 53. Referring now to Figs. 16, 17, 18 and 19 there are illustrated schematic diagrams of portions of data channel controller 89. Looking first at Fig. 16, decoder 669 is the decoder for the microprocessor addresses for loading the register that control the data channel. The decoder is a part of data channel control registers 285 in Fig. 3. Circuit 671 is a set of gates which are also used to control the loading of the registers 285. Gates 671 1 and 671 2 are OR gates while gates 671 3, 671 4 and 671 5 are NAND gates. Circuit 673 is a counter that determines how many words can be transferred from local memory to 205 to host memory 63 or the reverse across I O bus 61. The circuit is made up of two counters 673 1 and 673 2 and a D type flip flop 673 3. There is also a circuit 675 which is made up of an AND gate 675 1 and a D type flip flop 675 2. Circuit 675 determines when a data channel transfer can be performed. Although only a single I O control subsystem 55 is shown, data processing system 55 may include a plurality of I O control subsystems, each coupled to data processing subsystem 53 in the same manner as I O control subsystem 55 when a number of I O control subsystems are employed, some form of technique such as a daisy chain priority scheme is used to enable one I O control subsystem to access the main system. There is a circuit 675 which functions as a state machine . Circuit 675 is made up of two J K flip flops 671 1 and 675 2 and a plurality of gates 675 3 through 675 6. Circuit 675 is used to control data transfers between the host CPU and memory 205. There is also a D type flip flop 677 that is used to buffer a DCHSEL signal and an open collector driver 679 that is used to interrupt microprocessor 201 when a data channel transfer is completed. Turning now to Fig. 17, there is a set of four counters 681 which serve as the host CPU 53 data channel address counters, a quad D type flip flop 683 which serves as a control register, has bits which specifies the direction of transfer and determines whether data should be byte swapped. There is a group of four 4 bits counters 683 which together form a 16 bit counter that is the local address i.e. the address of memory 205 to be transferred. There is also an inverter 685 for counters 685 and a set of four gates 687. Turning now to Fig. 18, there is a pair of octal D registers 689 1 and 689 2 which provide the data path for the I O data for use in writing to memory 205 and perform byte swapping and a pair of octal D registers 691 1 and 691 2 which also provide a data path for the I O data. There is also an AND gate 693 and a pair of OR gates 695 and 697 which collectively control registers 689 and 691. There is a pair of octal D registers 699 1 and 699 2 which are used to provide a data path from local memory 205 to I O bus 59. Registers 701 1 and 701 2 perform the same function as registers 699 1 and 699 2 and in addition perform the byte swapping function. There is a set of four multiplexors 710 which are used to select between addresses and data that is being sent from local memory 205 to the host CPU 53. During one part of a data channel transfer host CPU 53 asks for the address and during the other part of a data channel transfer host CPU 53 asks for the data. There is also a circuit 703 that keeps track of what part of a data channel transfer is being done and then switches between address times and data times. Circuit 703 includes a 3 input NAND gate 703 1, an AND OR INVERT gage 703 2, a D type flip flop 703 3 and another AND OR INVERT gate 703 4. Turning now to Fig. 19, there is shown the interface circuitry 89 for interfacing data channel controller 88 to I O bus 89. The circuitry includes fifteen Schmidtt triggered NAND gates 705 labelled 705 1 through 705 15. Each one of the gates 705 is connected to a filter circuit 707 to increase noise immunity. Gates 705 and their associated filters 708 perform the input receiving function off of I O bus 59. There is a set of sixteen output drivers 709 1 through 709 16 that are used to drive the data from I O control section 77 to the host CPU 53 over I O bus 59. Each one of drivers 709 is an open collector NAND gate. Gates 711 and 713 is a gate that are used to enable the data. Additional controls are provided through AND OR INVERT gate 715. Receivers 717 and 719, which are octal tri state buffers, take data from host I O bus 59 and drive the data onto the internal data bus 721 see Fig. 3 . When the control logic determines that I O control board 55 should be receiving data from host CPU 53, drivers 709 are enabled. Multiplexor 723 is used to drive data onto the local data bus 273 when the data is not coming from I O bus 59. There is a set of inverters 725 which are used to invert the signals from drivers 705 11 through 705 15, two other inverters 727 and 729 and a 3 input NAND gate 731. There is also a set of logic 733 made up of two inverters and two input NAND gates which is used in the priority scheme for determining access to I O bus 59. Turning first to Fig. 20, memory address generator 271 includes a pair of counters 751 and 753, a pair of 2 line multiplexors 755 and 757, a pair of D type flip flops 759 and 781 and an open collector driver 763. There is also a pair of octal D registers 765 and 767 which are used to provide a data path from M bus 273 which is 9 bits wide to the M data bus 217 which is 16 bits wide so that disk processor 265 can write into memory 205. There is also a pair of octal D registers 769 and 771 are used to read data from memory 205. There is a D type flip flop 773 which is used to determine which byte is being accessed on M bus 273 and a D type flip flop 775 which counts M bus 273 transfers and after each two transfers makes a memory request. OR gate 777, and AND gate 779 and OR gate 781 are used to initialise flip flop 775. AND gate 783 is used to inhibit memory transfers when memory 205 is not ready to receive the data. Flip flops 785 and 787 are J K type flip flops which are used to determine whether memory 205 is ready for a data transfer. Circuit 789 contains logic which determines if memory 205 is ready for a data transfer. The logic comprises two OR gates 792 and 793 and two AND gates 795 and 797. In Fig. 21 there is illustrated the details of the 8049 microprocessor section 265. The section includes a microprocessor 801 which contains a program that interprets commands written into memory 205 and transforms the commands into an appropriate sequence of commands to the Winchester formatter 263 and the Floppy formatter 261. There is a pair of tri state buffers 803 and 805 which are used to drive random data onto M bus 273, a command register 807, a set of four decoders 809 for decoding addresses and a logic circuit 811 that allows microprocessor 801 to interrupt microprocessor 201 after it has finished a command and which is made up of an AND gate 811 1, a D type flip flop 811 2, an AND gate 811 3 and an open collector AND gate 811 4. There is also a logic circuit 813 that allows microprocessor 201 to interrupt microprocessor 801 when it has a command to issue. Circuit 813 is made up of an RS type of flip flop 813 1 and a collector driver 813 2. There is also a pair of tri state drivers 815 and 817 which function as a multiplexor to drive the READ and WRITE signals. There is a buffer 819 which is used to drive the reset into microprocessor 801. There is a circuit 821 which allows microprocessor 801 to read the values of a group of eight switches of configuration information. The circuit includes a switch 821 1, a set of pull up resistors 821 2 and a tri state buffer 821 3. There is a circuit 823 for determining whether the Winchester or the Floppy are connected. The circuit includes an AND gate 823 1 and associated resistors 821 1, 821 2 and 821 3. Turning now to Fig. 22 there is shown a schematic diagram of floppy formatter 261. There is a data separator circuit 831 which includes pull up resistors 831 1, an input receiver 831 2, an inverter 831 3, a one shot monostable multivibrator 831 4, a D type flip flop 831 5 and a phase lock loop circuit 831 6. There is also a floppy disk controller chip 833 and associated components. The associated components include a pair of OR gates which are part of the decoding circuitry when processor 265 chip 833 united commands to controller 833, a reset buffer 839, a gate 841, and a set of pull up resistors 843. There is also a timer 845 that instructs controller 833 to perform certain functions. There is also a write data generator 845 that includes head select logic and a precompensation network. Write data generator includes a multiplexor 845 1, an open collector driver 845 2, a delay line 845 3, a pair of D type flip flops 845 4 and 845 5 and an inverter 845 6. There is also a state machine circuit 847 which controls the transfer of data from controller 833 to memory 205. Circuit 847 includes an AND OR INVERT gate 847 1, three D type flip flops 847 2, 847 3 and 847 4, an AND gate 847 5 an inverter 847 6, a NAND gate 846 7 and OR gate 846 8, a NAND gate 846 9 and a pair of tri state drivers 846 10 and 846 11. Turning now to Fig. 23, there is illustrated a schematic diagram of the logic for the Winchester formatter 263. There is a data separator circuit 851 which includes a differential receiver 851 1, an AND OR INVERT gate 851 2, a one shot 851 3, a phase lock loop circuit 851 4 and a flip flop 851 5. There is a controller chip 853 and associated components. The associated components include an AND gate 853 1 which gates the reset and AND gate 853 2 which tells controller chip 851 6 when it can access memory 205, a gate 853 4 that conditions the buffer ready signal by gating it with a 1 MHZ clock, a NAND gate 853 5 which serves as a control for the read and write signals, an AND gate 853 6 and a circuit 853 7 that controls access to memory 205 from controller chip 853 and comprises two AND gates 853 8 and 853 9. There is a NAND gate 853 10 which selects controller chip 853 for access by processor 801. There is also a tri state buffer 853 11 which is always enabled and an inverter 853 12 which together act as a receiver for status signals from the Worchester disk drive connected to the Winchester formatter 263. There is also a set of pull up resistors 853 13. There is also a write data generator 855 for controller 853 which includes a differential driver 855 1, a multiplexor 855 2, a delay line 855 3 and an open collector driver 855 4. There is also a circuit 857 that drives the control information to the Winchester disk dirve and which includes ten open collector line drivers 857 1 and two inverters 857 2. There is also a hex D type flip flop 859 and a 10 MHZ crystal oscillator 86 and a NAND gate 863 which together produce a 5 MHZ clock. Referring now to Fig. 24, there is shown a schematic diagram of the LAN controller circuit 253. Circuit 253 includes a controller chip 901 which has an AND gate 903 which acts as a buffer on the reset signal input of controller chip 901, a D type flip flop 905 for synchronizing the interrupts from processor 201 to LAN controller chip 901, a D type flip flop 907 coupled to an inverter 907 1 which synchronizes the request for memory from LAN controller chip 901 to memory 205, a 3 input NOR gate 909 which synchronizes memory 205 with LAN controller 253 and an open collector driver 911 which drives a microprocessor 201 interrupt when the LAN controller 253 is finished with a command. There is also a latch section 913 corresponding to block 255 in Fig. 4 made up of 3 latches 913 1, 913 2 and 913 3 which takes the memory addresses from controller 901 and holds the addresses until memory 205 is ready to handle them. There is a pair of tri state buffers 915 and 917 that are used to drive data from controller 901 to M data in channel 219 of memory bus 217, a pair of tri state buffers 919 and 921 that are used to drive data from M data out channel 221 of memory bus 217 to controller 253 and a pair of gates 923 and 925 which control the transfer of data from memory 200. Referring now to Fig. 25 there is shown a circuit diagram of serializer 251. There is a chip 921 which converts incoming differential signals into MOS signals which are sent to controller chip 901. Components connected to chip 921 include an oscillator circuit 923. There is a set of four MOS level drivers 925, a set of three inverters 927 and a delay line 929. There is also a circuit 929 for conditioning the collission delect and a circuit 931 for conditioning the carrier delect. Circuit 929 includes a one shot 929 1 while circuit 931 includes an AND gate 931 1, an OR gate 931 2, a counter 931 3, an OR gate 931 4, a one shot 931 5 and an AND gate 931 6. Referring now to Figs. 26 through 29 there is illustrated schematic diagrams of the circuitry in video memory interface 129. As noted before, video memory interface 129 is used to interface video memory 127 to the system memory bus 61. Looking first at Fig. 26, there is a pair of inverters 1001 and 1003 which are used to buffer signals off of system memory bus 61. There is a D type flip flop 1003 which clocks out a drive signal which allows data, after a memory address has occurred to be driven out on bus 61. There is a two input gate 1005 which acts as an input to flip flop 1003 to determine the state when data should be driven out on bus 61. Gate 1005 receives a control signal data output strobe There is a 4Y AND OR INVERT gate 1009 which collectively gate the control signals which determine when a RASS should occur There is a NOR gate 1011 which gates between inputs There is a pair of OR gates 1021 and 1023 which serve as buffers which are used to drive the RASS and CASS signals to the appropriate memory driver device. OR gate 1025 OR s together two memory control signals to allow the DRAMS in video memory 127 to be accessed as if they were in different planes of memory. D type flip flops 1027 samples the saved state of data and gates out a write signal to the RAM s in video memory 127 if it is a write cycle. There is a NAND gate 1029 which receives signals Turning now to Fig. 27, there is a 2 input NOR gate 1037 which allows the closing of a portion of an octal latch 1039 which is used to sample physical address signals so that the desired address for a memory transaction can be retained. The remainder of this latching function is performed cumatively by octal latches 1041 and 1043. There are two 2 line multiplexors 1045 and 1047 which multiplex the addresses latches by latches 1039, 1041 and 1043. There is a tri state octal buffer 1049 which is enabled by refresh latch Flip flop 1057 is a quad D type flip flop which is clocked by address latch ADRLTCH and which provides synchronized double rail i.e. both polarities of the VRAM SELECT signal to the reminder of interface logic 129. Turning now to Fig. 28, there is a group of four octal D registers 1059 through 1065 which collectively comprise the write data input register. These registers hold data to be written to the memory 127 so that when a write signal occurs the data will be written properly. Together they provide 32 bits of write data. The receive inputs from a buffered version of the memory data bus, the buffered signals being shown as The The outputs from registers 1059 through 1065 are outputted through series terminating resistors 1075 as write data even signals WDEV1 through WDEV31. Turning now to Fig. 29, there is illustrated the output portion of video memory interface and controller 129. This portion includes four octal latches 1101 through 1107, four octal buffers 1109 through 1115, four resistor packs 1117, 1119, 1121 and 1123 and two buffer line drivers 1125 and 1127. Signals REDV0 through RDEV31 are the random access outputs of video memory 127. Latches 1101 through 1107, which are controlled by the data output latch control signal Referring now to Fig. 30 there is shown miscellaneous logic associated with video control section 57, microprocessor 121 and interface 125. There is a section of logic 1201 which is the control portion of palette 137 and which allows the synchronization for receiving palette commands. The section includes an inverter 1203, a pair of D type flip flops 1205 and 1207, a NAND gate 1209 and a D type flip flop 1211. Inverter 1203 buffers the signal There is a section of logic which constitutes a portion of the interface 125 between microprocessor 121 and the memory bus 61. The section includes an 8 bit comparator 1221, a set of jumpers 1223, a microbuffer 1225, a decoder 1227, a set of four octal register transceivers 1229, 1231, 1233 and 1235, an octal latch 1237, a pair of octal D flip flops 1239 and 1241 and a pair of D type flip flops 1243 and 1245. Also shown in Fig. 30 is the microporcessor 121 and its associated EPROM 123. Processor 121 manages control section 57 and produces four timing signals, namely H BLANK, V BLANK, 51CSYNC and WINK. Comparator 1221 compares the physical address present on bus 61 to the address set by jumpers 1223. The comparison produces a signal As can be appreciated, flip flops 1243 and 1245 represent the dual functionality of the architecture of processor 121, namely, performing memory reads and writes by virtue of flip flop 1245 which are interspersed CRT timing signals. The CRT timing signals occur at precise intervals under the control of flip flop 1243. OR gate 1245 is used to buffer a signal BSYNC. Referring now to Fig. 31, there is shown logic of the osciallator section 131, the timing and synchronizer section 133 and an additional portion of microprocessor memory bus interface 125. Oscillator section 131 includes a 44 MHZ crystal osciallator 1301 which is buffered by buffers 1303 and 1305 to a signal called pixel clock bar Timing and synchronizer section 133 includes five D type flip flops 1351 through 1359. Flip flops 1351 and 1353 take the signal H BLANK and synchronize it back to the pixel clock speed. Flip flops 1355 and 1357 take the signal BCSYNC and output the signal CSYNC. Flip flop 1351 is clocked by a signal VLOAD. There is a counter 1361 which functions as a divide by sixteen which during the visible portion of any scan line counts every sixteenth pixel. Flip flop 1363 is a D type flip flop and is used to determine when the video stream is blanked. It does this by either the OR gate 1401 takes either the signal XFR or the signal XWR and transmits it to a D type flip flop 1403 which is clocked by MCLK for synchronization purposes and to a D type flip flop 1405. The output There is a PAL 1409 which is used in connection with unaddressed bus activity. PAL 1409 is capable of both driving and receiving the AP1 and PCMD signals which are present on bus 61 so that it can both initiate and decode unaddressed bus activity UABA. PAL 1411 is a cycle decoding PAL which looks at the control signals on bus 61 and produces two signals Referring now to Fig. 32 there is shown the details of video memory section 127. This section is made up of an array of thirty two 64K dual port RAMS 1501 through 1532. RAMS which together produce 256KB of memory. These RAMS are memory devices which function as normal dynamic RAMS with the additional function of having the serial port available for producing the video data stream. Referring now to Fig. 33 there is shown a schematic diagram of another part of memory bus video memory section interface section 129. There are four drivers 1601, 1603, 1605 and 1607. Driver 1601 is used to drive the WRITE and CAS column address strobe signals. Driver 1603 is used to drive the RAS row address strobe signals. Driver 1605 is used to drive certain address lines and driver 1607 is used to drive other address lines and the clock signals. Associated with each driver 1601 through 1607 are resistor packages, the resistor packages being labelled 1609 through 1623. There is also a transfer Q enable driver 1625 which is made up of four gates, and an associated series resistive terminator pack 1627. There is a set of twelve parity generator checkers 1629 which are connected to the read bus RD a local bus in the memory control section which is driven on to the memory bus 61 by buffers 1109 through 1115 see Fig. 29 . Referring now to Fig. 34 there is shown circuitry of shifter 135, palette 137 and the D A converter 139. The VSO signals, which are the serial stream of data signals for each bit from video memory 127, are registered by a bank of eight 4 bit shifters 1701 through 1715. These shifters generate 2 bit pixels and are clocked at the 44 MHZ pixel clock rate to form the pixel stream. These pixels are mapped by palette 137. Palette 137 includes a section 1717 made up of two 1 x 8 multiplexors 1719 and 1721 and a section 1723 made up of a pair of octal flip flops 1725 and 1727. The actual palette entries are registered in section 1723. There is also a four bit counter 1729 which serves as a pipeline register to hold the pixel stream. There is also a driver 1731 which drives a Referring now to Fig. 35, there is shown a set of waveforms of the signals VARKINT, Referring now to Figs. 36 and 37 there is shown a simplified flow chart of the routine in the program of the 8031 processor 121 which is used to control the video memory and to send out the necessary video timing and control signals. As can be seen the program is realized by the calling of two particular subroutines at precise intervals, these subroutines being the XFR0 subroutine and the XFR1 subroutine. The XFR0 subroutine initiates the memory bus read cycle at the turn to video RAM row transfer address so as to perform the cycle necessary for the video RAMS to update the serial shifter, then increments that address and adjusts it for the timing that depends on the fact that the scan is being interlaced, the performs the real time control of the horizontal blank and horizontal sync pulses and then returns. The XFR1 subroutine is somewhat similar to the XFR0 subroutine, with the main difference being that the XRF1 subroutine checks to see if the number of scan lines that have been manipulated in the serial shifter is equal to the number of scan lines on the screen. Referring now to Figs 38, 39 and 40 there is shown waveforms corresponding to what is produced from carrying out the routine in the flowcharts of Figs 36 and 37. The waveforms in Figs 38 and 39 show the vertical blanking interval, with Fig 39 being a magnification of the waveforms shown in Fig 38 and Fig 40 shows the horizontal blanking interval.