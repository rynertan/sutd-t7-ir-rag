# TEMPERATURE COMPENSATED OSCILLATION DEVICE

## Claims
Temperaturkompensierte Oszillatorvorrichtung mit

## Description
The present invention relates to a temperature compensated oscillation device and, more particularly, to a digitally controlled temperature compensated oscillation device. A digitally controlled temperature compensated oscillation device has been extensively used as a local oscillator of a mobile radio apparatus because its frequency generally remains stable over a wide temperature range. Such a type of oscillation device comprises a temperature sensing section made up of a temperature sensor and an analog to digital A D converter, a read only memory ROM which stores compensation data associated with outputs of the A D converter, and an oscillating section responsive to an output of the ROM and made up of a digital to analog D A converter and a voltage controlled oscillator VCO . The problem with an oscillation device having the above construction is that a noticeable variation in ambient temperature causes an output of the A D converter, i.e., an output value of the ROM, to sharply vary for a moment to thereby add frequency modulation noise and phase modulation noise to an output of the VCO. Such, in a multichannel communication system, constitutes a source of noise for other channels or needs to be coped with by designing the exclusive frequency band undesirably wide . DE A 29 36 378 discloses a device for compensating the frequency temperature relation of a crystal oscillator in an oscillator circuit. The device is provided with a capacitance diode which fine tunes the frequency of the crystal oscillator in dependence of the voltage applied to said diode. The fine tuning voltage does not change continuously in dependence of the temperature. but abruptly in predetermined temperature intervals. It is an object of the present invention to provide a digitally controlled temperature compensated oscillation device which reduces the previously mentioned kinds of noise. This object is achieved by the oscillator device according to the claims. The above and other objects, features and advantages of the present invention will become more apparent from the following detailed description taken with the accompanying drawings in which To better understand the present invention, a brief reference will be made to a prior art digitally controlled oscillation device, shown in Fig. 1. As shown, the device comprises a temperature sensing section 1 made up of a temperature sensor 11 and an analog to digital A D converter 12, a read only memory ROM 21, and an oscillating section 3 made up of a digital to analog D A converter 31 and a voltage controlled oscillator VCO 32. The VCO 32 comprises a crystal oscillator and a variable capacitance element. The temperature sensor 11 senses an ambient temperature to convert it to a voltage which is applied as a temperature data signal 101 to the A D converter 12. The A D converter 12 quantizes the input signal 101 to provide a first digital value which is produced as a first digital signal 102. This signal 102 is delivered to an address input terminal of the ROM 21 so as to specify a particular address of the latter, whereby a second digital value stored in that address is outputted as a second digital signal 205a. The D A converter 31 to which the second digital signal 205a is routed transforms the signal 205a into a voltage and applies the voltage as a frequency control signal 301 to the VCO 32. Responsive to the signal 301, the VCO 32 controls the capacitance of its variable capacitance element and, as a result, temperature compensates the frequency of an oscillation signal 302, which is an output of the VCO 32. Details of the temperature compensation effected as above will be described with reference to Figs. 2A 2C. While the frequency control signal 301 is maintained at a certaian constant value, the frequency of the oscillation signal 302 may vary with the ambient temperature as shown in Fig. 2A. Specifically, the graph represents a relationship between the temperature surrounding the crystal oscillator of the VCO 32 and the variation of its resonance frequency. Meanwhile, when the ambient temperature remains constant, the frequency of the oscillation signal 302 may vary with the frequency control signal 301 as shown in Fig. 2B. If the relationship between the first digital signal 102 and the second digital signal 205a in the ROM 21 is selected such that the relationship shown in Fig. 2C holds between the ambient temperature and the frequency control signal 301, the frequency of the oscillation signal 302 will be temperature compensated. The curve shown in Fig. 2C is stepwise because the ambient temperature is quantized as the first digital signal 102. The frequency variation of the oscillation signal 302 after temperature compensation is shown in Fig. 3 relative to the ambient temperature. Comparing Fig. 3 with Fig. 2A, it will be seen that as a result of temperature compensation the frequency variation of the oscillation signal 302 has been reduced to about 1 4 over the temperature range of 20 C to 60 C. Referring to Fig. 4, there is shown a graph representative of exemplary frequency variations of the oscillation signal 302 with respect to time which occur while the ambient temperature is varied with time. As understood by comparing Fig. 4 With Figs. 2A and 2C, the ambient temperature as shown in Fig. 4 is assumed to increase with time and a temperature T₁ is associated with a time t₁ and a temperature T₂ with a time t₂. During the period between the times t₁ and t₂, the frequency control signal 301 remains at a constant voltage V₁ and the frequency of the oscillation signal 302 increases with time. At the time t₂, the signal 301 shifts from the voltage V₁ to a voltage V₂ and, at this moment, the frequency of the signal 302 is sharply lowered. In this manner, at the moment when the output of the A D converter is varied, the frequency of the oscillation signal 302 is sharply varied with the result that frequency modulation noise and phase modulation noise are added to the signal 302. Thus, the digitally temperature controlled oscillation device installed in a radio frequency or phase modulation communication system is sufficiently small in frequency variation, but cannot avoid a substantial magnitude of noise as previously discussed. In addition, the influence of noise extends even to other channels. Referring to Fig. 5, a temperature compensated oscillation device embodying the present invention is shown which is free from the drawbacks stated above. As shown, the oscillation device comprises a temperature sensing section 1 which includes a temperature sensor 11 and an A D converter 12, a control section 2 made up a ROM 21, a comparator 22 and an up down counter 23, and an oscillating section 3 made up of a D A converter 31 and a VCO 32. The VCO 32 comprises a crystal oscillator and a variable capacitance element. The temperature sensor 11 converts an ambient temperature to a voltage and produces the voltage as a temperature data signal 101. Responsive to the signal 101, the A D converter 12 quantizes it to provide a first digital value and applies the first digital value as a first digital signal 102 to an address input terminal of the ROM 21. The ROM 21 produces a third digital value assumed to have a value A from a particular address thereof which is specified by the input signal 102, the third digital value being applied to one input terminal of the comparator 22. Applied to the other input terminal of the comparator 22 is a count from the up down counter 23 assumed to have a value B . The comparator 22 produces an identification signal 202 which is a high level 1 when A B and a low level 0 when A B. The comparator 22 also produces a discrimination signal 203 which is a high level 1 when A B and a low level 0 when A B. The identification signal 202 and the discrimination signal 203 are applied to the up down counter 23. A clock signal 204 is also applied to the up down counter 23 via a clock input terminal 24 of the control section 2. While the identification signal 202 is a high level, the counter 23 is disenabled to maintain the value B equal to the value A. While the identification signal 202 is a low level and the discrimination signal 203 is a high level, the counter 23 is incremented responsive to each pulse of the clock signal 204. When the identification signal 202 is a low level and the discrimination signal 203 is a high level, the counter 23 is decremented responsive to each pulse of the clock signal 204. In this manner, the comparator 22 and the counter 23 cooperate with each other to maintain the value B equal to the value A when A B and to increment or decrement the value B to the value A when A B. The output 205 of the counter 23 is also applied to the D A converter 31. The D A converter 31 converts the input signal 205 to a voltage and applies it to the VCO 301 as a frequency control signal 301. The signal 301 controls the capacitance of the variable capacitance element of the VCO 301 to thereby temperature compensate the frequency of an oscillation signal 302 which is outputted from the oscillation device. Thus, the control section 2 converts a variation in the first digital signal 102 to a plurality of time divided fractional variations in the output 205 of the counter 23. Referring to Fig. 6, an exemplary relationship between time and the frequency variation of the oscillation signal 302 in accordance with the illustrative embodiment is shown, the temperature being assumed as varying with time. Assume that a value A associated with an ambient temperature at a time immediately before a time t₁ is A₁, and that the value A₁ has changed to A₂ at the time t₁. Then, the value B changes from A₁ to A₁ 1 at the time t₁, to A₁ 2 at a time t₁ t Referring to Fig. 7, another embodiment of the present invention is shown. The oscillation device in this particular embodiment differs from that of Fig. 5 in that the up down counter 23 of the latter is replaced with a gate 25 and an up down counter 26, and in that the identification signal 202 and clock signal 204 are applied to the gate 25. Specifically, when the identification signal 202 is a low level, the gate 25 is enabled to pass the clock signal 204 to the up down counter 26 as an output signal 206. When the signal 202 is a high level, the gate 25 is disenabled to interrupt the supply of the clock signal 204 to the counter 26. The gate 25 and the counter 26 cooperates, as labeled 23a in the drawing, to fulfill the function which is assigned to the counter 23 of the first embodiment. Hence, the embodiment of Fig. 7 is the same in operation and effect as the embodiment of Fig. 5. In summary, it will be seen that the present invention provides a temperature compensated oscillation device which reduces frequency variations and noise over a wide temperature range. Hence, a radio communication apparatus implemented with such a device of the present invention will narrow the exclusive frequency band width, compared to a prior art apparatus. Various modifications will become possible for those skilled in the art after receiving the teachings of the present disclosure without departing from the scope thereof. For example, while ROM 21 is used in the illustrative embodiments to serve the function of numerical value conversion means for converting the first digital signal 102 to the third digital signal 201, such a function may alternatively be fulfilled by means of a memory which generates a constant of a polynominal for converting a first digital value to a second digital value and an operation unit for operating the polynomial. Such a kind of conversion means is disclosed in JP A 58 184809, for example. Further, in the illustrative embodiments as well as in the modification mentioned above, the crystal oscillator included in the VCO 32 may be replaced with an elastic surface wave element. In addition, in all the embodiments and their modifications described, the clock signal input terminal 24 may be omitted and, instead, a clock signal generator may be added to the control section 2, in which case the output of the clock signal generator will serve as the clock signal 204.