# FLIP FLOP CIRCUIT

## Claims
Flipflop Schaltung, mit

## Description
The present invention relates to a flip flop circuit for, e.g., constituting a counter. A circuit for recharging a fieldeffect transistor circuit and the application of said circuit in a flip flop circuit is known from EP A1 0 005 743, wherein a voltage pulse is periodically applied to the field effect transistor circuit. The background of the invention is now explained on the basis of a refresh circuit of a dynamic RAM and of a flip flop circuit as shown in figures 1 to 4. It is well known that a dynamic RAM requires refreshing of storage data. Fig. 1 partially shows a refresh control circuit of a dynamic RAM. The memory cells of the dynamic RAM are arranged in a matrix on a semiconductor chip, and constitute memory cell array 10 shown in Fig.1. The rows of array 10 are selected by row decoder 12. In the refresh mode, the content of the memory cells in the selected row is updated to new data having the same logic value as that of old data. The refresh control circuit has address counter 14, which causes decoder 12 to sequentially designate row addresses of array 10. Address counter 14 comprises series connected register stages 14 1 to 14 N. The output terminals of register stages 14 1 to 14 N are parallel connected to row decoder 12 to supply a refresh address signal thereto. Enable signal EN shown in Fig. 1 is supplied to register stages 14 1 to 14 N in the refresh mode. Clock signals 0 and Conventionally like disclosed in US A 4 239 993, each of register stages 14 1 to 14 N has a flip flop circuit like that shown in Fig. 3 or 4. In the flip flop circuits shown in Figs. 3 and 4, the potential of a VDD level e.g., 5 V or a VSS level e.g., 0 V is set at input terminal IN or The operation of the flip flop circuit shown in Fig. 3 will now be described. For example, when MOS transistors Q1 and Q2 are rendered conductive and the potentials of nodes N1 and N2 are respectively set at the VSS and VDD levels, MOS transistors Q3 and Q4 are respectively rendered conductive and nonconductive. The potentials of nodes N1 and N2 are thereby held, even after MOS transistors Q1 and Q2 are turned off. MOS transistor Q8, for example, charges node N4 in response to the leading edge of the potential of the corresponding output terminal OUT. When the potential of node N4 exceeds the VDD VTH level, transistor Q8 is turned off, and node N4 is left charged. The potential of node N4 increases due to its capacitive coupling each time the pulse signal at the VDD level is supplied to capacitor C2, and then exceeds the VDD VTH level. Thereby, MOS transistor Q6 is rendered conductive. If the potential of output terminal OUT is decreased because of a load after it is set at the VDD level, the potential can usually be increased to the VDD level by turning on MOS transistor Q6. When the potential of node N1 is set at the VSS level, MOS transistor Q7 is conductive. However, since node N3 is not charged by MOS transistor Q7, it cannot turn off transistor Q7. MOS transistor Q5 receives a gate voltage at the VSS level through MOS transistors Q3 and Q7, and is rendered nonconductive regardless of the pulse signal at the VDD level supplied to capacitor C1 at this time. Therefore, the potential of output terminal The flip flop circuit shown in Fig. 4 has the same arrangement as that in Fig. 3, except in that the gates of MOS transistors Q7 and Q8 are connected to nodes N2 and N1, respectively. Node N3 is charged by MOS transistor Q7 during a transient period in which the potential of node N1 is changed from the VSS to VDD level and the potential of node N2 is changed from the VDD to VSS level. MOS transistor Q7 is rendered completely nonconductive when the potential of node N2 has reached the VSS level, thus storing charges at node N3. At this time, the potential of node N3 is set at about the VDD VTH level, and is further increased by the pulse signal at the VDD level. Node N4 is charged by MOS transistor Q8 during a transient period in which the potential of node N1 is changed from the VDD to VSS level and the potential of node N2 is changed from VSS to VDD level. MOS transistor Q8 is rendered completely nonconductive when the potential of node N1 has reached the VSS level, thereby storing charges at node N4. At this time, the potential of node N4 is set at about the VDD VTH level, and is further increased by the pulse signal at the VDD level. Therefore, MOS transistors Q5 and Q6 are controlled in the same manner as in the flip flop circuit shown in Fig. 3. The flip flop circuits shown in Figs. 3 and 4 have the following drawbacks. The flip flop circuit shown in Fig. 3 cannot cope with a large potential drop after the potential at the VDD level is set at one of output terminals OUT and The flip flop circuit shown in Fig. 4 cannot cope with a decrease in charges after one of nodes N3 and N4 is charged. For example, when the amount of charge of node N4 is decreased by current leakage or the like, MOS transistor Q6 often cannot be supplied with sufficient gate voltage from node N4. MOS transistor Q8 is turned on or off in accordance with the potential of node N1, and is kept nonconductive by the gate voltage at the VSS level after charges are stored at node N4. Therefore, MOS transistor Q8 cannot charge node N4 when the potential of node N4 is decreased. When node N3 is charged in order to maintain the potential of output terminal As described above, the flip flop circuits shown in Figs. 3 and 4 are unsuitable for maintaining an output signal for a long period of time. In these circuits, the potentials of output terminals OUT and It is therefore an object of the present invention to provide a flip flop circuit suitable for constituting a highly reliable, simple counter. According to the present invention, there is provided a flip flop circuit, comprising a power terminal set at a potential of a first level, first and second output terminals, a latching section for charging one of the first and second output terminals to a potential of the first level and discharging the other one of the first and second output terminals to a potential of a second level lower than the first level, thereby latching an input signal, and a potential compensation section for compensating a potential drop of the first output terminal. Said potential compensation section including a pull up transistor having an insulated gate and a current path connected between the power and first output terminals, a chaarging circuit for charging the insulated gate, charging the insulatecl gate while the potential of the second output terminal is changed from the first level to the second level, a bootstrap circuit for bootstrapping the potential of the insulated gate to turn on the pull up transistor, and a diode device, connected in the forward direction from the first output terminal to the insulated gate when the potential of the insulated gate is dropped by at least a predertemined level in comparison with that of the first output terminal. In the flip flop circuit of the present invention, if the gate potential of the MOS transistor is decreased due to current leakage, the potential of the first output terminal can be reliably set at the first predetermined level. This invention can be more fully understood from the following detailed description when taken in conjunction with the accompanying drawings, in which An embodiment of the present invention will now be described with reference to Fig. 5. Fig. 5 shows a flip flop circuit formed, e.g., as a part of a counter on a semiconductor chip of a dynamic RAM. The flip flop circuit has latch section 20 for latching the potentials of input terminals IN and In latch section 20, the gates of MOS transistors Q1 and Q2 are connected to control terminal CT, to which enable signal EN is selectively supplied. The potential of control terminal CT is set at a first level equal to or higher than a VDD VTH level e.g., the VDD VTH level when enable signal EN is supplied otherwise, it is set at a second level lower than a VTH level e.g., VSS level . Note that VTH indicates the thereshold voltage 0.5 to 0.6 V of an n channel MOS transistor. One end of the current path of MOS transistor Q1 is connected to input terminal In first potential compensation circuit 30A, enhancement type MOS capacitor C3 is connected between pulse input terminal S and one end of the current path of MOS transistor Q7. The other end of the current path of MOS transistor Q7 is connected to node N1 i.e., the junction of the current paths of MOS transistors Q1 and Q3 . The gate of MOS transistor Q7 is connected tonode N2 i.e., the junction of the current paths of MOS transistors Q2 and Q4 . The current path of MOS transistor Q9 is parallel connected to that of MOS transistor Q7. MOS transistor Q9 is connected at the gate to node N1 to thus serve as a diode. The gate of MOS transistor Q5 is connected to node N3 i.e., the junction of MOS capacitor C3 and the current paths of MOS transistors Q7 and Q9 . The current path of MOS transistor Q5 is connected between terminal VDD and node N1. Pulse input terminal S is connected to a pulse oscillator not shown formed on the same semiconductor chip as the flip flop circuit, and periodically receives voltage pulses therefrom to bootstrap the gate potentials of MOS transistors Q5 and Q6. Thus, the potential of pulse input terminal S changes between the VDD and VSS levels. In second potential compensation circuit 30B, depletion type MOS capacitor C4 is connected between pulse input terminal S and one end of the current path of MOS transistor Q8. The other end of the current path of MOS transistor Q8 is connected to node N2 i.e., the junction of the current paths of MOS transistors Q2 and Q4 . The gate of MOS transistor Q8 is connected to node N1 i.e., the junction of the current paths of MOS transistor Q1 and Q3 . The current path of MOS transistor Q10 is parallel connected to the current path of MOS transistor Q8. MOS transistor Q10 is connected at the gate to node N2 to thus serve as a diode. The gate of MOS transistor Q6 is connected to node N4 i.e., the junction of MOS capacitor C4 and the current paths of MOS transistors Q8 and Q10 . The current path of MOS transistor Q6 is connected between terminal VDD and node N2. The present operation of the flip flop circuit of this embodiment will now be described. Before a power source is turned on, the potentials of nodes N1, N2, N3, and N4 are normally at the VSS level. In this case, MOS transistors Q7, Q8, Q9, and Q10 are kept nonconductive. In MOS capacitors C3 and C4, the gate potential at the VSS level provides a predetermined capacitance to MOS capacitor C4, and also provides a capacitance sufficiently smaller than the predetermined capacitance to MOS capacitor C3. This is because the gate potential at the VSS level is higher than the threshold voltage of MOS capacitor C4, and is lower than that of MOS capacitor C3. Immediately after the power source is turned on, when the potential of pulse input terminal S changes toward the VDD level, the potentials of nodes N3 and N4 are increased due to the capacitive coupling. MOS transistor Q5 is turned on when the potential of node N3 exceeds threshold voltage VTH of the n channel MOS transistor. MOS transistor Q6 is turned on when the potential of node N4 exceeds threshold voltage VTH of the n channel MOS transistor. Since MOS capacitor C3 is set at the predetermined capacitance after MOS capacitor C4 is set, node N4 reaches a potential level equal to threshold voltage VTH before node N3 does. Thus, MOS transistor Q6 is turned on, and causes the potential of output terminal OUT to increase toward the VDD level. This increase in potential turns on MOS transistors Q3 and Q7, and sets the potential of output terminal Immediately after the power source is turned on, when the potential of pulse input terminal S changes toward the VSS level, the potential of nodes N3 and N4 are decreased due to the capacitive coupling. However, when the potentials of nodes N3 and N4 are decreased to a potential of node N1 threshold voltage VTH level and a potential of node N2 threshold voltage VTH level, respectively, MOS transistors Q9 and Q10 are turned on, and charges stored at nodes N1 and N2 are supplied to nodes N3 and N4 through MOS transistors Q9 and Q10, respectively. Therefore, the potentials of nodes N3 and N4 will not be decreased below the potential of node N1 threshold voltage VTH level and the potential of node N2 threshold voltage VTH level, respectively. Note that the amount of charges supplied to nodes N3 and N4 is small, and the potential drops of nodes N1 and N2 can be ignored. After the potential of pulse input terminal S has reached the VSS level, when it inversely increases toward the VDD level, the potentials of nodes N3 and N4 are increased as described above. After MOS transistor Q6 is turned on, the potential of node N4 gradually increases in response to each leading edge of the pulses periodically supplied to pulse input terminal S, and is saturated at a level higher than the VDD VTH level. During this interval, nodes N1 and N3 are discharged by respective MOS transistors Q3 and Q7 and set at the VSS level. MOS transistor Q4 is kept completely nonconductive. Therefore, the potential of output terminal OUT can increase reliably. When the potential of node N4 reaches the VDD VTH level, MOS transistor Q6 is rendered conductive in a non saturation range and sets the potential of output terminal OUT at the VDD level. Next, a hold operation of the output signal will be described. Latch section 20 latches the potentials of input terminals IN and MOS transistor Q7 keeps node N3 discharged when the potential of node N2 is at the VDD level, and charges node N3 while the potential of node N2 changes from the VDD to VSS level. MOS transistor Q9 is rendered conductive and then charges node N3 when the potential of node N3 is decreased below the VDD VTH level after the potential of node N1 is held at the VDD level. MOS transistor Q5 is completely turned on when the potential of node N3 is set to exceed the VDD VTH level by MOS capacitor C3, to which the voltage pulses are periodically supplied. MOS transistor Q8 keeps node N4 discharged when the potential of node N1 is at the VDD level, and charges node N4 while the potential of node N1 changes from the VDD to VSS level. MOS transistor Q10 is rendered conductive and then charges node N4 when the potential of node N4 is decreased below the VDD VTH level after the potential of node N2 is held at the VDD level. MOS transistor Q6 is completely turned on when the potential of node N4 is set to exceed the VDD VTH level by MOS capacitor C4, to which the voltage pulses are periodically supplied thereto. Assume that the potentials of output terminals OUT and Fig. 6 shows preset operation characteristics of the flip flop circuit in this embodiment, and Fig. 7 shows output voltage holding characteristics of the flip flop circuit. As shown in Fig. 6, when the potential of input terminal S periodically changes between the VDD level 5 V and the VSS level 0 V by turning on the power source, the potential of output terminal OUT increases stepwise from 0 V, and is preset at 5 V after a lapse of about 1.0 µs. On the other hand, the potential of output terminal In a test, the potential of output terminal OUT was measured when the potential was greatly decreased to about 3.5 V, as shown in Fig. 7. In the flip flop circuit of this embodiment, the potential of output terminal OUT could be recovered to 5 V after a lapse of about 1.0 µs. The conventional flip flop circuit shown in Fig. 3 could not recover the potential of output terminal OUT to 5 V after this lapse of the time, as indicated by the broken curve in Fig. 7. With this embodiment as described above, immediately after the power source is turned on, the potential of output terminal OUT is changed from the VSS to VDD level and output terminal The flip flop circuit of this embodiment has an excellent output voltage stabilization function. More specifically, the flip flop circuit can recover the potential drops regardless of a decrease in potential of output terminal OUT or