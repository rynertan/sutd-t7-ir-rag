# ELECTRIC DEVICE OR CIRCUIT TESTING METHOD AND APPARATUS

## Claims
Ein Verfahren für das Testen eines analog arbeitenden Gerätes über ein vorbestimmtes Meßintervall, gekennzeichnet durch

## Description
The present invention relates to a method and apparatus for testing electrical devices, particularly analog electrical devices. A conventional test system 10 utilized to test an analog device 11 is illustrated in Figure 1. Since the device 11 to be tested is typically one component of many components embedded within a printed circuit board not shown , it is necessary to establish electrical contact with this device within its associated circuit. Thus, such a test system 10 includes one or more pin probes 13 which are electrically connected through a switching and amplifier matrix 14 to an electric test assembly. This electric test assembly has a controller or processor 15, as well as a stimulus section 16 and a measurement section 17, which are controlled by the processor 15. Typically a clock or sequencer 18 is also connected to the processor 15 to afford the timing and sequencing of the stimulus and the measurement sections. The stimulus section 16 of system 10 is capable of generating a stimulus signal such as a voltage step function having a known and constant magnitude after some time T Such conventional test systems as described above are not however, able to efficiently test circuits or devices having a response that varies with time, e.g. circuits containing either capacitance or inductance therein. In such circuits the response to the stimulus signal is neither immediate nor constant. Rather there is a rise time and a settling time associated with such circuits. It is not abnormal in such circuits to have a settling time in the range of from 2 milliseconds to 5 seconds after the stimulus signal has been applied. In order to accurately determine whether the component is acceptable or defective, the conventional testing systems wait for the response to substantially settle to its final value before making a measurement in order for the ultimate comparison to have a significance. This wait time substantially increases the time required to test a device or the printed circuit board containing the time varying device. Document US A 3,978,325 discloses an electronic thermometer utilizing a predictive algorithm such that two temperature measurements, taken at predetermined time intervals, are processed to predict the final settling temperature before the settling is reached. Subjects of the present invention are the method as defined in patent claim 1 and the apparatus as defined in patent claim 8 the patent claims depending thereupon define preferred embodiments of the general concept. The invention permits acceleration of the test procedure wherein, other than in the document referred to above, the time intervals need not be known. The present invention will he further described herein with reference to the accompanying drawing wherein A schematic diagram of a test system 25 according to the present invention is illustrated in Figure 2, wherein the device 11, which is to be tested, i.e. typically one or more individual components within a printed circuit board, is brought into electrical contact with probes 13 and thus with switching matrix 14. Such probes 13 and switching matrix 14 are of conventional design and need not be further explained to those skilled in the art. The parameters of the device 11 which are necessary to make a decision as to whether the device is functioning or not functioning are also programmed into the system 25. Such parameters would include not only the specific impedance, capacitance, or inductance values, or desired current and voltage levels, etc. for example, but also the acceptable tolerance ranges for the devices. Typically the configuration of the entire circuit board which is to be tested, including a description of the devices contained therein and their specific interconnections has been programmed into the system 25 such that the probes 13 can be correctly positioned to contact specific test points, e.g. as nodes 20 and 21 on the printed circuit board, such that the matrix 14 can be switched at the appropriate times to electrically connect the signal generator 16 and the measurement circuit 17 to the appropriate nodes, and such that appropriately shaped stimulus signals are generated. The signal generator 16 and measurement circuit 17 are also considered conventional in design and will not be further described herein. Upon instruction by the processor 15, the signal generator 16 provides the appropriate stimulus signal to the probes 13 through the matrix 14. For example, a DC voltage of a predetermined magnitude can be applied at node 20. The processor 15 simultaneously sends a signal to to the timer 18 that the stimulus signal has been applied, and instructs the matrix 14 to electrically connect the measurement circuit 17 to node 20 and 21 via probes 13. Since the switching circuits involved within the matrix 14 can introduce transient into the measurement circuit, the processor 15 typically waits a predetermined time before taking the first measurement, which time is a function of the particular switching circuits utilized. In the preferred embodiment this time is typically in the order of 1.5 milliseconds. After this initial wait time a first measurement is made at node 21 of the response of device 11 to the input stimulus. Since such measurement circuit 17 typically includes an amplifier, an RMS to DC converter, a DC scaling circuit, and an analog to digital converter, the measurement can be stored in a digital format. In the preferred embodiment this storage is done within standard memory units within the processor 15. Before proceeding further it should be noted that the present invention as thus far described has been illustrated by block representations which show only those specific details that are pertinent to the present invention. This has been done so as not to obscure the disclosure with structured details which will be readily apparent to those skilled in the art having the benefit of the description herein. Accordingly, the block diagram illustrations may not necessarily represent the precise mechanical structural arrangement of an exemplary test system, but rather are primarily intended to depict the major components of such a system in a convenient functional grouping in light of which the present invention may be more readily understood. The relationship developed to predict the final value as part of the present invention has been empirically as well as theoretically derived and can be proven algebraically. It is based upon the assumptions that the input to the device is a basic first order step function, as well as the assumption that the measurement system has a dominant real pole such that it can be approximated as a first order system. This latter assumption is valid since compensation capacitors are typically utilized within the measurement circuitry. The resulting derived relationship is as follows Where X,Y, and Z are samples taken at times T₁, T₂ and T₃ respectively. To facilitate the timing accuracy of these measurements the present invention restarts the timer 18 prior to taking each measurement. This eliminates any variation in the time between measurements due to a variation in the time taken for performing the measurement. In the simplest embodiment of the present invention all three measurements are made prior to any calculations for predicting the final value. Once taken, the three values are provided as inputs to a conventional arithmetic processor 23 in which the predicted final value is calculated. Once the final response or voltage is predicted, it is compared to the derived value for such response which has been previously stored in the processor 15. Typically such comparison will have a range of tolerance over which a component will be found acceptable. This tolerance range has be programmed into the processor 15 during the initiation of the parameters as has already been described. Thus the device 11 under test will either be rejected or accepted. This status can be indicated by a message on the screen of a CRT, the generation of a printout, the lighting of indicators, etc. The steps thus far described are illustrated in Figure 3. As can be seen instruction 28 initializes the processor 15 with the testing parameters including the derived valued and the tolerance range for the device 11 under test. Instruction 29 causes the switching matrix 14 to electrically connect the appropriate probes 13 to the signal generator 16, and also causes the signal generator 16 to apply the appropriate stimulus signal to the nodes of the device 11. The application of the stimulus signal activates the timer 18 as is indicated by instruction 30. Instruction 30 also causes the switching matrix to connect the appropriate probes to the measurement circuit 17. Since the accurate control of the elapsed time between measurements is critical, instruction 31 restarts the timer as soon as the programmed time delay has expired. A first measurement of the response of the device to the stimulus signal is then taken as a result of instruction 32. This measurement is identified as measurement Z and stored in the processor 15 by instruction 33. If this is the first measurement, instruction 34 will respond with a no and instruction 35 will cause the first measurement to also be stored as measurement Y . Instruction 38 causes the processor 15 and the arithmetic processor 23 to process the measured values according to a mathematical relationship derived to predict the final value of the responses to the stimulus, i.e. the value which would occur at some time T Although the simple embodiment thus far described is effective for testing a variety of circuits it is not totally satisfactory in all cases. Greater accuracy, for example, can be achieved by repeating this method and looking for a consistency between the final predicted values before comparing the predicted value to the determined value as illustrated by instructions 47 51 of Figure 4 wherein instructions which are common to the embodiment illustrated in Figure 3 remain numbered as on Figure 3 . This repetition is particularly useful for circuits having a large time constant, i.e. a long settling time . If after multiple repetitions, the predicted final value remains relatively constant, there can be greater assurance that the method is indeed working with the particular circuit. Since the time delay between measurements is typically quite small compared to the total elapsed time for the response to each steady state, the multiple repetitions of the method according to the present invention can still be performed in substantially less time than conventional test systems which wait for the response to fully settle. Similarly the accuracy and speed of the above method can be further increased by including some additional method steps as are shown in the embodiment illustrated in Figure 5 wherein instructions which are common to the embodiment illustrated in Figure 3 remain numbered as in Figure 3 . As can be seen, instructions 28 through 35 remain identical. With this embodiment however, the existence of a second measurement will lead to instruction 40 which compares the two most recent measurements. If such measurements are substantially equivalent, i.e. within a programmed tolerance range, an assumption can be made that the response has already reached a steady state or final value. Thus instruction 39 can be applied to make the comparison between the measured response and the derived response to determine whether or not the device 11 is functioning properly, without processing instruction 38. Accordingly both time and memory space can be saved. If however the measurements are not substantially equivalent, instruction 36 is processed. Depending upon whether a third measured value is currently in memory, either instruction 37 or 41 will then be processed. Instruction 37 leads into the measurement loop which has already been discussed. Instruction 41 however, determines the ratio of the difference between the first and second measured values to the difference between the second and third values. The nomenclature third, second and first is used for convenience to indicate the most recent measurement, the prior measurement and the measurement before the prior measurement, respectively. This ratio is then stored in the processor 15 as ratio R . If only three measurements are in memory this ratio is also stored as ratio S and a fourth measurement is made in the conventional manner via instructions 37, 35 and 31 through 33. instruction 41 is again processed and the ratio R is calculated and stored utilizing the second, third and fourth measurement. The ratio S however now exists due to the initial processing of instructions 41 and 42. Thus instruction 43 is processed. Empirical investigations with the present inventions have determined that the test method according to the present invention is more efficient and potentially more accurate when the ratios as calculated by instruction 41 are substantially equal. This premise has also been mathematically confirmed. Similarly greater accuracy is achieved when the ratios are positive and greater than unity. Instruction 44 makes this determination. If either of these conditions is not met, another measurement is made via instruction 42, 37, 35 and 31 through 33, and another ratio is calculated. Such conditions can be determined in a conventional manner by the arithmetic processor 23. This process is repeated until the conditions hold true. In the preferred embodiment the occurrence of both of the conditions set forth by instructions 43 and 44 will result in the calculation of the predicted final value via instruction 38 and a determination of the condition of the device via instruction 39 as has already been described. Typically such a determination can be made within a fraction of the time required for the response to fully settle. The actual time taken is, however, dependent upon the time constant of circuit being tested. For most circuits the time taken to predict the final value is approximately one half of this time constant. It can be seen that the present invention affords a determination of the condition of the device under test in substantially less time than conventional testing systems which are currently available. Furthermore such reduction in test time can be accomplished with minimal reduction in accuracy for most circuits. While we have shown and described multiple embodiments of the present invention it will be understood that the such invention is not limited thereto, but rather that changes and modifications may be made to the configuration or identity of some of the parts and or the order or identity of some of the method steps described and as would be known to a person skilled in the art, without departing from the present invention as set forth in the appended claims.