# MACHINING APPARATUS FOR EFFECTING PROFILE MACHINING AND NC MACHINING

## Claims
Werkzeugmaschinen Steuereinrichtung für eine Kopierbearbeitung und eine numerisch gesteuerte Bearbeitung umfassend

## Description
The present invention relates to a machine tool for tracer controlled machining and numerically controlled machining. The present invention relates to a machine tool of the type which comprises a tracing control apparatus, an NC numerical control apparatus, a three axis driving means for the tracer controlled machining, and a three axis driving means for the numerically controlled machining, wherein the three axis driving means for the tracer controlled machining and the three axis driving means for the numerically controlled machining can be controlled independently. Conventionally, in a machine tool of this kind, as shown in Fig. 1, control instruction data from the tracing control apparatus 1 and the NC apparatus 2 are switched and transmitted selectively to the three axis driving means for the tracer controlled machining 4 and the three axis driving means for the numerically controlled machining 5 through switching circuits 3X, 3Y, and 3Z in accordance with two selection signals S When the tracer controlled machining selection signal S When the numerically controlled machining selection signal S In the switching circuit 3X shown in Fig. 1, 31 and 32 are AND gates receiving the control instruction from the tracing control apparatus 1 and the tracer controlled machining selection signal S In the three axis driving means for the tracer controlled machining 4, 41, 42, and 43 are motors which drive the X axis, Y axis, and Z axis, respectively, in accordance with the control instruction supplied to the driving means 4. Reference numerals 44, 45, and 46 are position detectors, each of which detects the movement of the tool or the table in each axial direction. Position data detected by the position detectors 44, 45, and 46 are fed back through a feedback circuit F₁ to the tracing control apparatus 1 and the numerical control apparatus 2. Thereby, each of the control apparatuses monitors the position data of the tool or the table driven by the driving motors. In the three axis driving means for the numerically controlled machining 5, 51, 52, and 53 are motors, which drive the X axis, Y axis, and Z axis, respectively, in accordance with the control instruction supplied to the driving means 5. Reference numerals 54, 55 and 56 are position detectors, each of which detects the movement of the tool or the table in each axial direction. Position data detected by the position detectors 54, 55, and 56 are fed back through a feedback circuit F₂ to the tracing control apparatus 1 and the numerical control apparatus 2. Thereby, each of the control apparatuses monitors the position data of the tool or the table driven by the driving motors. Three pairs of the switching circuits 3X, 3Y, and 3Z are used in order to switch the circuit. The X axis driving motors 41 and 51, which are provided in the driving means 4 and 5, respectively, are controlled by the control instruction transmitted through the switching circuit 3X. Similarly, the Y axis driving motors 42 and 52, which are provided in the driving means 4 and 5, respectively, are controlled by the control instruction transmitted through the switching circuit 3Y. Further, the Z axis driving motors 43 and 53, which are provided in the driving means 4 and 5, respectively, are controlled by the control instruction transmitted through the switching circuit 3Z. In this apparatus of the prior art, when the numerically controlled machining selection signal S Also, when the tracer controlled machining selection signal S In view of the above mentioned problems, the object of the present invention is to enable the preparation for the tracer controlled machining or the conversion of the tracer controlled machining data into digital information by using the three axis driving means for the tracer controlled machining simultaneously with the predetermined numerically controlled machining by using the three axis driving means for the numerically, controlled machining and to improve the efficiency of the machining process and the efficiency of the utilization of the machine tool, on the basis of the idea to use additionally a numerically controlled machining and tracer controlled machining selection signal besides the tracer controlled machining selection signal and the numerically controlled machining selection signal, and to control the three axis driving means for the tracer controlled machining and the three axis driving means for the numerically controlled machining with the tracing control apparatus and the numerical control apparatus independently, when the above numerically controlled machining and tracer controlled machining selection signal is selected by the switching circuits. According to the present invention, there is provided a machine tool control system for tracer controlled machining and numerically controlled machining comprising Figure 2 is a circuit diagram showing an embodiment of the machine tool according to the present invention. In Fig. 2, the parts corresponding to those in Fig. 1 are designated by the same reference numerals as in Fig. 1. In the apparatus shown in Fig. 2, the control instructions from the tracing control apparatus 1 and the numerical control apparatus 2 are switched and transmitted selectively to the three axis driving means for the tracer controlled machining 4 and the three axis driving means for the numerically controlled machining 5 in accordance with three selection signals S When the tracer controlled machining selection signal S Namely, when the tracer controlled machining selection signal S Also, when the numerically controlled machining selection signal S In the switching circuit 3X shown in Fig. 2, 37 is an AND gate receiving the control instruction from the tracing control apparatus 1 and the numerically controlled machining and tracer controlled machining selection signal S Therefore, when the numerically controlled machining and tracer controlled machining selection signal S Also, the three axis driving means for the numerically controlled machining 5 is controlled by the control instructions transmitted from the numerical control apparatus 2 through the AND gate 38 and the OR gate 36 in the switching circuit 3X, for example. Thereby, each movement of the driving motors 51, 52 and 53 driving each of three axes X, Y, and Z is controlled respectively. Then, the position of the tool or the table in each axial direction is detected by the position detectors 54, 55, and 56. The position data detected by each of the position detectors 54, 55, and 56 are fed back through the feedback circuit F₂ to the tracing control apparatus 1 and the numerical control apparatus 2 respectively. Each control apparatus monitors the position data of the tool or the table driven by the driving motors. In the circuit shown in Fig. 2, three pairs of switching circuits 3X, 3Y, and 3Z are also provided as in the circuit shown in Fig. 1. Each movement of the X axis driving motor 41 in the driving means 4 and the X axis driving motor 51 in the driving means 5 is controlled by the control instruction from the switching circuit 3X. Each movement of the Y axis driving motor 42 in the driving means 4 and the Y axis driving motor 52 in the driving means 5 is controlled by the control instruction from the switching circuit 3Y. Further, each movement of the Z axis driving motor 43 in the driving means 4 and the Z axis driving motor 53 in the driving means 5 is controlled by the control instruction from the switching circuit 3Z. Thus, the three axis driving means for the tracer controlled machining 4 is controlled by the tracing control apparatus 1, and the three axis driving means for the numerically controlled machining 5 is controlled by the numerical control apparatus 2. Further, each of the control apparatuses 1 and 2 monitors the position data from each of the driving means 4 and 5. As a result, in the apparatus shown in Fig. 2, it is possible to prepare for the tracer controlled machining or the conversion of the tracer controlled machining data into digital information by using the three axis driving means for the tracer controlled machining, simultaneously with the predetermined numerically controlled machining by using the three axis driving means for the numerically controlled machining. In the above description, the meaning of the preparation for the tracer controlled machining is the setting of the work or the regulation of the position of the attached tool, and the meaning of the conversion of the tracer controlled machining data into digital information is the successive detection of the locus of the tracing movement, the obtainment of the digital information by the calculation treatment of the detected locus, and subsequently recording the obtained digital information on an NC tape. In the above embodiment, the conversion process of the tracer controlled machining data into digital information is performed in the numerical control apparatus 2 by controlling the three axis driving means for the tracer controlled machining 4 with the tracing control apparatus 1 and, further, by feeding back the position data of the tracing movement through the feedback circuit F₁ to the numerical control apparatus 2. As each of the control apparatuses 1 and 2 always monitors the position data which are fed back from each of the driving means 4 and 5, it is possible to continue the predetermined work successively by switching the selection signals supplied to the switching circuits. Figure 3 shows the detailed constitution of the machine tool shown in Fig. 2. The control instruction X₁ transmitted from the tracing control apparatus 1 to the X axis driving motor 41 in the three axis driving means 4 is input to the AND gates 31 and 37 in the switching circuit 3X. Also, the control instruction X₂ transmitted from the tracing control apparatus 1 to the X axis driving motor 51 in the three axis driving means 5 is input to the AND gate 32 in the switching circuit 3X. The control instruction X₃ transmitted from the numerical control apparatus 2 to the X axis driving motor 51 in the three axis driving means 5 is input to the AND gates 34 and 38 in the switching circuit 3X. Also, the control instruction X₄ transmitted from the numerical control apparatus 2 to the X axis driving motor 41 in the three axis driving means 4 is input to the AND gate 33 in the switching circuit 3X. The control instruction X₅ which is output from the OR gate 35 in the switching circuit 3X is input to the X axis driving motor 41 in the three axis driving means for the tracer controlled machining 4, and the position data in the X axis direction X₆ detected in the position detector 44 is fed back to the tracing control apparatus 1 and to the numerical control apparatus 2. The control instruction X₇ which is output from the OR gate 36 in the switching circuit 3X is input to the X axis driving motor 51 in the three axis driving means for the numerically controlled machining 5, and the position data in the X axis direction X₈ detected in the position detector 54 is fed back to the tracing control apparatus 1 and to the numerical control apparatus 2. The constitution of each of the switching circuits 3Y and 3Z is the same as that of the switching circuit 3X. In this embodiment, there are provided six AND gates and two OR gates. These gates are interconnected as in the switching circuit 3X. The control instructions Y₁ and Y₂ from the tracing control apparatus 1, the control instructions Y₃ and Y₄ from the numerical control apparatus 2, and the selection signals S The control instructions Z₁ and Z₂ from the tracing control apparatus 1, the control instructions Z₃ and Z₄ from the numerical control apparatus 2, and the selection signals S The control instructions Y₅ and Y₇ , which are output from each of the OR gates in the switching circuit 3Y, are input to the Y axis driving motor 42 in the driving means 4 and to the Y axis driving motor 52 in the driving means 5, respectively. The position data in the Y axis direction Y₆ and Y₈ , which are detected by the position detectors 45 and 55 respectively, are fed back to the tracing control apparatus 1 and to the numerical control apparatus 2. The control instructions Z₅ and Z₇ which are output from each of the OR gates in the switching circuit 3Z are input to the Z axis driving motor 43 in the driving means 4 and to the Z axis driving motor 53 in the driving means 5, respectively. The position data in the Z axis direction Z₆ and Z₈ , which are detected by the position detectors 46 and 56 respectively, are fed back to the tracing control apparatus 1 and to the numerical control apparatus 2. The above mentioned control instructions from the tracing control apparatus 1 and the numerical control apparatus 2 are switched and transmitted selectively to the driving motors which drive the three axes X, Y, and Z in the driving means 4 and 5, respectively, in accordance with the three selection signals S Figure 4 is a diagram showing an example of the tracing control apparatus 1, Fig. 5 is a diagram showing an example of the numerical control apparatus 2, Fig. 6 is a diagram showing an example of the three axis driving means 4 for the tracer controlled machining, and Fig. 7 is a diagram showing an example of the three axis driving means 5 for the numerical control machining. As above mentioned, the tracing control apparatus 1 shown in Fig. 4 outputs the control instructions X₁ , X₂ , Y₁ , Y₂ , Z₁ , and Z₂ to the driving means 4 and 5, and the position data X₆ , X₈ , Y₆ , Y₈ , Z₆ , and Z₈ are fed back from the driving means 4 and 5. The output data X₉ , Y₉ , and Z₉ which are produced by each of the differential transformers 47X, 47Y, and 47Z provided in the tracer head 47 in the three axis driving means for the tracer controlled machining 4 shown in Fig. 6 are supplied to the tracing control apparatus 1. Each of the output data X₉ , Y₉ , and Z₉ corresponds to each of the vector components in the X , Y , and Z axis direction, those of which are detected by the differential transformers 47X, 47Y, and 47Z respectively when the tracer 472 provided in the tracer head 47 in the driving means 4 moves along the surface of the model 471. Also, the numerical control apparatus 2 shown in Fig. 5 outputs the control instructions X₃ , X₄ , Y₃ , Y₄ , Z₃ , and Z₄ to the driving means 4 and 5, and the position data X₆ , X₈ , Y₆ , Y₈ , Z₆ , and Z₈ are fed back from the driving means 4 and 5. The NC instruction data D NC recorded on the NC tape and the like is input to the numerical control apparatus 2. Also, when the numerically controlled machining and tracer controlled machining selection signal S The three axis driving means for the tracer controlled machining 4 shown in Fig. 6 comprises the table 40 on which the model 471 and the work 481 are mounted and fixed. The table 40 is driven in each axial direction by the X axis driving motor 41, Y axis driving motor 42, and Z axis driving motor 43. The tracer 472 is provided in the tracer head 47. The driving motors 41, 42, and 43 which drive each axis are controlled so that the tracer 472 moves along the surface of the model 471. The work 481 which is linked mechanically with the model 471 is machined to the same shape as that of the model 471 by the cutter 482 which is linked mechanically with the tracer head 47. Reference numeral 483 is a spindle motor which drives the rotation of the cutter 482, 49 is the operation panel provided in order to switch on the power supply, etc. In Fig. 6, only the position detector 44 is shown, the other position detectors 45 and 46 are not shown. The three axis driving means for the numerically controlled machining 5 shown in Fig. 7 comprises the table 50 on which the work 581 is mounted and fixed. The table 50 is driven in each axial direction by the X axis driving motor 51, Y axis driving motor 52, and Z axis driving motor 53. The work 581 is machined in accordance with the NC instruction data D NC by the cutter 582. Reference numeral 583 is the spindle motor which drives the rotation of the cutter 582, 59 is the operation panel provided in order to switch on the power supply, etc. In Fig. 7, only the position detector 54 is shown. The other position detectors 55 and 56 are not shown. Figure 8 shows the transmitting state of the control instructions transmitted to the driving motors in the driving means 4 and 5 from the above control apparatuses 1 and 2 and the transmitting state of the position data which are fed back to each of the control apparatuses 1 and 2 from each of the position detectors in the driving means 4 and 5. As shown in Fig. 8, each or the output data X₉ , Y₉ , and Z₉ detected by each of the differential transformers 47X, 47Y, and 47Z in the tracer head 47 in accordance with the movement of the tracer 472 in the three axis driving means for the tracer controlled machining 4 is input to the tracing control apparatus 1. The output data X₉ , Y₉ , and Z₉ correspond to the vector components in the X , Y , and Z axis direction, which are detected by the differential transformers 47X, 47Y, and 47Z respectively when the tracer 472 moves along the surface of the model. The output data X₉ , Y₉ , and Z₉ are successively set in the vector registers in the X axis direction 111 and 121, the vector registers in the Y axis direction 131 and 141, and the vector registers in the Z axis direction 151 and 161 in the tracing control apparatus 1, respectively. The output data X₉ , which is successively set in the vector register in the X axis direction 111, is converted from a digital instruction into an analogue control instruction X₁ by the DA converter 112. Similarly, the output data X₉ , which is successively set in the other vector register in the X axis direction 121, is converted from a digital instruction into an analogue control instruction X₂. Further, the output data Y₉ and Z₉ which are successively set in the vector registers in the Y axis direction 131 and 141, and the vector registers in the Z axis direction 151 and 161, respectively, are converted from a digital instruction into analogue control instructions Y₁ , Y₂ , Z₁ , and Z₂. The position data X₆ detected by the position detector in the X axis direction 44 in the three axis driving means for the tracer controlled machining 4 is successively set in the position register 113 in the tracing control apparatus 1 and the position register 223 in the numerical control apparatus 2. Each of the position data Y₆ detected by the detector in the Y axis direction and the position data Z₆ detected by the detector in the Z axis direction is set in the corresponding position register in each of the control apparatuses 1 and 2. Thus, in the numerical control apparatus 2, the digital information data D DIGIT is operated in accordance with the position data comprising the position data in each axial direction which are fed back to the numerical control apparatus 2 from each of position detectors in the three axis driving means for the tracer controlled machining 4 and successively set in the predetermined position registers corresponding to each axial direction respectively in Fig. 8, only the position register in the X axis direction 223 is shown . Then, the operated data D DIGIT which is recorded on NC tape 202 and the like is obtained from the numerical control apparatus 2. Also, the NC instruction data D NC which is recorded on NC tape 201 and the like is input to the numerical driving apparatus 2. The motion amount in each axial direction is successively set in each of the corresponding motion amount registers in the X axis direction 211 and 221, in the Y axis direction 231 and 241, and in the Z axis direction 251 and 261, in accordance with the data D NC . The motion amount in the X axis direction which is successively set in the motion amount register in the X axis direction 211 is converted from a digital instruction into an analogue control instruction X₃ by the DA converter 212. Similarly, the motion amount in the X axis direction which is successively set in the other motion amount register in the X axis direction 221 is converted from a digital instruction into an analogue control instruction X₄. Further, each of the motion amount in the Y axis direction, which is successively set in the motion amount registers in the Y axis direction 231 and 241, and the motion amount in the Z axis direction, which is successively set in the motion amount registers in the Z axis direction 251 and 261, is converted from a digital instruction into analog control instruction Y₃ , Y₄ , Z₃ , and Z₄. The position data X₈ detected by the position detector in the X axis direction 54 in the three axis driving means for the numerically controlled machining 5 is successively set in the position register 213 in the numerical control apparatus 2 and the position register 123 in the tracing control apparatus 1. The position data X₈ is also fed back to the motion amount register in the X axis direction 211, and thereby, the motion amount register is controlled to compensate for the difference from the NC instruction data D NC . Each of the position data Y₈ which is detected by the position detector in the Y axis direction and the position data Z₈ which is detected by the position detector in the Z axis direction is fed back to each of the control apparatuses 1 and 2. As mentioned above, in the apparatus shown in Fig. 2, the numerically controlled machining and tracer controlled machining selection signal is used as one of the selection signals which are input to the switching circuits besides the tracer controlled machining selection signal and the numerically controlled machining selection signal. Therefore, it is possible to prepare for the tracer controlled machining or the conversion of the tracer controlled machining data into digital information simultaneously with the predetermined numerically controlled machining. Therefore, it is possible to improve the efficiency of the machining process and the efficiency of the utilization of the machining tool.