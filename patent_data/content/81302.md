# Series resonant inverter with integrating feedback control loop.

## Abstract
Current flow in a transistorized series resonant inverter is switched in an inherently simple and stable manner by time integrating the difference between the electrical output and a reference and varying the switching frequency of the inverter so as to null the time integrated difference in a feedback control loop. Each transistor is on for about half the resonant period of the tank circuit so that it is cut off at or slightly after the zero crossing of the sinusoidal collector current.

## Claims
CLAIMS What is Claimed is 1. A power supply comprising a resonant tank circuit through which current may flow a primary winding connected to said resonant tank circuit means for switching the direction of current flow through said tank circuit at a frequency FAC a secondary winding coupled to said primary winding to receive an electrical output therethrough and means for making a comparison between said electrical output and a reference and for changing said switching frequency FAC in response to said comparison. 2. The power supply of Claim I wherein said switching means is synchronous with the resonance of said tank circuit. 3. The power supply of Claim 2 wherein said tank circuit is charcterized by a resonant frequency and said switching means is characterized by a switching duration of about one half the reciprocal of said resonant frequency. 4. The power supply of Claim 1 wherein said comparing means computes a difference between said electrical output and said reference, averages it over a period of time, and varies said switching frequencyFAC in response to the average. 5. The power supply of Claim 1 wherein said switching means comprise a first pair of transistors, said tank circuit being connected therebetween, and a first pair of base drive circuits including means for enabling current flow through said first transistor pair periodically at said frequency FAC. 6. The power supply of Claim 5 wherein said switching means further comprise a second pair of transistors, said tank circuit connected therebetween, and a second pair of base drive circuits including means for enabling current flow through said second transistor pair at said frequency FAG in complementary synchronism with said first base drive circuit pair. 7. The power supply of Claims 5 or 6 wherein said resonant tank circuit is characterized by a resonant period T, and wherein each of said base drive circuit enabling means permits current flow through the corresponding transistor for a duration W on the order of T 2. 8. The power supply Or Claims 5 or 6 wherein current flow through said tank circuit exhibits a zero crossing periodically at a frequency characteristic of said resonant circuit, and wherein each of said enabling means stops current flow in the corresponding transistor only upon or after the occurrence of said zero crossing. 9. The power supply of Claim 5 wherein said means for sensing said electrical output comprise a re trier, said comparing means comprising a differentia amplifier having positive and negative inputs and an output, one of said inputs being connected to said rectifier and the other of said inputs being connected to a reference voltage source. 10. The power supply of Claim 9 wherein said means for varying said switching frequency FAC comprise a voltage to frequency converter connected to said base drive circuits and responsive to said differential amplifier output. 11. The power supply of Claim 10 further comprising, a pulse generator responsive to said voltage to frequency converter and a phase splitter connected between sald pulse generator and said base drive circuits. 12. The switching power supply of Claim 11 wherein each of said transistors comprise a base, a collector and an emitter, said base being connected to a corresponding one of said base drive circuits, said collector and emitter connected between said electrical power source and said tank circuit. 13. The power supply of Claim 6 further comprising a discharge diode connected across each of said transistors. 14. The power supply of Claim 9 further comprising an integrating capacitor connected to the output of said differential amplifier. 15. The power supply of Claim 1 further comprising means for sinusoidally varying said reference to performAC synthesis.

## Description
SERIES RESONANT INVERTER WITH INTEGRATING FEEDBACK CONTROL LOOP TECHNICAL FIELD The invention is an inverter for a power supply for converting one direct current voltage to another direct current voltage or another alternating current voltage, wherein power efficiency and stability are improved while greatly simplifying control circuitry. BACKGROUND ART Transforming a voltage from a direct current DC power supply is typically accomplished by converting the direct current voltage to an alternating current AC voltage and then transforming it to the desired voltage.Means for converting the DC voltage to an AC voltage are well known in the art, and typically comprise an inverter which functions to switch the voltage across a resonant tank circuit in order to create an AC sinusoidal voltage waveform, this voltage waveform then being applied across a transformer. The magnitude of the transformed voltage is controlled by the switching frequency of the inverter,Prior art inverters suffer from inherent disadvantages, including power loss due to switching transients and dynamic instability. Recent proposals for inverters useful with solar powered ion propulsion systems are based upon an intel ligent controller circuit in which the switching of the inverter is controlled in response to conditions existing during the previous switching cycle. The intelligent controller of the prior art is inherently unstable because its control is based upon the conditions existing in the previous switching cycle. Furthermore, it lacks the ability to switch the inverter output polarity precisely during periods of minimum current, causing significant switching power losses in the inverter. One example of an intelligent controller is disclosed in Schwarz et al, A 95 Efficient 1 KilowattDC Converter , Power Electronics Specialists ConferenceRecord, 1977, pages 125 134. Such intelligent controllers are of a necessity complex, another disadvantage. In some cases, prior art inverters are switched by silicon controlled rectifiers which require the application of a reverse current pulse every half cycle for a minimum period of time, further decreasing the power efficiency and limiting the frequency at which the inverter may be operated. A purpose of the present invention is to increase the power efficiency of the inverter while at the same time improving its stability and simplifying the control circuitry associated therewith. SUMMARY OF THE INVENTION The present invention is a power supply inverter using a four transistor switching network connected across a series resonant tank circuit. The bases of the transistors are turned on for a duration approximately equal to one half the resonant period or reciprocal of the resonant frequency of the tank circuit. This feature of the invention guarantees that each of the transistors is switched during the period of minimum current through the inverter. Specifically, each transistor is switched off only when its sinusoidal collector current is at or slightly after the zero crossing point by a base drive circuit which generates an output voltage pulse train applied to the transistor base having a pulse width equal to about half the resonant period of the tank circuit. Another feature is that the switching frequency of the base drive circuit varies according to the time integral of the difference signal between the output voltage of the inverter and a reference level. The switching frequency is controlled by a feedback control loop which constantly attempts to null the difference signal. The feedback control loop of this invention is very stable because the time integral of the difference signal is an accumulated average and is therefore inherently insensitive to temporary aberrations otherwise giving rise to instability. Presently, the invention is planned for use in transforming an input DC voltage to another DC voltage.However, the invention may be used to perform AC synthesis in which the reference voltage is itself an AC voltage rather than a constant voltage. DESCRIPTION OF THE FIGURES The invention is best understood by reference to the accompanying drawings, of which FIG. 1 is a block diagram illustrating the inverter and feedback control loop of the present invention FIG. 2a illustrates the time domain waveform of the collector voltage of a first pair of transistors in FIG. 1 FIG. 2b illustrates the time domain waveform of the collector voltage of a second pair of transistors in FIG. 1 FIG. 2c illustrates the time domain waveform of the base drive voltages applied to the first pair of transistors in FIG. 1 FIG. 2d illustrates the time domain waverorm of the base drive voltages applied to the second pair of transistors in FIG. 1 FIG. 2e illustrates the time domain waveform of the current through the resonant tank circuit ofFIG. 1 FIG. 2f illustrates the time domain waveform of the voltage across a capacitor in the resonant tank circuit of FIG. 1 FIG. 3 is a simplified schematic diagram of the inverter of the present invention and FIGS. 4a and 4b are detailed schematic diagrams illustrating the presently preferred embodiment of the invention. DETAILED DESCRIPTION OF THE INVENTION In the inverter circuit 10 of FIG. 1, a DC voltageVDC is converted to an AC voltage VAC, the AC voltage then being transformed in a transformer 12 to anotherAC voltage V AC which is then rectified in a full wave rectifier 14 to an output DC voltage V Dc. The output voltage V DC may be used to power a load 16. The inverter circuit 10 includes four bipolar power transistors 18, 20, 22, 24 connected in pairs in two parallel legs across a series resonant tank circuit 26. The series resonant tank circuit 26 comprises an inductor and a capacitor not individually shown connected in series. The transistors 18 24 are switched in complementary fashion so that the direction of current flow through the tank circuit 26 reverses once each cycle.In the first half of each cycle, the transistors 20, 22 are turned off while the transistors 18, 24 are turned on so that current flows through the tank circuit 26 in a first direction. During the second half of each cycle the transistors 18, 24 are turned off while the transistors 20, 22 are turned on so that current flows through the tank circuit 26 in the opposite direction. The output voltage V DC is determined by the frequency at which the current is reversed or switched in the tank circuit 26. The base of each of the transistors 18 24 is connected to one of four base drive circuits 30 36. The base drive circuits 30 36 are controlled in a feedback control loop by a phase splitter 40, a pulse generator 42, a voltage to frequency converter 44 and an averaging network 46. Switching Frequency Feedback Control Loop The averaging network 46 generates a voltage Vave representing the time integrated difference between the output voltage V Dc and a selectable reference voltage Vr The computed voltage Vave controls the pulse repetition frequency Fp of the pulse generator 42 through the voltage to frequency converter 44. The output of the pulse generator 42 is applied to the phase splitter 40. In response, the phase splitter 40 generates two complementary pulse trains of frequencyFAC 1 2 fop of opposite phase with respect to one another. The pulse width of these pulse trains is constant. One of the complementary pulse trains is applied to the base drive circuits 32, 34 and the other to the base drive circuits 30, 36. In response, the base drive circuits 32, 34 apply a corresponding voltage pulse train to the bases of the transistors 20, 22, respectively, causing their base voltages to alternate together between an on and an off voltage at the frequency FAC.Simultaneously, the base drive circuits 30, 36 apply a similar voltage pulse train of a complementary or opposite phase to the bases of the transistors 1M, 24, causing their base voltages to alternate together between an off and an on voltage at the frequency FAC in a complementary manner. The base drive circuits 30 36 described here may be readily implemented by a skilled worker. However, in this invention It is preferable to employ the type of base drive circuit described in the related Hancock and Robson patent application referenced above. As the base voltage of each of the transistors 18 24 alternates between the on and off voltages, its emitter to collector current alternates between on and off. Thus, the emitter to collector current in the transistor pair 18, 24 alternates in a complementary manner with respect to the emitter to collector current through the transistor pair 20, 22 at the frequency FAC.Accordingly, the current through the tank circuit 26 is reversed at the switching frequency FAC, giving rise to an alternating current AC voltage VAC in the tank circuit The voltage VAC is transformed in the transformer 12 to another voltage V AC having a magnitude determined by the switching frequency FAC. The transformed voltage V AC is rectified in the rectifier 14 to the direct current DC output voltage V Dc, which is then fed back through a voltage peak sensing circuit 62 to a subtraction node 60. The reference voltage Vr is also applied to the subtraction node 60 so that the difference signal Vr V Dc is applied to the averaging network 46. The voltage peak sensing circuit 62 is of the conventional type and senses only the peak magnitude of the output voltage V Dc. The averaging network 46 generates the integrated difference signal voltage Vase, which is applied to the voltage to frequency converter 44, causing the frequency of the pulse generator 42 to change in proportion to the voltage Vave As a result, the switching frequency FAC of the inverter 10 changes under control of the base drive circuits 30 36 in such a manner as to null or reduce the difference Vr V DC sensed at the node 60. For example, if VDC exceeds Vr, the switching frequency FAC is reduced. If VDC is less than Vr, then switching frequency FAC is increased by the feedback control loop. The change in switching frequency, FAC, may be expressed as follows 1 ÇFAC Vave C, where C is a constant of proportionality characteristic of the voltage to frequency converter 42. The averaging network 46 computes Vave as follows EMI7.1 where K and T are constants. Substituting equation 2 in to equation 1 EMI7.2 The switching frequency FAC is thus controlled in a simple feedback control loop 10, 14, 40, 42, 44, 46, 60, 62. Such simple feedback control loops are inherently stable because the average computation performed by the network 46 integrates the difference signal Vr DC over many switching cycles of the inverter 10, thus minimizing the effect of temporary changes in voltage, a significant advantage. Pulse Width Control The problem of power losses due to switching transients in each of the transistors iP 24 is solved in the present invention by precisely controlling each of the transistors 18 24 so that it is turned on for a period of time about equal to one half the resonant period or reciprocal of the resonant frequency of the tank circuit 26. The time domain waveform of the current through the tank circuit 26 corresponds to a sine wave of the resonant frequency of the tank circuit 26 which has zero amplitude or zero cross over twice during each resonant period. The constant pulse width of the voltage pulse train generated by each of the base drive circuits 30 36 is selected to be about one half the resonant period of the tank circuit 26 by a simple design adjustment of the base drive circuits.As a result, each of the transistors 18 24 is turned off at or slightly after the moment of zero cross over. The advantage is that each transistor 18 24 is switched with a minimum of collector current, so that the switching transient power loss is minimized. The efficiency of the inverter 10 is thus significantly improved. The adjustment of the pulse width of the base drive circuits 30 36 is made by a skilled worker using ordinary techniques which need not be described here. Operation of the Inverter Circuit 10 FIG. 3 is a schematic diagram illustrating a portion of the inverter power supply of FIG. 1 including the power switching transistors 18 24, diodes 50 56, the series resonant tank circuit 26, the rectifier circuit 14 and the base drive circuits 30 36. The tank circuit 26 includes an inductor 26a, a capacitor 26b and the output transformer 12. The rectifier circuit 14 includes four diodes 14a, b, c, d comprising a full wave bridge rectifier and an output capacitor 14e. Operation of the inverter of FIGS. 1 and 3 is illustrated in the time domain waveforms of FIG. 2. The current through the tank circuit 26 is illustrated in FIG. 2e.The output voltage pulse train of the base drive circuits 30, 36 applied to the bases of the transistors 18, 24, respectively, is illustrated in FIG. 2c. The complementary output voltage pulse train of the base drive circuits 32, 34 applied to the bases of the transistors 20, 22, respectively, is illustrated in FIG. 2d. The pulse width W of each of the pulse trains of FIGS. 2c, 2d is about equal to one half the resonant period T of the tank circuit 26 while the pulse repetition frequency is the switching frequency FAC. Operation of the inverter of FIG. 3 will now be described by simultaneous reference to FIGS. 2 and 3. At time tl, the base drive circuits 32, 34 apply a positive voltage FIG. 2d to the bases of the transistors 20, 22 respectively, causing the collector voltage of each of the transistors 20, 22 FIG. 2b to drop to a minimum. Meanwhile, the base drive circuits 30, 36 maintain the transistors 18, 24 off so that current flows in the direction designated in solid line in FIG. 3.The capacitor 26b begins to charge at time tl as the voltage VAc across it increases, as illustrated in FIG.2f. The current through the tank circuit 26 FIG. 2e follows a sinusoidal waveform from time tl to time t2 having a resonant period T determined by the lnductance of the inductor 26a and the capacitance of the capacitor 26b. The trailing edge of the base drive voltage waveform of FIG. 2d applied to the bases of the transistors 20, 22 occurs at time t2 upon a zero crossing of the tank circuit current of FIG. 2e. The transistors 20, 22 are thus turned off at time t2. Some current begins flowing in the opposite direction dashed line at time t2 through the diodes 52, 54 connected in parallel with the transistors 20, 22 respectively. The current flow through the diodes 52, 54 discharges the capacitor 26b, and continues either until the voltage across the capacitor 26b is equal to the supply voltage VDC or until time t3 when the transistors 18, 24 are turned on, whichever occurs first. The voltage VAC across the capacitor 26b therefore begins to decrease at time t2 as illustrated in FIG. 2f. At time t3 the base drive circuits 30, 36 apply a positive voltage FIG. 2c to the bases of the transistors 18, 24 respectively, turning these transistors on so that their collector voltages decrease to a minimum as illustrated in FIG. 2a. This increases tank circuit current flow in the opposite direction. Accordingly, the capacitor voltage VAC continues to decrease further as illustrated in FIG. 2f. The delay D between times t2 and t3 is determined by the switching frequency FAC, which in turn is determined by the selected reference voltage Vr, as described previously in connection with the feedback control loop of FIG. 1.If the output voltage V Dc were to exceed the reference voltage Vr, the delay D between time t2 and t3 would increase, while if the output voltage V Dc were to become less than the reference Vr, the delay D would decrease. The tank circuit current of FIG. 2e continues to increase after time t3 in the opposite direction indicated in dashed line FIG. 3, reaching a maximum and then decreasing until it reaches zero cross over current at time t4. At time tq, the voltage of the base drive circuits 30, 36 changes so that the transistors 18, 24 are turned off. The capacitor 26b then discharges through the diodes 50, 56 as current begins to flow in the first solid line direction. Thus, the capacitor voltage VAC begins to increase at time t4 as illustrated in FIG. 2f. At time t5, the base drive circuits 32, 34 apply a positive voltage to the bases of the transistors 20, 22, respectively, thus increasing the current flow through the tank circuit 26 in the first direction. This completes one cycle of the operation of the inverter ofFIG. 3. A C Synthesis While the invention has been described as generating an output DC voltage V DC through the rectifier circuit 14, the invention may also be used to perform AC sytlt esis, wherein the output from thc rectifier circuit 14 is Itself an AC voltage, V AC, instead of the DC voltage V Dc. This may be accomplished simply by sub stituting an AC reference voltage Vr AC for the constant reference voltage Vr. It is contemplated that AC synthesis may be performed by the present invention as long as the frequency of the synthesized AC voltage V Ac is on the order of one tenth of the switching frequency FAC. PREFERRED EMBODIMENT OF THE INVENT ION A circuit illustrated in FIGS. Lla and b was built embodying the invention illustrated in FIGS. 1 and 3.Table I gives the part number or component value of certain key elements of the circuit of FIGS. 4a and b.Values not indicated are within the user s aiscretion. TABLE I PART NUMbER OR ELEMENT COMPOt4ENT VALUE Base Drive Circuits 30,36 32,34 Shared Elements Primary Winding 116a 116b Resistor 119a 119b 5.6 kohms Transistor 126a 126b 2N2907 A Resistor 128a 128b 1 kohm Resistor 130a 130b 1.1 kohmBase Drive Circuits 30 32 34 36 Individual Elements Transistor 100a lOOb lOOc lOOd 2N5153 Resistor lOla 101b lOlc lOld 10 ohms Transistor 10.2a 102b 102c 102d 2N5326 Resistor 103a 103b 103c 103d 56 ohms Diode 104a 104b 104c 10LId 1N5806 Secondary Winding llOa 110b 110c 110d Secondary Winding 112a 112b 112c 112d Primary Winding 114a 114b 114c 114d TABLE I cont d PART NUMBER OR ELEMENT COMPONENT VALUEBase Drive Circuits 30 32 34 36 Resistor 118a 118b 118c 118d 1.2 kohms Diode 120a 120b 120c 120d 1N5806 Capacitor 122a 122b 122c 122d .1 farad Resistor 124a 124b 124c 124d 150 ohmsInverter Circuit 10 Transistors 18, 20, 22, 24 D60T each Diodes 106a, b, c, d IN5806 each Diodes 108a, b, c, d IN5806 each Capacitors 105a, b, c, d 100 pfarad each Secondary Windings 238a, b, c, d Primary Winding 134 NegativE Base Bias Supply 136 7 volts output Resistors 137a, b 0.1 ohm each Tank Circuit 26 Inductor 26a 80 phenries Capacitor 26b .12 faradTransformer 12 Primary Winding 144 Primary Winding 146 Secondary Winding 152 Secondary Winding 154Rectifier 14 Bridge Diodes 150a, b, d, c on5806 each Output Diodes 156 a, b lN5806 each Rectifying Capacitors 160a, b, c 60 farads each Zener Diode 162 Triac Switch 164 TABLE I cont d PART NUMBER OR ELEMENT COMPONENT VAL iF Averaging Network 46 Differential Amplifier 170 LM 358 Resistors 172, 174, 176 10 kohms each Differential Amplifier Compensating Network Capacitors 178, 180 Resistors 182, 184 Bias Resistor 186 51 ohms Filter Capacitor 188 1.0 A farad Variable Resistor 190 5 kohms maximum Diode 192Voltage To Frequency Converter 44 Integrated Circuit 200 4152 V F Resistors 202, 204 10 kohms each Resistor 206 91 kohms Resistor 208 20 kohms Resistor 210 510 kohms Resistor 212 200 kohms Resistor 214 20 kohms Capacitor 216 .001 farad Capacitor 218, 220 .01 farad each Zener Diode 222Pulse Generator 42 and Phase Splitter 40 Integrated Circuit 224 CD4013 Schmidt Trigger 226 .CD4093 Schmidt Trigger 228 CD4093 Schmidt Trigger 230 Cd4093 Transistor 235 2N2907A Transistor 240 2N290 Operation of the foregoing elements, including, the base drive circuits 30 36, the inverter circuit 10, the tank circuit 26, the transformer 12, the rectif er 14, the averaging network 6, the voltage to frequency converter LILI, the pulse generator 42 and the phase splitter 40 has already been described. However, it is instructive to consider the operation of the averaging network 46 in the preferred embodiment of FIGS. 4a and b. A voltage derived from the inverter output voltage V DC at the rectifier 14 is applied to the positive input of the differential amplifier 170 of the averaging network 116. This derived voltage is actually representative of the current flow through the inverter 10. The reference voltage Vr is selected at the variable resistor 194 and is applied to the negative terminal of the differential amplifier 170. The difference voltageVr V DC produced at the output of the differential amplifier 170 is integrated across the capacitor 178 and applied to the input of the voltage to frequency converter 1111. The positive and negative inputs of the differential amplifier 170 thus function as the subtraction node 60 ofFIG. 1. The circuit of FIGS. 4a and b also includes the following conventional devices an overcurrent amplifier 90, an overcurrent comparator 92, a recycle control 94 and an on off switch 96 having the components set forth in Table II below. TABLE I1 PART NUMBER OF O Overcurrent Amplifier 90 COMPOMENT VALISE Differential Amplifiers 90a, 90b I.C. 358 Resistors 252a, b 254a b 256a, b 10 kohms each Resistors 258a, b, 260a, b 20 kohms each Resistor 262 51 ohms Capacitor 264 1 faradOvercurrent Comparator 92 Differential Amplifier 92a I.C. 358 Resistors 270, 274 10 kohms each Variable Resistor 276 1 kohm max Resistor 278 1 oh Capacitor 280 1 farad Resistor 282 4.7 kohms Transistor 284 2N2222A Resistor 286 100 kohmsRecycle Control 94 Variable Resistor 194 5 kohms max Capacitor 196 28 farads Resistor 198 10 ohms Transistor 94a 2N2222A Resistor 94b 5.1 kohms Resistor 94c 1.0 kohmsOn Off Switch 96 Transistor 96a 2N2222A Resistor 96b 5.1 kohms Resistor 96c 1.0 kohm Current through the inverter circuit 10 flows through the series resistors 137a and b. The differential amplifiers 90a, 90b, sense the voltage difference across the two resistors 137a, b, respectively, and generate output voltages proportional to the inverter current flow through them.These output voltages are summed at the output of the overcurrent amplifier 90 and applied to the positive input of the differential amplifier 92a comprising the overcurrent comparator 92. A reference voltage selected at the variable resistor 276 is applied to the negative input of the differential amplifier 92a. The difference voltage generated by the differential amplifier 92a is applied to the input of the voltage to frequency converter 44. As a result, if the inverter current exceeds a level defined by the reference voltage from the variable resistor 276, the comparator 92 changes the input voltage applied to the voltage to frequency converter 44 so as to reduce the switching frequency FAC and the inverter current. The recycle control 94 and the on off switch 96 halt operation of the inverter 10 by applying a reference voltage of zero volts to the positive terminal of the differential amplifier 170 in the averaging network 46.