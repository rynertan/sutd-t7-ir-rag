# INTERFACE SYSTEM FOR A SERVO CONTROLLER

## Claims
Schnittstellensystem für die Kopplung einer numerischen Steuervorrichtung mit einer Vielzahl von Servomotoren, wobei das System ein Positionsbefehlssignal von einer numerischen Steuervorrichtung und vom jeweiligen Servomotor 13 zurückgekoppelte Daten derart zu verarbeiten imstande ist, daß die Servomotoren gesteuert werden, umfassend eine Steuerschaltung 15 auf der Seite der numerischen Steuervorrichtung zum Erzeugen von Steuersignalen für die Drehzahl und Position der Servomotoren, wobei die Steuerschaltung der Erzeugung von Steuersignalen für den Strom der Servomotoren dient,

## Description
The present invention relates to an interface system for a servo controller, operating between a servo system for driving a load such as a machine tool with a plurality of servomotors and a numerical control apparatus. Servomotors driven by command signals from a numerical control apparatus hereinafter referred to as an NC apparatus for accurately controlling a multi axis machine tool or the like have conventionally been controlled by an analog servo system. With the recent advance of computerized control technology, various efforts have been made efficiently to control a plurality of servomotors with a single control apparatus. GB A 2 014 333 discloses one such system and fig. 2 of the accompanying drawings is a block diagram of another such system with one proposed servomotor control circuit and driver circuit. A control circuit 1 on the side of an NC apparatus is connected to a system bus line of a servo control microprocessor servo CPU so that servo system operation can be determined. The control circuit 1 comprises a memory 2 for reading in a position command, an arithmetic unit 3 for processing the position command and a present position feedback signal and a positioning controller 4 for issuing a speed velocity command VCMD based on the result of the arithmetic operation. A speed control circuit 5 on the servomotor side includes an arithmetic unit 6 for processing the speed command VCMD and a speed feedback signal, a speed controller 7, a current loop processor 8, a current controller 9, and an alarm processing circuit 10. PWM signals from the current controller 9 are supplied through an isolating amplifier 11 to an inverter 12 composed of a transistor bridge for driving a servomotor 13 with a predetermined drive current. Designated at 14 is a detector such as a rotary encoder for detecting the speed and the present position of the servomotor. The control circuit 1 receives data such as a position command from the servo CPU connected through a common RAM to a main CPU in the form of a microprocessor which effects sequential processing, and is also supplied with the speed and present position data fed back from the servomotor, through an interface circuit coupled to a data bus of the servo CPU. The speed control circuit 5 which drives the inverter 12 connected to the servomotor 13 effects prescribed feedback control for the current and speed of the servomotor 13. There are as many servomotors 13 as the number of the axes of the machine tool to be controlled. Where DC servomotors are employed, four transistors of the driver circuit shown in Fig. 3 are driven by the PWM signals A to D from the speed control circuit 5. With a servo controller interface system of this type there are required as many speed control circuits 5 as the number of the axes of the machine tool to be servo controlled. For highly accurate servo control data must be transferred at a high speed between the NC apparatus and the speed control circuit 5 for the servomotor. Therefore the interface circuit is necessarily complex and maintenance of the hardware, among other things, connected to the servomotor is difficult to carry out. It is an object of the present invention to provide an interface system for a servo controller which effectively utilizes time sharing processing in digital control of servomotors for achieving multi axis time sharing control with a low cost servo controller of a simple circuit arrangement, without lowering the accuracy of the servo controller in the form of a microprocessor. According to the present invention, there is provided an interface system for interfacing a numerical control apparatus to a plurality of servomotors, the system being adapted to process a position command signal from a numerical control apparatus and data fed back from each servomotor so as to control the servomotors, and comprising a control circuit on the side of the numerical control apparatus for generating control signals for the speed and position of the servomotors, to be used in generating control signals for the current of the servomotors and driver circuits for each servo motor on the side of the servomotors, controllable by the control signals from the control circuit characterised in that the control circuit is arranged further to be supplied with each servomotor s current value and with speed data for each servomotor and from these to generate the said control signals on a time sharing basis for the current of each servomotor in that each driver circuit is composed of a plurality of switching elements and in that the interface system further comprises, for each servomotor, a servo amplifier circuit on the servomotor side, this circuit receiving the current control signals and comprising an isolating amplifier and an alarm processing circuit. With the interface system for a servo controller according to the present invention, the servo controller can easily be software implemented irrespective of the number of axes of the servo system to be servo controlled, and multiple axes can be controlled on a time sharing basis by a microprocessor, resulting in reduction of hardware. An embodiment of the present invention will hereinafter be described in specific detail with reference to the drawings, in which Fig. 1 is a block diagram of an embodiment of the present invention Fig. 2 is a block diagram of a conventional interface system for a servo controller and Fig. 3 is a diagram of a DC servomotor driver circuit. Fig. 1 is a block diagram of an embodiment of the present invention. A control circuit 15 comprises a memory 2 for reading in a position command, an arithmetic unit 3 for processing the position command and a present position feedback signal, a positioning controller 4 for issuing a speed command VCMD based on the result of the signal processing, an arithmetic unit 6 for processing the speed command VCMD and a speed signal that is fed back, a speed controller 7, a current loop processor 8, and a current controller 9. A servo amplifier circuit 16 on the side of a servomotor has an isolating amplifier 11 and an alarm processing circuit 10, and is connected to the control circuit 15 through a prescribed number of data lines 17. PWM signals A through D are supplied via the data lines 17 and the isolating amplifier 11 to an inverter 12 which serves as a driver circuit for a servomotor 13. The control circuit 15 for controlling the current, speed, and position of the servomotor 13 is disposed, together with a servo CPU, a main CPU, and a common RAM, on the side of an NC apparatus. Therefore, a local bus on the side of the servomotor can be coupled directly to a system bus of the main CPU. The inverter 12 need be composed of only final stage driver elements such as power transistors. Most of the complex control circuit elements may be disposed together on the NC apparatus, whereas only a minimum number of circuit elements such as the servo amplifier circuit 16 and the power transistor are disposed on the side of the servomotor. With the servo controller interface system thus arranged, a control mechanism which has hitherto been disposed on the servomotor side for current and speed control is disposed on the NC apparatus side. Therefore, even if the number of axes of the servo system is increased, data to be fed back therefrom may be stored in the common RAM connected to the system bus line of the servo CPU. As a result, the interface between the servo system and the NC apparatus is not complicated. Multiple axes can be controlled on a time sharing basis without impairing the accuracy of a servo controller in the form of a microprocessor. The present invention is not limited to the servo system employing a DC motor as described in the aforesaid embodiment, but is also applicable to a servo system employing an AC motor. As described above, the interface system for a servo controller according to the present invention allows the servo controller to be easily software implemented irrespective of the number of axes of the servo system to be servo controlled, and it also allows multiple axes to be controlled on a time sharing basis by a microprocessor, and can reduce hardware. Therefore, the interface system is preferably applied to robots and machine tools which are to be controlled with a high degree of accuracy.