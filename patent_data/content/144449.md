# METHOD AND APPARATUS OF MODULATING DIGITAL DATA AND OF DEMODULATING

## Claims
Verfahren zum Modulieren einer Datenbitfolge, die aus Bits besteht, von denen jedes einen ersten 1 oder zweiten 0 Status hat, wodurch im modulierten Signal Übergänge vorgesehen werden, um vorgegebene Bedingungen zu erfüllen, mit folgenden Schritten

## Description
The present invention relates to a method of modulating digital data which may be applied to the case where an information signal such as an audio signal or video signal is converted to a digital signal and is recorded on an optical disc or magnetic tape. In case of recording a digital information signal, a digital modulation called a channel coding is performed to raise a recording density on a recording medium and to reduce the DC component of a transmission signal. A Miller modulation is known as a conventional channel coding. However, the Miller modulation cannot reduce the DC component of the modulated output to zero. For example, in case of recording an audio PCM signal by a rotary head, a recording signal is transmitted through a rotary transformer. If the DC component is included in this recording signal, since the rotary transformer cannot transmit the DC component, there will be caused a problem such that the waveform of the recording signal is distorted. In the case where much low frequency components are included in the recording signal, it is needed to extend the frequency characteristic of the rotary transformer to a low frequency band. Further, in case of using a recording method whereby the crosstalk between the adjacent tracks is suppressed by making the extending directions of the gap of the recording head differ with regard to the adjacent tracks, the effect of suppressing the crosstalk with respect to the low frequency component of the recording signal becomes insufficient. In case of reproducting an optical disc whose surface is coated by a reflecting layer, DC noises are caused due to the dust adhered on the reflecting layer, scratch on the reflecting layer or the like. If the digital signal recorded on the disc includes no DC component, such DC noises can be eliminated by a filter. From the above viewpoint, it is required to reduce the DC component of the recording signal to zero. For this purpose, a modified Miller referred to as M² modulation has been proposed. Further, a modulating method referred to as M3 modulation of which the effect of suppressing the DC component was improved than the M² modulation has been proposed. In these M² and M3 modulating methods, the minimum transition interval of the modulated output is T where, T is a length of one bit cell and the maximum transition interval is 3T. It is desirable that the maximum transition interval, namely, the maximum value of the interval where the transition of a data value is caused is short in order to reduce the low frequency component and to improve the clock recovery capability in a reproducing circuit. A modified Miller modulation according to the preamble of claims 1 and 2 is discussed in the IBM Technical Disclosure Bulletin, Volume 21, No. 1, June 1978, pages 361 362. The proposed modification is to place a transition at the boundary between the 1 s in the sequence 0110 and not to place transitions in the cells corresponding to the n 1 th and n 2 th 1 s of sequences 0111....10 comprising an even number of successive 1 s. This code has no DC component but has a maximum distance between transitions of 3 bit cells. Further improvements of such a modified Miller modulation allowing to reduce the maximum distance between transitions to 2.5 bit cells are known from IBM Technical Disclosure Bulletin, Volume 24, No. 4, September 1981, pages 2055 2056 and the FR A 2 438 391. The present invention relates to a method of modulating binary digital data to reduce the DC component to zero. The object of the invention is to propose a digital modulating method and an corresponding apparatus which can shorten the maximum transition interval as compared with the cases of the M² modulation and M3 modulation. The object ob the invention is solved by the method of claim 1 or 2 and the apparatus of 4 or 5, respectively. A method and an apparatus for demodulating a signal modulated according to the method of claim 1 or 2 is contained in claims 3 and 6 In embodiments of the present invention, a first value is set to a logical 1 and a second value is set to a logical 0. This correspondence may be obviously changed. The first embodiment of the invention will now be described. In the first embodiment, the transition as the state transition is caused in accordance with the following rules a to d . The above rules a and b are known as the M modulation. If only the rules a and b are adopted, the DC component will be caused in case of the Therefore, the rule c makes even an even number of bits of 1 which are sandwiched by bits of 0 cause the DC component. According to the rules a , b and c , the maximum transition interval of 3T is caused. The rule d is therefore needed to prevent this. Fig. 1A shows a data bit series D Different from the invention, Fig. 1D shows the modulated output when the output was modulated due to the rules a , b and c . Since the modulated output of Fig. 1D until the bit cells to which the rule d is applied has the same waveform as the modulated output of Fig. 1B, this portion is omitted in the diagram. As will be obvious from Fig. 1D, the maximum transition interval of 3T is caused if the rule d is not applied. In the first embodiment of the present invention, the maximum transition interval can be shortened to 2.5T. The transition intervals that can be caused include four kinds of T, 1.5T, 2T, and 2.5T. In consideration of this point, A pattern which includes the transition interval of e.g., 3T can be used as a synchronizing pattern which is added to the modulated output. The second embodiment of the invention will then be explained. In the second embodiment, the transition is caused in accordance with the following rules a to d . The above rules a , b and c are the same as those in the first embodiment. An applicable range of the rule d is wider than that of the rule d in the first embodiment. As shown in Fig. 2C, either one of the modulation rules of a to d in the foregoing second embodiment is applied to a data bit series D In Fig. 2A, in the portion of the data bit series of 011011010 , since two bits of 1 are sandwiched by bits of 0, the transition is caused at the boundary portion of the mutual bit cells of two bits of 1 due to the rule c . Subsequently, the bit pattern of 01 follows, so that the rule d is applied to cause the transition at the central portion of the bit cell of bit of 0 between these two bits. Further, the rule c is applied to the bit pattern of 0110 including the pattern of 01 to cause the transition at the boundary portion of the mutual bit cells of two bits of 1. With respect to the last two bits 10 , the transition is caused at the central portion of the bit cell of bit 1. Consequently, the transition intervals become 1.5T, 1.5T, 1.5T, and T. In the waveform shown in Fig. 2D when the rule d is not applied, the transition intervals in the portion of the above mentioned data bit series become 3T and 2.5T. That is, the transition interval of 3T is divided into the two transition intervals of 1.5T, while the transition interval of 2.5T is divided into the transition intervals of 1.5T and T. As will be obvious from Figs. 2B and 2D, the DSV when an attention is paid to only this portion becomes 0.5 irrespective of whether the rule d is applied or not. In the second embodiment of the invention, the DC component can be set to zero and the maximum transition interval can be shortened to 2.5T. Further, as can be seen from Fig. 2B, the transition interval of 2.5T is not continuously caused in the second embodiment of the invention. Unless the rule d is applied, there will occur a case where the transition intervals of 2.5T continue as shown in Fig. 2D. In consideration of this point, in the second embodiment of the invention, the bit pattern in which the transition intervals of 2.5T continue can be employed as the synchronizing pattern. An example of a modulating circuit which is used to implement the modulating method according to the invention is shown in Fig. 3. The data bit series D The bit A 1 is inputted as a J input to a JK flip flop 4. The data of 1 is always given as a K input to the flip flop 4. When the J input of the flip flop 4 becomes 1 and a bit clock BC is applied thereto, the output of the flip flop 4 is inverted and when the J input becomes 0, the output becomes 0. The output of the flip flop 4 is synchronized with the bit A 0 . The toggle operation is performed in the interval when the successive bits of 1 which are sandwiched by bits of 0 are inputted therefore, the output OD 0 of the flip flop 4 becomes 1 in the case where the number of bits of 1 which are sandwiched by bits of 0 is an odd, while the OD 0 becomes 0 when it is even. The output of the flip flop 4 is supplied to the modulating logic 3. The modulating logic 3 is a combination circuit or ROM for producing a center transition signal C When the E On the other hand, the modulating logic 3 outputs a discriminating signal EV₁ 0 which is expressed by the following logical expression in order to cause the transition due to the modulation rule d . The discriminating signal EV₁ 0 is supplied to a three bits shift register 5 and to an input terminal 7A of a switching circuit 6. The switching circuit 6 has input terminals 7B and 7C also. The bit A 0 is supplied from the shift register 2 to the input terminal 7B and the input of 0 is always supplied to the input terminal 7C. The output of the switching circuit 6 and a discriminating signal EV₁ 3 which is delayed by amount of three bits by the shift register 5 are supplied to an AND gate 8. The output of the AND gate 8 is supplied to one input terminal of an OR gate 9. A center transition signal C When the modulation in the first embodiment of the invention is performed, the input terminal 7A of the switching circuit 6 is selected. The input terminal 7B is selected when the modulation in the second embodiment of the invention is performed. The input terminal 7C is selected when the modulation is performed on the basis of the modulation rules a , b and c excluding d . The center transition signal due to the modulation rule d in the first or second embodiment is fetched as the output of the AND gate 8. Since the input of 0 is always supplied to the input terminal 7C, the output of the AND gate 8 always becomes 0, so that the modulation rule d is not used. The shift register 12 performs the parallel to serial conversion and its serial output TG is inputted to a toggle flip flop 13. The output of the flip flop 13 is fetched as the modulated output D Fig. 4 shows time charts for this modulating circuit, in which Fig. 4A shows the clock 2BC having the period of 0.5T and Fig. 4B shows the clock BC having the period of T. Fig. 4 shows the signal waveform when the input data bit series D Therefore, as shown in Fig. 4C, three data bit series which are delayed by every period of T appear from the shift register 2 and the bits of A 2 , A 1 and A 0 are respectively included in these series. Fig. 4D shows a signal OD 0 which becomes 1 when the bit A 0 is 1 and the odd numbered bit of the successive bit of 1. Fig. 4E shows the center transition signal C The edge transition signal E When the first embodiment of the invention, i.e., the input terminal 7A of the switching circuit 6 is selected, the AND output of both EV₁ 0 and EV₁ 3 is supplied to the OR gate 9 together with the C In the second embodiment of the invention whereby the input terminal 7B of the switching circuit 6 is selected, the AND output of the delayed discriminating signal EV₁ 3 Fig. 4H and A 0 Fig. 4C is supplied to the OR gate 9, so that the output C Fig. 5 shows an arrangement of an example of a demodulating circuit. This demodulating circuit can be applied to any of the first embodiment, second embodiment and modulation using the modulation rules a , b and c of the invention. The reproduced modulated signal D This transition detecting signal is inputted to a shift register 26 and is subjected to the process for serial to parallel conversion, so that a two bit parallel signal is derived. The shift register 26 performs the shifting operation in response to the clock The two bit parallel outputs of the shift register 26 are delayed by amount of one bit by flip flops 29 and 30, respectively, and become a center transition signal C These center transition signal C The demodulating logic 36 is the combinational circuit or ROM which produces outputs on the basis of the following logical expressions. It will be obviously understood from the modulation rule b that the demodulated output D 0 becomes 1 when the C Thus, as shown in Fig. 6B, the center transition signal C As shown in Fig. 7A, the term of E Other various kinds of circuit arrangements than the above described arrangement are possible as the modulating and demodulating circuits.