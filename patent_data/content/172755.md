# AN APPARATUS FOR AN EFFICIENT CODING OF TELEVISION SIGNALS

## Claims
Vorrichtung für die effiziente Kodierung von Fernsehsignalen

## Description
The present invention relates to an apparatus for an efficient coding of television signals. As an efficient coding to reduce the number of bits per one pixel, a coding system between frames which performs a three dimensional, namely, a time spatial process is known. The coding system between frames include a system by way of a moving detection and a system by way of a moving correction. In the former system, the moving detection is performed on the basis of the presence or absence of the frame difference and only the portion where there is no frame difference namely, the portion where no movement exists is replaced by the data in the previous frame. In the latter system, the positional relation information moving correction amount between the present frame and the previous frame is obtained by way of a block matching method or the like, and the image in the previous frame is controlled on the basis of this moving correction amount and thereby deriving the correlation between the frames. The block matching method is a method whereby a screen is divided into a plurality of blocks and the moving amount and moving direction are obtained for every block and then these moving amount and moving direction are transmitted. The coding system between frames by way of the moving detection has problems such that, in case of general moving pictures, there are a lot of moving portions and the compression factor is low. On the other hand, the coding system between frames by way of the moving correction has drawbacks such that a distortion is caused due to the division into the blocks and the compression ratio is relatively low since the moving amount is transmitted for every block. Further, any of these systems has a drawback such that a problem of what is called an uncovered background such that the pixel data in the original region is extinguished when a moving object moves is caused. US 4,202,011 discloses an apparatus for coding television signals in which certain fields are not transmitted but instead the error between the data of the field and a simple interpolation from adjacent fields is sent. US 4,437,119 discloses an interface adaptive predictor system in which intra field, inter field and inter frame prediction process are performed and the results of the most accurate process or combination is transmitted. It is therefore an object of the present invention to provide an apparatus for an efficient coding which can realise an extremely large compression factor as compared with a conventional apparatus. Another object of the invention is to provide an apparatus for an efficient coding which can cope with various kinds of movements due to a plurality of moving objects by performing various kinds of movements due to a plurality of moving objects by performing various kinds of corrections in the direction of time. Still another object of the invention is to provide an apparatus for an efficient coding in which by performing various kinds of corrections in the direction of space, problems such as a faded edge portion, uncovered background and the like are not caused. According to the present invention there is provided The invention intends to predict the present movement from the pixel data in past several fields. The above and other objects, features and advantages of the present invention will be more apparent from the following detailed description in conjunction with the accompanying drawings. One embodiment of the present invention will now be described hereinbelow with reference to the drawings. Fig. 1 shows an arrangement of one embodiment of the present invention, namely, of a coding apparatus which is arranged on the transmission side. Fig. 2 shows an arrangement of a decoding apparatus which is arranged on the reception side. In Fig. 1, a reference numeral 1 denotes a parameter identifying section. The digital television signals digitized by a predetermined sampling frequency, namely, the image data in the present field k is inputted to the parameter identifying section 1. Also, the image data in the previous field k 1, the image data in the further previous field k 2, and the image data in the further previous field k 3 are inputted to the parameter identifying section 1. These image data are the prediction data and the parameter identifying section 1 identifies thirty five parameters w₁ to w₃₅ each consisting of, for example, eight bits for every one field using these prediction data and the data in the present field by way of a method of least squares. The parameter identifying section 1 includes a line delay circuit and a sample delay circuit to adjust the spatial positional relation. The parameters w₁ to w₃₅ identified by the parameter identifying section 1 are used as transmission data. The parameters w₁ to w₃₅ are parameters in the field k 1 which is delayed by one field with regard to the input data. A numeral 2 indicates a predicting section and 3, 4 and 5 denote field memories, respectively. The prediction data from the predicting section 2 are written into the field memories 3 to 5. The image data prediction data in the past three fields k 1, k 2 and k 3 before the field k 1 are stored in those memories. The predicting section 2 obtains the prediction value with respect to the present pixel using the thirty five prediction data and parameters w₁ to w₃₅ which are located near the pixel to be predicted and included in the past three fields. For this purpose, a plurality of line delay circuits and a plurality of sample delay circuits to adjust the spatial positional relation are also included in the predicting section 2. The prediction value regarding the pixel data Fig. 3A in the present field k is derived as a linear combination of the total thirty five pixel data consisting of the data Fig. 3B of ten pixels near the previous field k 1, data Fig. 3C of fifteen pixels near the further previous field k 2, and data Fig. 3D of ten pixels near the further previous field k 3. In Figs. 3A to 3D, the solid lines in the horizontal direction represent the lines which are scanned in the fields k and k 2. The broken lines in the horizontal direction indicate the lines which are scanned in the fields k 1 and k 3. It is assumed that the line at the location where the pixel data in the present field k is included is y, the line at the location over the line y is y 1, and the line at the position over the line y 1 is y 2. The lines at the locations under and below the line y are y 1 and y 2, respectively. In Figs. 3A to 3D, the solid lines in the vertical direction denote the sampling positions in each field. The sampling position which is one sampling before the sampling position x of the pixel data in the present field k is x 1, and the sampling position which is two samplings before the sampling position x is x 2, respectively. The sampling positions which are one and two samplings after the sampling position x are x 1 and x 2, respectively. The prediction data I and The parameter identifying section 1 identifies the parameters using the prediction data by way of a method of least squares. Namely, the true value I In this case, the highest precision can be derived by calculating the parameters w₁ to w₃₅ using all prediction pixels included in one field for instance, 800 x 255 prediction pixels in the case where 800 pixels exist in one line and one field consists of 255 lines by way of a method of least squares however, the circuit scale becomes large. Therefore, the parameters w₁ to w₃₅ are identified using a predetermined number of, for instance, three hundred thinned out representative pixels for every plurality of samples. On the other hand, in the peripheral portion of the screen where no data exists, as shown in Fig. 4, it is assumed that the same data as data a to h in the screen exist out of the screen and these data may be substituted. Or as indicated by the broken lines in Fig. 4, the identification may be performed in the region which is located one line and two samples inside the peripheral portion of the screen. As shown in Fig. 2, a decoding apparatus which receives the above mentioned coded transmission data comprises field memories 7, 8 and 9 and a predicting section 6 to which the received parameters w₁ to w₃₅ are Supplied and also the data in the past three fields are supplied from the field memories 7 to 9. The prediction data, namely, digital television signals are formed by the predicting section 6. To decode the digital television signals on the reception side, the initial data as many as three fields are transmitted prior to transmission of the parameters w₁ to w₃₅ and these initial data are written into the field memories 7 to 9, respectively. The pixel data in the past two fields may be used with respect to the present field and, in such a case, a constant speed kinetic model is expressed as a three dimensional kinetic model. The identification of the parameters w₁ to w₃₅ which is executed by the parameter identifying section 1 will then be explained hereinbelow with regard to one example using a method of least squares. The linear combination equation to calculate the prediction data I and If this determinant is expressed simply by use of a matrix and a vector, it will be where, On the other hand, a vector where, T is a transposed matrix. In this equation, the parameters In case of all m x n pixels in one field, a very large matrix of m x n, 35 is handled according to this equation, so that it is not practical. Therefore, the above equation is modified to a matrix and a vector of small orders and is processed. Namely, the matrix of 35, 35 of The above P and Q are formed from the prediction data in the past three fields which are supplied to the parameter identifying section 1. The parameters The present invention intends to predict the present motion from the pixel data in the past several fields therefore, there is no need to transmit the moving amount since each moving information of a plurality of moving objects is included in the pixel data. It is sufficient to transmit only the parameters coefficients for prediction for every one field. Thus, the averate number of bits per one pixel can be extremely reduced. In addition, according to the invention, since the moving correction is handled as a time dependent change of the level of each pixel, it can be integrally processed as a kinetic model such as a constant speed motion which is expressed by the data in the past two fields or a constant acceleration motion which is expressed by the data in the past three fields that does not depend on the direction or speed of the moving vector. Consequently, it is enough to merely and simply correct the deviation from the moving model and the compression factor can be raised due to the invention. On one hand, since the time dependent and spatial correction is executed three dimensionally, the problems such as block distortion, uncovered background and the like are not caused. Further, since the three dimensional kinetic model is expressed by way of a linear combination, the parameters can be identified at a high speed by a simpler hardware as compared with the case where it is expressed by way of a non linear high order combination.