# PMOS INPUT BUFFER COMPATIBLE WITH LOGIC INPUTS FROM AN NMOS MICROPROCESSOR

## Claims
Eingangspuffer einer integrierten MOS Schaltung mit Mitteln 12 zur Pegelverschiebung, die abhängig von logischen Eingangssignalen mit ausgewählten Spannungspegeln entsprechende Steuersignale mit verschobenen Spannungspegeln liefern, mit Schmitt Trigger Mitteln 20 mit ausgewählten Schwellenspannungen, die abhängig davon, daß die Steuersignale die Schwellenspannungen überschreiten, entsprechende Trigger Ausgangssignale mit Hysterese liefern, und mit Ausgangsmitteln 26 , die abhängig von den Trigger Ausgangssignalen Puffer Ausgangssignale liefern, die eine verbesserte Kompatibilität für ein Ansteuern ausgewählter Schaltungsmittel aufweisen, wobei die Mittel zur Pegelverschiebung MOS Transistormittel M1, M2 , die Spannungsteilermittel zum Liefern einer einen ausgewählten Pegel aufweisenden Referenzspannung bilden, zwei MOS Transistormittel M4, M6 , die ein Stromspiegelmittel bilden, MOS Transistormittel M3 , die durch die Referenzspanung vorgespannt sind, um erwünschte Strompegel in einem der Stromspiegel Transistormittel liefern, und zusätzliche MOS Transistormittel M5 aufweisen, die so angeschlossen sind, daß sie die logischen Eingangssignale an ihrer Gate Elektrode empfangen und auf die Stromspiegelmittel so ansprechen, daß gewährleistet wird, daß die entsprechenden Steuersignale mit den erwünschten, verschobenen Spannungspegeln geliefert werden.

## Description
The field of this invention is that of metal oxide semiconductor MOS integrated circuits, and the invention relates more particularly to a PMOS input buffer compatible with logic inputs from an NMOS microprocessor. Microprocessors implemented in NMOS integrated circuit technology are typically proposed for use in automotive control applications to meet the speed, complexity and cost requirements of such applications. However the LED or vacuum fluorescent display means and PMOS display driver means which are usually proposed for use in such automotive applications to meet the requirements of cost and sunlight conditions and the like have input requirements which are typically not compatible with the voltage levels of the logic signals provided by such NMOS microprocessor means. That is, conventional input buffer means are not adapted for use between the NMOS microprocessor and the associated PMOS circuit means. For example, the input signals provided by the NMOS microprocessor are referenced to the drain supply voltage so that a conventional input buffer utilizing a grounded source enhancement device and a saturated load with the Beta ratio adjusted for input voltage levels is found to be inappropriate. Similarly, known input buffer means utilizing differential amplifier means are found to provide very little gain and are also considered inappropriate. Accordingly relatively expensive CMOS buffer means and the like have been proposed for use to hermit the preferred microprocessor, display, and driver means to be employed together in automotive control applications. In the IBM Technical Disclosure Bulletin, Vol.22, No.8B, January 1980, pages 3638 3840, there is described an input buffer circuit having a level translating circuit feeding a Schmitt trigger. The level translations circuit comprises a common gate connected MOSFET fed by a constant current source which feeds a drive signal to a transistor of the Schmitt trigger. The current from the constant current source flows through the input terminal. The common source impedance of the Schmitt trigger is a transistor to which the drive signal is also applied. US Patent US A 4,379,974 describes a delay stage having a Schmitt trigger with a push pull buffer stage formed by two MOS transistors with their gates respectively directly connected to the gates of the transistors of the trigger. The transistors of the buffer stage are connected in series between the common source connection of the transistors of the trigger and the power supply conductor. It is an object of this invention to provide an improved input buffer means for connecting output logic signals from one circuit means to other circuit means requiring different logic signals. According to the present invention there is provided an MOS integrated circuit input buffer comprising level shifting means responsive to logic input signals at selected voltage levels for providing corresponding control signals at level shifted voltage levels, Schmitt trigger means having selected voltage thresholds and responsive to said control signals crossing the voltage thresholds for providing corresponding trigger output signals with hysteresis, and output means responsive to said trigger signals for providing buffer output signals having improved compatibility for driving selected circuit means, said level shifting means comprising MOS transistor means M1,M2 forming voltage divider means for providing a reference voltage at a selected level, a pair of MOS transistor means M4,M6 forming a current mirror means, MOS transistor means M3 biased by said reference voltage to provide desired current levels in one said current mirror transistor means, and additional MOS transistor means M5 connected to receive said logic input signals on its gate and responsive to said current mirror means for ensuring that said corresponding control signals are provided at desired level shifted voltage levels. The input buffer means to be described is implemented in PMOS integrated circuit technology so as to be compatible with the output voltage levels of logic signals provided by NMOS microprocessor means. The improved PMOS input buffer includes level shifting means responsive to the logic signals provided by the NMOS microprocessor means for providing corresponding logic signals at substantially improved voltage levels. Preferably the level shifting means are selected to be dependent on the level of the drain supply voltage provided in the input buffer for assuring that the desired level shifting is achieved during variations in drain supply voltage. One embodiment of the invention is a novel and improved input buffer for use between NMOS microprocessor means and integrated circuit means including PMOS display driver means and the like. The embodiment may be an improved input buffer compatible with logic inputs from NMOS and TTL microprocessor means which is characterized by low cost, by the use of a limited number of transistor means of relatively limited size, and by being adapted for use under the widely varying operating conditions typically associated with automotive control applications and the like under widely varying operating conditions such as might be encountered in automotive control applications. The improved input buffer further includes Schmitt trigger means arranged to be responsive to the level shifted input signals to provide desired hysteresis for improving noise suppression in the buffer. Preferably the Schmitt trigger means are arranged so that the thresholds of the trigger track the outputs of the level shifting means over the range of variation in the drain supply voltage of the buffer system. In the preferred embodiment of the invention, the output stages of the buffer include source follower means and the Schmitt trigger is arranged to be driven by the source follower means for achieving further improved speed characteristics in the buffer. The source follower means also serves to provide current gain and improved level shifting and in the preferred embodiment of this invention, the input buffer further includes an otherwise conventional push pull output stage for achieving further desired current gain. Other objects, advantages and details of the novel and improved input buffer of this invention appear in the following detailed description of preferred embodiments of the invention, the detailed description referring to the drawings in which Referring to the drawings, the novel and improved MOS integrated circuit of this invention is shown to comprise an input buffer 10 having voltage level shifting means 12 incorporated MOS transistors M₁ M₆. All PMOS transistors are illustrated in Fig. 1 but it should be understood that other circuit components can also be incorporated in the improved input buffer 10 within the scope of this invention. The channels of the transistors M₂ and M₁ are connected in series between the source and drain supply voltages V The channels of transistors M₄ and M₃ are also connected in series between the source and drain supply voltages. The gate of transistor M₃ is connected to node N₁. The drain of transistor M₄ is connected to the source of transistor M₃ to form the node N₂ as shown in Fig. 1 and that node N₂ is connected to the gate of transistor M₄. Both of the transistors M₃ and M₄ are enhancement type devices and are proportioned and arranged so that they are always on to provide a relatively limited level of current. The channels of transistors M₆ and M₅ are also connected in series between the source and drain supply voltages, both of those transistors being enhancement type devices. The gate of transistor M₅ is connected to the input 18 of the buffer which is typically provided by an NMOS microprocessor or a transistor transistor logic TTL circuit or the like. The gate of the transistor M₆ is connected to the node N₂ in common with the gate of transistor M₄ so that transistors M₄ and M₆ form a current mirror. The drain of transistor M₆ is connected to the source of transistor M₅ to form node N₃ as is shown in Fig. 1. Transistors M₃ M₆ all operate in the saturation region. In accordance with this invention, the level shifting means 12 cooperates with Schmitt trigger means 20 comprising the PMOS transistors M₇ M₁₂ and M₁₇ which provides the input buffer 10 with desired hysteresis. That is, the channels of transistors M₁₀ and M₉ are connected in series between the source and drain supply voltages as shown in Fig. 1. The gates of the transistors M₉ and M₁₀ are connected to the drain and source supply voltages respectively, preferably through a respective current limiting resistors 22 and 24 for protecting the input buffer against static electricity. The transistor M₉ is an enhancement type device and transistors M₁₀ and are depletion type devices and the drain of M₁₀ is connected to the source of M₉ to form the node N₅. Transistor M₁₇ has its drain and gate connected to node N₅ and its source connected to V In accordance with this invention, the input buffer 10 further includes the driver means 26 which preferably includes source follower, buffer means 28 comprising the transistors M₁₃ and M₁₄. The driver also includes an output stage 30 comprising the transistors M₁₅ and M₁₆. Preferably, the channels of transistors M₁₄ and M₁₃ are connected in series between the source and drain supply voltages. The drain of depletion device M₁₄ is connected to the source of enhancement device M₁₃ to form the node N₇ which is connected in common to the gate of transistor M₁₂ in the Schmitt trigger 20. The gate of transistor M₁₄ is connected to the source supply voltage, preferably through the static protection resistor 24 and the gate of transistor M₁₃ is connected to node N₄ in the Schmitt trigger. The two enhancement type transistors M₁₆ and M₁₅ are connected in push pull configuration between the source and drain supply voltages and the drain of transistor M₁₆ is connected to the source of transistor M₁₅ to form the output 34 of the buffer 10. The gate of transistor M₁₆ is connected to the node N₇ and the gate of transistor M₁₅ is connected to the node N₆ in the Schmitt trigger 20. As thus far described, the input buffer 10 is preferably arranged in an integrated circuit to receive logic signals from an NMOS microprocessor or the like. In a preferred embodiment of the invention where the buffer is used for driving PMOS circuit means including LED or vacuum fluorescent display means in an automotive control application for example, the source supply voltage V In one preferred embodiment of the invention, the PMOS transistors M₁ M₁₇ have widths and lengths W L in mils as set forth in Table I below With those characteristics, the input buffer 10 has the following input specifications That is, where the source supply voltage varies from 8 to 18 volts, the input buffer is adapted to be responsive to logic high input voltages varying from 3.5 volts to V As thus described, the buffer 10 provides level shifting, voltage and current gain, and desired hysteresis corresponding to the input specification as set forth above. In the level shifting means 12, the transistor M₂ is always saturated and serves as a current source while the transistor M₁ operates in the triode region and serves as a resistor, whereby a constant reference voltage V In accordance with this invention, the Schmitt trigger means 20 are further adapted to cooperate with the level shifting means 12 to assure proper operation of the buffer 10 over a wide range of operating conditions. Thus the thresholds V where I In that arrangement, transistors M₇ and M₈ form a first leg of the Schmitt trigger and transistors M₁₁ and M₁₂ form the second or alternate leg of the trigger which cooperate with transistors M₁₀ and M₁₇ to provide the trigger with selected hysteresis. The transistor M₉ then acts as a resistor to the drain supply voltage and adds some dependence on drain supply voltage to both of the thresholds of the Schmitt trigger without affecting the hysteresis provided by the Schmitt trigger for noise suppression purposes. In that way, the Schmitt trigger compensates to some extent for the V The final output stage 26 of the buffer 10 then cooperates with the Schmitt trigger 20 in providing desired output voltage and drive current capabilities as will be understood. That is, the transistors M₁₃ and M₁₄ serve as a source follower to provide current gain and some additional shift of voltage level at node N₇. The fairly large transistor M₁₂ in the Schmitt trigger is then driven by the source follower as illustrated in Fig. 1 to improve the propogation delay achieved by the Schmitt trigger. The transistors M₁₅ and M₁₆ are arranged in push pull configuration as shown and comprise a conventional buffer output stage. As thus described, the buffer 10 provides A.C. propagation delay V The data is given in nanoseconds for operation at 120 C. in both cases for the case where 1 V In use, the buffer 10 typically receives a logic input from an NMOS microprocessor or the like so that the input voltage V In that regard, transistors M₁ and M₂ are always on and serve as a voltage divider to provide a reference voltage V For example, when the input voltage V The transistors M₉ and M₁₀ are always on in the Schmitt trigger 20 and the transistor M₁₀ operates in the triode region to function as a resistor. There is accordingly a small current flowing in transistors M₉ and M₁₀ and M₉ applies a selected voltage bias to node N₅. Before transistor M₈ is turned off as noted above, a small current also flows in transistor M₇ and M₈ providing additional voltage at the node N₅ as will be understood. Then, when transistor M₁₂ is turned on as noted above, transistor M₁₁ has slightly less resistance than transistor M₇ and provides a positive feedback so that the voltage at node N₅ goes slightly toward V Conversely when the input voltage V In that way the input buffer 10 accomplishes the desired results and meets the desired input buffer specification utilizing a limited number of PMOS transistors of relatively limited size.