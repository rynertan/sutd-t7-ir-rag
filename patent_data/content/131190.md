# TEST APPARATUS FOR DIGITAL SPEECH INTERPOLATOR FOR USE IN TDMA SCHEME

## Claims
Vorrichtung zum Testen des Betriebs eines digitalen Sprachinterpolators in einer Sendestation und einer Empfangsstation in einer Zeitmultiplexanordnung mit Vielfachzugriff DSI TDMA , wobei die Vorrichtung eine Sendeeinrichtung und eine Empfangseinrichtung aufweist, in der die Sendeeinrichtung in der Sendestation aufweist

## Description
This invention relates to apparatus for testing the operation of a digital speech interpolator DSI for use in a time division multiple access TDMA scheme. The DSI used for speech lines requiring a relatively expensive transmission path, for example, a satellite communication or the like intends to efficiently utilize transmission lines by transmitting speech signals during only the speech activity time through the number of lines which is about half the speech lines. Regarding details of the DSI, reference should be made to in U.S.P. No. 4,002,841. Since the transmission lines are expensive, the DSI must be used as efficiently as possible, and is therefore required to have flexibility in establishing lines and to undergo less trouble or faulty time. When checking or testing whether the DSI is operating normally or not due to fault, especially, when checking whether the line connection establishment determining which channel of TDMA should be used to interconnect speech lines is correct or not, it has been the prior art practice to actually pass a speech signal through each channel. With such a method of checking, however, there are such defects that a long time is necessary for the check, and that automatic checking is difficult. It is an object of this invention to provide a novel test apparatus capable of automatically and instantaneously checking the operation state of the DSI. According to the present invention, there is provided an apparatus for testing the operation of a digital speech interpolator provided in a transmitting station and a receiving station in a time division multiple access scheme DSI TDMA , the apparatus comprising a transmitting unit and a receiving unit, wherein the transmitting unit on the transmitting station includes In the accompanying drawings The present invention is applicable to a satellite communication system as shown in Fig. 1. For example, 3000 stations 31 1, .... , 31 N N 3000 are involved in this communication system. According to this invention, each station comprises a transmission unit 32, a receiving unit 33, a DSI 34, a telephone set 35, and a switch unit 36. The transmission and receiving units 32 and 33 constitute a DSI test apparatus. Communications are performed between the stations by way of a satellite 30 which operates under a time division multiple access scheme in which 1000 channels, for example, constitute one frame. The number of channels on the satellite is 1 3 of the number of stations but the DSI permits communications between any combinations of the stations. The switch unit 36 normally connects the DSI 34 to the telephone set 35 in the normal communication mode but switches the DSI 34 to the DSI testing apparatus in the test mode. Thus, during the test mode, a test signal sent from the transmission unit of the test apparatus located in, for example, the first station 31 1 is received by the receiving unit of the test apparatus located in for example, the N th station 31 N by way of, for example, No. 1 channel of the satellite 30. The construction of the transmission unit 32 will first be described with reference to Fig. 2. As shown, the transmission unit 32 comprises a pseudo random code generator 1 including a random access memory RAM 1a having a capacity of 240 channels x 7 bits and a feedback shift register 1b. The pseudo random code approximates a speech signal and contains almost all the combinations of 1 and 0 so as to match various characteristics of the transmission path. Transmission unit further comprises a channel identifying signal generator 2 constituted by an address counter 2a and a parallel series converter 2b which converts a parallel bit channel address PCA outputted from the address counter 2a into a series bit channel address, a fixed pattern generator 3 generating a fixed pattern having a level lower than the detectable level of a voice detector, not shown, of the DSI, and a pseudo tone burst signal generator 4 generating a pseudo tone burst signal PSB for each channel in synchronism with a channel address PCA outputted from the address counter 2a. The fixed pattern approximates the absence of speech and is represented by an all 0 code. The pseudo tone burst signal approximates a typical speech pattern which contains, for example, 30 speech activity interval and 70 speech inactivity interval in succession. There is also provided a test signal generator 5 supplied with a pseudo random code PN from the feedback register 1b of the pseudo random code generator 1, a channel identifying signal CI from the channel identifying signal generator 2, and a fixed pattern FP from the fixed pattern generator 3. This test signal generator 5 delivers a time division multiplex test signal TS to the DSI 34 via the switch unit 36 under the control of a pseudo tone burst signal PSB from the pseudo tone burst signal generator 4. The concrete construction of the test signal generator 5 is as follows. More particularly, the generator 5 comprises a delay circuit 5a that delays the pseudo tone burst signal PSB by one frame, an inhibit gate 5b for producing a logical product of the pseudo tone burst signal PSB and a negated signal of the output from the delay circuit 5a, an AND gate 5c for controlling the channel identifying signal C1 with the output of the inhibit gate 5b, an AND gate 5d for controlling the pseudo random code PN in accordance with the output of the delay circuit 5a, and an inhibit gate 5e for controlling the fixed pattern FP in accordance with a negated signal of the output of the delay circuit 5a. The operation of the transmission unit 32 shown in Fig. 2 is as follows. The content of the address counter 2a is counted up by a channel clock pulse CC and reset by a frame signal F so as to supply the channel address PCA to the RAM 1a, pseudo tone burst signal generator 4 and parallel series converter 2b. The RAM 1a delivers the content a pseudo random code, one frame before of an address channel designated by the channel address PCA to the feedback shift register 1b. This feedback shift register 1b causes the read out random code PN one frame before to be subjected to a calculation in accordance with a bit clock pulse BC to supply its series output a pseudo random code PN to one input of the AND gate 5d. At the same time, the result of the arithmetic operation is restored in parallel in the RAM 1a. The pseudo tone burst generator 4 includes a feedback register, not shown, as one of its component elements. This feedback shift register is subjected to a calculation to provide the pseudo tone burst signal PSB which assumes a high level during each speech activity time. This pseudo tone burst signal PSB is read out for each channel by the channel address PCA. The pseudo tone burst signal PSB thus read out is applied to the test signal generator 5 to act as a control signal. In the test signal generator 5, the pseudo tone burst signal PSB is applied to the delay circuit 5a and to one input of the inhibit gate 5b. The pseudo tone burst signal PSB one frame before outputted from the delay circuit 5a is applied to the other input of the inhibit gate 5b. By the output of the inhibit gate 5b, the feedback shift register 1b is reset each time the tone burst rises. The output of the inhibit gate 5b is also applied to one input of the AND gate 5c which in turn outputs the channel identifying signal CI applied to the other input each time the tone burst rises. In accordance with the output of the delay circuit 5a, the AND gate 5d produces the pseudo random code PN generated by the pseudo random code generator 1 during the speech activity time. The inhibit gate 5e is responsive to the output of the delay circuit 5a to deliver out the fixed pattern FP outputted from the fixed pattern generator 3 during the speech inactivity time. The channel identifying signal CI from the AND gate 5c, the pseudo random code PN from the AND gate circuit 5d and the fixed pattern FP from the inhibit gate 5c are sent out, as a time division multiplex test signal TS, to the DSI from the test signal generator 5. The DSI receives the test signal TS and performs a DSI operation for each channel. Figs. 4a to 4d show a timing chart for explaining the operation of the DSI test apparatus. As shown in Fig. 4a, the time division multiplex test signal TS of 240 channels is sent to the DSI. As shown in Fig. 4b, the first channel signal of these multiplex signals is constituted by a fixed pattern FP, a channel identifying signal CI representing the first channel, a pseudo random code PN, and a fixed pattern FP which are generated in accordance with a pseudo tone burst signal PCB see Fig. 4C . The DSI of the first station see Fig. 1 assigns the first channel signal to the N th station, for example, by the digital signal interpolation through a medium satellite in the case of satellite communications under the TDMA scheme. The DSI of the N th station receives the first channel signal, which is sent to the receiving unit 33 of test apparatus in the N th station. Thus, the receiving unit receives a signal as shown in Fig. 4d corresponding to the test signal shown in Fig. 4b. The received signal of Fig. 4d is constituted by an all zero signal OS, a fixed pattern FP, a channel identifying signal CI representing the first channel, a pseudo random code PN, a fixed pattern FP, and an all zero signal OS. In the received signal, the fixed pattern FP, channel identifying signal CI, pseudo random code PN, and fixed pattern FP which are confined within a connection interval correspond to those in the test signal of Fig. 4b and are actually transmitted from the transmission unit through the communication line. The all zero signal OS confined within a disconnection interval is not transmitted from the transmission unit but is prepared in the receiving station. The connection interval is extended as compared to the interval of the sum of the channel identifying signal CI and pseudo random code PN in the test signal shown in Fig. 4b, including the preceding and succeeding fixed patterns FP. The start point P1 of the connection interval falls in the preceding fixed pattern FP in consideration of an initiation delay of the tone detector in the DSI, and the end point P2 falls in the succeeding fixed pattern FP because of a termination delay of the DSI tone detector. In the test signal of Fig. 4b, the pseudo random code PN is retarded to start with respect to the initiation or rising of the pseudo tone burst signal PSB, so that the termination point P3 of the code PN is displaced from the termination or falling of the burst signal PSB. The construction of the receiving unit 33 will now be described with reference to Fig. 3 in which circuit elements identifical to those shown in Fig. 2 are designated by the same reference characters. Thus, numeral 11 designates a series parallel converter which converts a received series signal into a parallel signal, 12 a pattern detector supplied with the output of the series parallel converter 11 for detecting a channel identifying signal CI, a fixed pattern FP and an all zero signal OS disconnection signal . Denoted by 13 is an output register which writes the result of detection of the pattern detector 12 into an address designated by a channel address PCA from an address counter 2a. Denoted by 14 is a comparator adapted to compare the output signal received signal of the series parallel converter 11 with the output of a pseudo random code generator 1. When the inputs to the comparator 14 are not coincident, the comparator 14 produces an output 1 indicative of transmission error. An accumulator 15 accumulates the 1 output of the comparator 14 transmission error every ten seconds. The value accumulated by the accumulator 15, for example, 250, 100 or 30 depending on the degree of transmission error, is written into the output register 13. The logic sum of the output of the pattern detector 12 is calculated by an OR gate 16 and its output controls the operation of the comparator 14 such that the comparator 14 is allowed to operate only at the pseudo random code PN. Since the receiving unit is constructed as described above, the state of connection of the DSI can be known by reading the content of the output register 13 for each address. As can be noted from the foregoing description, according to this ivention, it is possible to automatically and instantaneously check whether the DSI operates correctly or not.