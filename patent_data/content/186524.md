# LINE FILTER

## Claims
Leitungsfilter zur Verwendung in einer elektronischen Vorrichtung mit einer Wechselstrom Eingangseinheit und einer Schaltleistungsquelleneinheit, mit

## Description
The present invention relates to a line filter for reducing so called normal mode and common mode noise generated during the use of a switching power source unit. In general, when a switching power source is used as a power source unit for electronic equipment, so called conduction noise is generated, This conduction noise can cause operation failures in the electronic equipment. The conduction noise consists of two components common mode noise identical phase noise and normal mode noise differential noise . In conventional electronic equipment, a line filter as shown in Fig. 14 is connected to the input terminal of a switching power source unit to reduce these noise components. The IBM Technical Disclosure Bulletin Vol.23 No.12, May 1981, p. 5439 5440 discloses a similar filter in an arrangement using coupled choke coils and connected at the dc input side of a switching power source. Referring to Fig. 14, reference symbols LD₁ and LD₂ denote choke coils which comprise two insulated coils L₂ denotes a balun i.e., a balance to unbalance transformer type choke coil C In the line filter with the arrangement described above, the insulated coils LD₁ and LD₂ work with the X capacitors C When capacitances of the X capacitors C Fig. 15 is an equivalent circuit diagram prepared for explaining common mode noise in consideration of a load noise source and an equivalent impedance R for input lines L and N. Referring to Fig. 15, a reference symbol E The noise source voltage E In this case, since the impedance R is present at the line input side of the switching power source unit, the noise voltage E The noise voltage E Necessary attenuation must be guaranteed by increasing the inductance of the coil L₂. When the inductance of the coil L₂ is increased, its size increases accordingly, and this results in higher cost than would an increase in the capacitance of the Y capacitor. The noise voltage E It is an object of the present invention to provide a low cost line filter wherein the upper capacitance of a Y capacitor can be properly limited and common mode noise can be eliminated without increasing the size of a choke coil. It is another object of the present invention to provide a line filter which can effectively prevent leakage of common mode noise from a load through an input side. It is still another object of the present invention to provide a line filter wherein the leakage current is small and predetermined attenuation can be obtained. In order to achieve the above objects of the present invention, there is provided a line filter to be used in an electronic apparatus having an AC input unit and a switching power source unit, comprising a first choke coil inserted between lines at an input side of the line filter a second choke coil inserted between the lines at a load side of the line filter first Y capacitors inserted between the lines and ground at an output side of the first choke coil a first X capacitor inserted between the lines second Y capacitors inserted between the lines and ground at an output side of the second choke coil and a second X capacitor inserted between the lines at a load side of the second choke coil, wherein the first and second choke coils comprise baluns and the second choke coil has an inductance larger than that of the first choke coil. Fig. 1 is a circuit diagram of a line filter according to an embodiment of the present invention Figs. 2, 3, and 5 are equivalent circuit diagrams for the line filter in Fig. 1 Fig. 4 is a graph showing attenuation characteristics of the circuits in Figs. 2 and 3 Fig. 6 is a schematic diagram of an electronic apparatus as an application employing the line filter in Fig. 1 Figs. 7, 8, and 9 are block diagrams showing the circuit arrangement of the unit in Fig. 6 Figs. 10, 11, and 12 are circuit diagrams showing modifications of the circuits in Figs. 7 and 8 Fig. 13 is a circuit diagram showing a modification of the present invention Fig. 14 is a circuit diagram of a conventional line filter and Fig. 15 is an equivalent circuit diagram arranged in accordance with a main feature of the line filter in Fig. 14. A line filter according to an embodiment of the present invention will be described with reference to the accompanying drawings. Fig. 1 is a circuit diagram of a line filter according to an embodiment of the present invention. The same reference numerals in Fig. 1 denote the same parts as in Figs. 14 and 15. Referring to Fig. 1, a choke coil to be referred to as a balun hereinafter L₁ has a small distributed capacitance obtained by decreasing its inductance. A second balun L₂ has an inductance larger than that of the first balun L₁. X capacitors C Assume that the line filter in this embodiment is used together with a 50 kHz switching power source unit and that an attenuation of 100 dB is guaranteed against 50 kHz noise. As a result, the inductances and capacitances of the line filter must be set as follows The steps which led to the design of the line filter of this embodiment will be reviewed hereinafter. Since the line filter in Fig. 1 has both X and Y capacitors, both normal mode noise and common mode noise can be eliminated. As described above, normal mode noise can be easily eliminated, so common mode noise reduction will be concentrated on below. Figs. 2 and 3 show different filter circuits having Y capacitors C Referring to Figs. 2 and 3, a reference symbol E When an attenuation IL is defined as On the other hand, the filter in Fig. 3 has an attenuation IL ω given as In this case, if ω ω₁, the attenuation can be derived as follows The attenuation characteristics of the filter circuits of Figs. 2 and 3 will be described with reference to Fig. 4. Fig. 4 is a graph showing the results given by the equations described above for explaining the relationship between frequency and attenuation in the filters in Figs. 2 and 3. Referring to Fig. 4, a reference symbol D₂ denotes an attenuation characteristic curve of the filter in Fig. 2 and D₃, an attenuation characteristic curve of the filter in Fig. 3. The calculations were done for the filters under the following conditions As is apparent from Fig. 4, since the filter in Fig. 2 causes the attenuation of the choke coil L₂ to drop slightly, this filter is advantageous in guaranteeing attenuation in relatively low frequency ranges. When the capacitance C Since the core in the balun is not saturated by a differential current, a large inductance can be used for a noise voltage of an identical phase while a load current is flowing therethrough. However, a balun with a large inductance necessarily has a large number of turns and a large distributed capacitance. Such a balun cannot serve as a choke coil in the high frequency range cf 1 MHz to 30 MHz. As a result, attenuation may drop. In order to prevent this, the balun L₁ shown in Fig. 5 is added. The balun L₁ has a low inductance and a low distributed capacitance. The attenuation IL ω of the filter in Fig. 5 is given as The attenuation of the filter in Fig. 5 at different frequencies was calculated, and a combination of capacitances C In the case described above, the sum of the Y capacitors C When the inductances of the baluns are inverted, i.e., when L₁ 30 mH and L₂ 2 mH, and the capacitors C In this manner, when the inductance of the balun L₁ is significantly larger than that of the balun L₂, a lower peak of the attenuation IL occurs in the attenuation frequency band. Therefore, the inductance of the balun L₁ must be smaller than that of the balun L₂. The above test results provide the following conditions When the filter of this embodiment is connected to the primary coil of the switching power source unit, a smoothing capacitor is inserted in parallel with the primary coil. The capacitances of the X capacitors C In this embodiment, the capacitances of the capacitors C When the leakage inductances of the baluns L₁ and L₂ are increased, normal mode noise can be virtually eliminated by the X capacitor combination of C The balun leakage inductances are determined by the capacitance of the smoothing capacitor inserted at the primary coil side of the switching power source unit in the same manner as the capacitances of the X capacitors. In this embodiment, the leakage inductances are set by the predetermined mathematical expressions In the line filter in Fig. 1, when the baluns L₁ and L₂ are arranged adjacent to each other, a common mode noise current from the switching power source unit flows in the balun L₂. A magnetic flux is generated by the balun L₂ and is coupled to the balun L₁, thereby inducing a voltage at the balun L₁. The common mode noise current produced by the induction voltage causes a stray capacitance on the input side. As a result, common mode noise leaks outside the apparatus. An application for preventing common mode noise leakage will be described in detail with reference to Figs. 6 to 12. The same reference numerals in Figs. 6 to 12 denote the same parts as in Fig. 1. Fig. 6 shows an arrangement of an electronic apparatus with a line filter as an application of the present invention. Referring to Fig. 6, the electronic apparatus has a housing 1, a power cord 2 one end of which has a plug and the other end of which has a cord connector, 2a, an inlet 3 to be connected to the connector 2a, an AC input unit 4, a switching power source unit 6, a data processing unit 8, and internal wirings 5 and 7 for connecting the units. The AC input unit 4 is arranged near the inlet 3, through which a portion of the power cord 2 extends into the housing 1. The AC input unit 4 is thus separated from the switching power source unit 6. The two units are connected via the internal wiring 5. In the apparatus having the arrangement described above, the line filter in Fig. 1 is divided into front and rear stages. The front stage is mounted in the AC input unit 4, and the rear stage is mounted in the switching power source unit 6. The arrangement of the front stage will be described with reference to Fig. 7. In the front stage, a balun L₁ serves as a choke coil having a ring core and two coils with an identical phase. A capacitor C The arrangement of the rear stage will be described with reference to Fig. 8. In the rear stage, a balun L₂ serves as a choke coil having a ring core and two coils with an identical phase, just as the balun L₁. A capacitor C Since the rear stage is mounted in the switching power source unit, the arrangement of the switching power source unit will now be briefly described. A rectifier Rect rectifies an AC voltage to a DC voltage. The DC voltage is smoothed by a smoothing capacitor C The front and rear stages are connected via an internal wiring to obtain a line filter function. The operation of the line filter as an application of the present invention will be described with reference to Fig. 9. The common mode noise generated upon switching of the switching transistor Q Assume that common mode noise current components flowing from the ground connecting points E₂, E₃, and E₄ are defined as i From the noise attenuation behavior of the line filter, it is clear that the noise current components have the following relationship In this application, the path a network consisting of the switching power source unit and the Y capacitors C₃ and C₄ of the largest switching noise current i.e., i Furthermore, since the baluns L₁ and L₂ are spaced apart from each other at a predetermined distance, the magnetic flux from the balun L₂ due to the current i In the application described above, the switches S₁ and S₂ and the fuses F₁ and F₂ of the front stage are inserted between the resistor P and the output terminals of the front stage, but the application is not limited to that arrangement. For example, as shown in Fig. 10, the switches S₁ and S₂ and the fuses F₁ and F₂ may be inserted between the input terminals of the front stage and the balun L₁. In the application described above, the rear stage of the line filter is inserted between the input terminal of the rear stage and the rectifier Rect, as shown in Fig. 8. However, as shown in Fig. 11, the rear stage may be inserted between the rectifier Rect and the switching power source unit. In the application described above, the Y capacitors C₃ and C₄ and the X capacitor C In the line filter shown in Fig. 1, assume that a leakage current I In order to obtain a balun with such a high inductance, the number of turns in the winding must be increased, and the distributed capacitance can no longer be ignored. Therefore, the impedance is decreased in the low frequency range of 10 kHz to 1 MHz, thereby impairing filter functioning. In order to avoid this, the following arrangement is proposed as a modification of the present invention. Fig. 13 is a circuit diagram of a modification of the present invention designed to solve the above problem. The same reference numerals in Fig. 13 denote the same parts as in Fig. 1. Referring to Fig. 13, a choke coil L₁ is constituted by a balun with a small distributed capacitance obtained by decreasing its inductance. Choke coils L In the line filter having the arrangement described above, the inductances of the baluns L Furthermore, the total inductance of the baluns L Assume that the following values are given for the balun L₂ shown in Fig. 1 If the baluns L Distributed capacitances C In order to decrease the leakage current I Since the balun L₂ is divided into the baluns L In addition, the division of the balun L₂ into the baluns L According to the embodiment described above, the first and second choke coils are constituted by baluns, and the inductance of the second balun is larger than that of the first balun. Therefore, the total capacitance of the Y capacitors can be kept low, and common mode noise can be eliminated without increasing the size of the choke coil. According to the application of the present invention, the line filter is divided into a front stage containing the balun L₁ and a rear stage containing the balun L₂. The front stage is separated from the rear stage to prevent leakage of common mode noise from the load through the input terminals of the line filter. According to the modification of the present invention, the balun L₂ is divided into the baluns L