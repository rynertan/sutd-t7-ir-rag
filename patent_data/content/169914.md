# WELDING CONDITION CALCULATING SYSTEM FOR A WELDING ROBOT.

## Abstract
A welding condition calculation system for a welding robot has a numerical controller for controlling a welding robot 8 and a welder 7 , and a memory 2 which stores the order of calculation of a general equation of a given line found from an X value on a point Y 0 of the given line and from the inclination of the given line on a plane where input values of welding conditions are plotted along the X axis and instruction values to a digital to analog converter that gives instruction to said welder are plotted along the Y axis. Welding conditions input at the time of teaching the welding robot are substituted for the general equation stored in the memory 2 , and the thus found values are sent to the digital to analog converter.

## Claims
CLAIMS 1. A system for converting the welding conditions of a welding robot having a welding robot controlled by a numerical control unit and a welding machine controlled by said numerical control unit and equipped with a torch grasped by said welding robot, characterized in that said numerical control unit has a processor for processing welding condition input values applied thereto and for producing an output of the results of processing, a digital analog converter for converting a digital value produced as an output by said processor and for applying a command to said welding machine, and a memory for storing a calculation sequence of a general expression of a given straight line obtained from an X value of a point Y 0 on the given straight line and the slope of said given straight line on a plane in which said welding condition input value is plotted along the X axis and an output value delivered to said digital analog converter is plotted along the Y axis, wherein a value is obtained by substituting a welding condition input value, which is applied to said processor when the robot is taught, into the general expression stored in said memory, said processor adopting the value obtained as an output value to said digital analog converter. 2. A system for converting the welding conditions of a welding robot according to claim 1, characterized in that the welding condition input value is a welding voltage. 3. A system for converting the welding conditions of a welding robot according to claim 1, characterized in that the welding condition input value is a welding current.

## Description
DESCRIPTION SYSTEM FOR CONVERTING WELDING CONDITIONS OF WELDING ROBOTTechnical Field This invention relates to a welding robot and, more specifically, to a system for converting welding conditions in a welding robot having a robot controlled by a numerical control unit and a welding machine controlled by the numerical control unit and equipped with a torch grasped by the robot. More particularly, the invention relates to a system for converting welding voltage and welding current.Background Art Arc welding wherein an electric arc is continuously generated and the heat thereof utilized to join two metals has long been known. Recently, with the advancement of numerically controlled robots, welding robots in which such a welding operation is performed by a robot have come into practical use.Specifically, a welding robot is adapted to grasp the torch of a welding machine by a robot, move the hand of the robot in response to a command from a numerical control unit, move the torch along a welding path and perform a welding operation while the welding state is controlled by the numerical control unit. Before starting welding with a welding robot of this kind, the operator performs a so called teaching operation in which the welding robot is actuated manually to move the torch along a welding path, during which time the numerical control unit is made to memorize the path.Then, such welding conditions as the commanded value of welding voltage, the commanded value of welding current, the commanded value of preflow time and the commanded value of postflow time are fed into the numerical control unit from an operator s panel and set in the numerical control unit. In the conventional welding robot of the abovedescribed type, the welding voltage and welding current commands that the welding machine receives from the numerical control unit are digital command values produced by the numerical control unit and converted into analog values by a digital analog converter hereafter referred to as a D A . These analog values are applied to the welding machine. Fig. 1 is a view showing how the input signal to the D A is related to welding voltage applied as a welding condition input value to the numerical control unit NC . The welding voltage applied to the numerical control unit NC is plotted along the horizontal axis, and the input to theD A is plotted along the vertical axis.Ordinarily, the horizontal axis is divided into a scale of from 1 to 100 and the maximum value of welding voltage taken along the vertical axis is 200 V, which is decided by the three phase commercial supply voltage used. If the commanded value applied to the numerical control unit NC ranges from, say, 0 to 200 V, the relationship of the cdmmanded value to the D A input is 1 1, so that if 100 V is specified of the numerical control unit NC , a 100 V output is delivered to the D A. In other words, PARAMETER ANOCI 200 V D A input value from which we have PARAMETER ANOC1 E 200 200 1 so that the input signal to the D A has a 1 1 relationship with respect to the commanded value applied to the numerical control unit. If the commanded value applied to the numerical control unit ranges from, say, 0 to 50 V, we have PARAMETER ANOC1 200 50 4Thus, the parameter is an integer. However, if the commanded value applied to the numerical control unit ranges from, e.g., 0 to 60V, the parameter ANOC1 is not an integer and the conversion process is very troublesome. In addition, as shown in Fig. 1, the digital analog conversion characteristic cannot be provided with an offset characteristic.Disclosure of the Invention The present invention seeks to solve the aforementioned problem encountered in the prior art and its object is to provide a system for converting the welding conditions of a welding robot, in which a welding condition input value applied to the processor of a numerical control unit for controlling a welding robot and a welding machine can be converted smoothly and accurately and then applied as a command value to a digital analog converter for applying commands to the welding machine. According to the present invention, there is provided a system for converting the welding conditions of a welding robot having a welding robot controlled by a numerical control unit and a welding machine controlled by the numerical control unit and equipped with a torch grasped by the robot, the numerical control unit having a processor for processing welding condition input values applied thereto and for producing an output of the results of processing, a digital analog converter for converting a digital value produced as an output by the processor and for applying a command to the welding machine, and a memory for storing a calculation sequence of a general expression of a given straight line obtained from an X value of a point Y 0 on the given straight line and the slope of the given straight line on a plane in which the welding condition input value is plotted along the X axis and an output value delivered to the digital analog converter is plotted along the Y axis, wherein a value is obtained by substituting a welding condition input value, which is applied to the processor when the robot is taught, into the general expression stored in the memory, the processor adopting the value obtained as an output value to the digital analog converter. According to the present invention, the numerical control unit is adapted to specify, by means of the general expression, the relationship between a welding condition input value and a command value applied to the digital analog converter that applies commands to the welding machine. Therefore, irrespective of the employed range of welding condition input values, the input to the digital analog converter can be implemented smoothly and accurately. In addition, a welding condition input value applied to the numerical control unit can be provided with an offset in a simple manner. Brief Description of the Drawings Fig. 1 is a view showing how an input signal to a digital analog converter D A is related to welding voltage applied as a welding condition input value to a numerical control unit, Fig. 2 is a block diagram illustrating an embodiment of a welding robot control system for practicing the present invention, Fig. 3 is a characteristic diagram showing how an input signal to a digital analog converter D A is related to a range of welding voltages in one operating condition of a welding robot according to the present invention, Fig.4 is a view showing an actual example of an input value setting and welding voltage conversion operation, andFig. 5 is a characteristic diagram showing how an input signal to a digital analog converter D A is related to a range of welding currents in one operating condition of a welding robot according to the present invention.Best Mode for Carrying Out the Invention The present invention will now be described in detail based on an embodiment illustrated in Figs. 2 through 4. Fig. 2 is a block diagram illustrating an embodiment of a welding robot control system for practicing the present invention. In the Figure, the side to the right of the one dot chain line depicts a robot and a welding machine, and the side to the left of the one dot chain line shows a numerical control unit for controlling the robot and welding machine. In Fig. 2, numeral 1 denotes a processor CPU for controlling the overall numerical control unit and for performing processing in accordance with the instructions in a program, described below. Numeral 2 denotes a memory comprising a read only memory ROM for storing a control program which controls the numerical control unit, a program for processing, described below, and the like. Numeral 3 denotes a memory comprising a random access memory RAM for temporarily storing various data such as data taught to the robot and welding conditions. Numeral 4 denotes an operator s panel having numeric keys, function keys, character keys and the like used for teaching robot and welding motions and for feeding the robot manually as well as for entering various welding conditions. Numeral 5 designates a display unit for displaying present torch position, a program list and data.Numeral 6 denotes a digital analog converter D A for converting a digital command value received from the processor 1 into an analog command value and for delivering the latter to a welding machine 7. Numeral 8 represents a welding robot having a hand grasping a welding torch 9 of the welding machine 7. A welding operation is performed while the torch is moved on parent materials 10 in accordance with taught data. The motions of the welding robot will now be described. First, the operator places the robot in a manual operating mode and, using the operator s panel 4, causes position information to be stored in the RAM 3 while bringing the tip of a wire projecting from the end of the torch 9 to teach points at the welding location as the hand of the welding robot 8 is moved along a predetermined path. During this teaching operation, the operator naturally teaches the proper attitude of the torch 9, which is based on the welding position, at the same time. This operation is exactly the same as an ordinary robot teaching operation and need not be described here. Next, using the operator s panel 4, the operator inputs the contents of a series of activities, such as arc generation on off, welding current, welding voltage, welding velocity the job management method, thereby registering instructions. This ends the entire teaching operation via the numerical control unit.During the performance of the teaching operation, thedisplay unit 5 displays the present position of the torch 9, welding conditions and the like. The method of setting welding current and welding voltage will be described in detail later. When the welding robot is started following the completion of the teaching operation, the CPU 1, based on the control program stored in ROM 2, performs welding robot control processing by reading, one block at a time, robot command data and welding command data stored in the RAM 3. The method for setting welding voltage and welding current will now be described. Fig. 3 is a characteristic diagram showing how an input signal to the D A 6 is related to a range of welding voltages in one operating condition of a welding robot according to the present invention.Welding voltage applied to the numerical control unit is plotted along the horizontal axis X, and the input to the D A 6 is plotted along the vertical axis Y. A characteristic of this kind is peculiar to the particular welding machine and is presented by the manufacturer of the welding machine. Note that the output of the D A 6 has a maximum value of 10 V, which has been made to correspond to the maximum welding voltage, i.e., 200 V, of the welding machine. In Fig. 3, the 0 point on the X axis is designatedMINCOM and the maximum point MAXCOM. The point at which a straight line S intersects the X axis is designated a, and an arbitrary point on the straight line S is represented by P. Let b represent the X coordinate value of the point P, and let c represent the Y coordinate value thereof. Accordingly, we have min MINCOM MINCOM MAXCOM max MAXCOM . 1 and we let the following hold A MINCOM a . . . . . 2 B MINCOM b . . . . . 3 Then, from the slope of the straight line S, we obtain x y x B A c A y c x x A B A . 4 where MINCOM a, b MAXCOM 0 c 10.00 0 y 10.00When y 0 in Eq. 4 , we shall assume that y 0 holds.In y MAXY, we shall assme that y MAXY. A partitioning command unit along the X axis is expressed as follows MAXCOM MINCOM DIGZPll x DIV . . . . 5 where DIGZPll is a decimal number 1 or 10 or 100 or 1000 that will make the decimal point position of a three digit input value 1 , and DIV stands for the number of divisions between MAXCOM and MINCOM. The foregoing expressions 1 through 5 , the conditions of these expressions and their calculation sequence are all stored in the ROM 2 of the numerical control unit for controlling the welding robot according to the present invention. When numerical values are input for the various parameters set forth above in performing a teaching operation, the numerical values are temporarily stored in the RAM 3 and the CPU 1 reads in the values in accordance with the control program, after which the CPU performs calculations in accordance with the calculation sequence stored in ROM 2 and delivers a welding voltage command value to theD A 6. Next, an actual example of an input value setting and welding voltage conversion operation will be described with reference to Fig. 4. We will assume that the following data are entered from the operator s panel 4 when a teaching operation is carried out MINCOM 0 MAXCOM 500 a 40 b 420 c 200 DIGZPll 10 this indicates that the decimal point is located between the first and second digits from the right DIV 100 number of divisions of the input signal With the entry of these parameters, the setting unit 3 is as follows 2 MAXCOM MINCOM DIGZPll x DIV 500 0 10 x 100 0.5 VFurther, the output conversion expression is as follows y c x x A B A c x x MINCOM a b a 200 x tx 0 40 420 40 200 380 x x 40 Let the welding voltage used, which voltage is applied to the numerical control unit, be a commanded value of 20 V.We then have x 20 V x DIGZPll 20 x 10 200 and we obtain y 200 380 x 200 40 84.2 VFigures below the decimal are discarded. Hence, 84 V is applied to the D A 6. When 84 V is applied to D A 6, the output obtained from the output terminal of D A 6 is as follows V 84 x 10 200 4.2 V In a case where a fraction is input for the setting unit ss in applying the welding voltage to the numerical control unit, a remainder is discarded. For example, assume that 10.2 V is applied as the welding voltage when setting unit X 0.5 V. We will then have 10.2 s 10.2 0.5 20 ... remainder 2 The remainder 2 is discarded. The display unit displays 10 V, which follows from the fact that 20 x i 20 x 0.5 10 V Fig. 5 is a characteristic diagram showing how an input signal to the D A 6 is related to a range of welding currents in one operating condition of the welding robot. A general expression of the straight line S shown in the characteristic diagram is stored in the ROM 2 just as in the case of the welding voltage.When the welding current condition is applied to theCPU 1 in teaching the robot, the CPU 1 substitutes the welding current condition into the general expression stored in the ROM 2, performs the calculation and obtains a welding current command value for delivery to the D A 6, just as in the case of the welding voltage. Though the present invention has been described based on the illustrated embodiment, the invention is not limited to the illustrated embodiment but can be modified in various ways without departing from the scope of the claims.Industrial Applicability As described above, the present invention is so arranged that a numerical control unit for controlling a robot and a welding machine sets up a relation between a welding condition input value and a command value delivered to a digital analog converter that applies commands to the welding machine. Accordingly, the present invention is well suited for application to a welding robot for welding operations having various welding conditions.