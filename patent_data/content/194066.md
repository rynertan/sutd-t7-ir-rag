# VIDEO SIGNAL PROCESSING

## Claims
Verfahren zum Abbilden von digitalen Video Abtastwerten aus einer ersten Abtastdomäne A in einer zweiten Abtastdomäne B , die aus Abtastpositionen besteht, die mit Abtastpositionen der ersten Abtastdomäne A identisch sind, unter Verwendung einer Abbildungsfunktion, die eine Änderung der Bildgröße beeinhaltet

## Description
This invention relates to video signal processing, and more particularly, but not exclusively, to methods of and apparatus for digital video sample mapping. This technique is used, for example, in digital video effects units, in which digital television signals are manipulated to give special effects. Such special effects are now well known to television viewers, and enable images on the cathode ray tube of a television receiver to be, for example, off set moved in any direction , scaled expanded or compressed in size , rolled rotated in two or three dimensions, and so on. Such special effects can be generated by mapping video sample values from one sample domain to another with a dynamically changing mapping function. UK patent specification GB A 1 594 341 discloses a processing system capable of effecting relatively low speed scaling of an image using a technique similar to that used in a television standards converter. However, consider the example shown in Figure 1 of the accompanying drawings. In an input array A, sample values a A relatively simple solution to this problem is to use for each sample position in the output array B that sample value from the array B which is spatially nearest. Obviously this results in inaccuracies, and other more sophisticated solutions have been proposed, although these tend to involve complex calculations and to require a large amount of storage, particularly where more than one dimension is involved. Also, the previously proposed solutions tend not to operate satisfactorily where the mapping function is changing rapidly. UK patent specification GB A 2 119 594 discloses a video processing system having features corresponding to those of the pre characterizing parts of claim 1 and 9. According to the present invention there is provided a method of mapping digital video sample values from a first sample domain to a second sample domain consisting of sample positions identical with those of said first sample domain, using a mapping function which involves a change in image size, the method being characterized by, for each sample position in said second sample domain According to the present invention there is also provided apparatus for mapping digital video sample values from a first sample domain to a second sample domain consisting of sample positions identical with those of said first sample domain, using a mapping function which involves a change in image size, the apparatus being characterized by The invention will now be described by way of example with reference to the accompanying drawings, in which The embodiment to be described is for use in a digital video effects unit in which a digital television signal is manipulated to give special effects. The method involved will first be described, and then an apparatus for performing the method will be described. Many special effects which are required involve the image which is to be displayed on a cathode ray tube being expanded or compressed in size relative to an input image. In some cases movement, additional to the movement inherent in the expansion or compression, may be involved. The present invention is particularly concerned with special effects which involve compression in size of at least part of an image, this compression in size being effected by manipulation of the input image information, followed by storage of the manipulated information. The invention can also be applied to special effects which involve expansion in size, but in this case the input information is stored unchanged, and the necessary manipulation of the input information is done on reading out the stored information, because to do the manipulation before storage would unnecessarily increase the storage capacity required. The method will first be described as applied to a one dimensional compression. The top line in Figure 2 represents successive sample positions along a horizontal scan line of an input array A forming part of a first sample domain of a digital television signal. As the result of applying a mapping function selected to achieve the required special effect, the sample points a If the difference between successive sample positions in the input array A and the output array B are each taken as unity, then the addresses of the sample positions b Reference will now be made to Figure 3 which shows a portion of Figure 2 on an enlarged scale. In the input array A, the point a therefore the address of the sample value to be interpolated is As r In a practical case it is likely that two dimensional compression will be required, and it will be seen that the above method can readily be extended to a two dimensional case. It is possible to effect the necessary interpolation linearly in two stages using horizontally disposed sample positions as described above, and also vertically disposed sample positions. Preferably the interpolation is done in a single stage for both dimensions using sample values in a moving matrix of sample positions, and by multiplying the sample values by respective weighting coefficients and summing the resulting products, as in a television standards converter. The embodiment of apparatus according to the present invention will now be described with reference to Figure 4. The apparatus comprises an output memory 1, an address generator 2, a mapping function generator 3, a processor 4, a coefficient look up table device 5, and an interpolator 6. The output memory 1 can store data relating to one field of a video signal. It is assumed that the data, that is the sample values corresponding to each sample position in the field, are in the form of respective 8 bit words, and that each sample position in the field is designated by two 10 bit words used to identify the sample position in the horizontal and vertical, that is the X and Y, directions respectively. The address generator 2 generates successive addresses each in the form of two 10 bit words designating X and Y, and moreover, under the control of the mapping function generator 3, generates two 5 bit words respectively designating the residuals x Each address X, Y and the corresponding residuals x The coefficient look up table device 5 which may be a PROM supplies, for example, sixteen weighting coefficients to the two dimension interpolator 6, to which 8 bit input data words are also supplied. The coefficient look up table device 5 and the interpolator 6 together operate, generally in the manner of such elements in a television standards converter, to derive from a moving matrix of sixteen sample values from the current field at the sixteen sample positions nearest to the predicted position x The moving matrix of sixteen sample values has been assumed to correspond to the sixteen sample positions in one field and nearest to the predicted position x